"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(pages)/tunnel-management/page",{

/***/ "(app-pages-browser)/./app/(pages)/tunnel-management/page.jsx":
/*!************************************************!*\
  !*** ./app/(pages)/tunnel-management/page.jsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TunnelManagement)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/AppLayout */ \"(app-pages-browser)/./app/components/AppLayout.jsx\");\n/* harmony import */ var _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/common/Toaster */ \"(app-pages-browser)/./app/components/common/Toaster.jsx\");\n/* harmony import */ var _styles_pages_unified_platform_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../styles/pages/unified-platform.css */ \"(app-pages-browser)/./app/styles/pages/unified-platform.css\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/Save */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/ArrowBack */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowBack.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\nconst MATERIAL_TYPES = {\n    'BAGASSE': 'BAGASSE',\n    'WHEAT STRAW': 'WHEAT',\n    'PADDY STRAW': 'PADDY'\n};\nconst MATERIAL_DISPLAY_NAMES = {\n    'BAGASSE': 'Bagasse',\n    'WHEAT': 'Wheat Straw',\n    'PADDY': 'Paddy Straw'\n};\nconst API_BASE_URL = \"http://192.168.1.148:8000\";\nconst API_ENDPOINT = \"\".concat(API_BASE_URL, \"/tunnel-process-logs\");\nconst API_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/tunnel-process-logs/batch\");\nconst BATCH_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/batches\");\nconst STAGE_NAMES = [\n    \"Tunnel Process\"\n];\nconst createEmptySubstage = (name)=>({\n        name: name,\n        startDate: '',\n        startTime: '',\n        endDate: '',\n        endTime: '',\n        totalHours: '',\n        moisture: '',\n        temperature: '',\n        remarks: ''\n    });\nconst createEmptyBatch = function(batchNumber) {\n    let materials = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], batchId = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n    const materialTypes = materials.map((m)=>MATERIAL_TYPES[m]).filter(Boolean);\n    const materialDisplayNames = materialTypes.map((t)=>MATERIAL_DISPLAY_NAMES[t]);\n    const batch = {\n        id: batchId || Date.now(),\n        batchNumber: batchNumber,\n        materialTypes: materialTypes,\n        materialDisplayNames: materialDisplayNames,\n        batchData: null,\n        existingRecords: {},\n        substages: STAGE_NAMES.map((name)=>createEmptySubstage(name))\n    };\n    return batch;\n};\nconst parseDateTime = (datetime)=>{\n    if (!datetime) return {\n        date: '',\n        time: ''\n    };\n    try {\n        const date = new Date(datetime);\n        if (isNaN(date.getTime())) return {\n            date: '',\n            time: ''\n        };\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        const hours = String(date.getHours()).padStart(2, '0');\n        const minutes = String(date.getMinutes()).padStart(2, '0');\n        return {\n            date: \"\".concat(year, \"-\").concat(month, \"-\").concat(day),\n            time: \"\".concat(hours, \":\").concat(minutes)\n        };\n    } catch (error) {\n        console.error('Error parsing datetime:', error);\n        return {\n            date: '',\n            time: ''\n        };\n    }\n};\nconst fetchBatchData = async (batchId)=>{\n    try {\n        const response = await fetch(\"\".concat(API_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            if (response.status === 404) {\n                return {\n                    success: true,\n                    data: []\n                };\n            }\n            throw new Error(\"Failed to fetch tunnel data: \".concat(response.status));\n        }\n        const responseData = await response.json();\n        if (responseData.success && responseData.data) {\n            if (responseData.data.items && Array.isArray(responseData.data.items)) {\n                return {\n                    success: true,\n                    data: responseData.data.items\n                };\n            }\n            if (Array.isArray(responseData.data)) {\n                return {\n                    success: true,\n                    data: responseData.data\n                };\n            }\n        }\n        return {\n            success: true,\n            data: []\n        };\n    } catch (error) {\n        console.error(' Error fetching tunnel data:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst fetchBatchDetails = async (batchId)=>{\n    try {\n        const response = await fetch(\"\".concat(BATCH_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch batch details: \".concat(response.status));\n        }\n        const data = await response.json();\n        return {\n            success: true,\n            data\n        };\n    } catch (error) {\n        console.error(' Error fetching batch details:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst combineDateTime = (date, time)=>{\n    if (!date || !time) return null;\n    try {\n        const dateTimeStr = \"\".concat(date, \"T\").concat(time, \":00\");\n        const datetime = new Date(dateTimeStr);\n        if (isNaN(datetime.getTime())) return null;\n        return datetime.toISOString();\n    } catch (error) {\n        console.error('Error combining datetime:', error);\n        return null;\n    }\n};\nconst hasSubstageData = (substage)=>{\n    return substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.moisture || substage.temperature || substage.remarks;\n};\nconst hasCompleteData = (substages)=>{\n    const hasAnyData = substages.some((substage)=>substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.moisture || substage.temperature || substage.remarks);\n    if (!hasAnyData) {\n        return false;\n    }\n    for (const substage of substages){\n        if (substage.startDate && !substage.startTime) {\n            return false;\n        }\n        if (substage.startTime && !substage.startDate) {\n            return false;\n        }\n        if (substage.endDate && !substage.endTime) {\n            return false;\n        }\n        if (substage.endTime && !substage.endDate) {\n            return false;\n        }\n    }\n    return true;\n};\nconst convertToApiPayload = (batch, materialType, isCompleted)=>{\n    const substages = batch.substages;\n    const tunnelProcess = substages[0] || createEmptySubstage(\"Tunnel Process\");\n    const formatDateTime = (dateTimeStr)=>{\n        if (!dateTimeStr) return null;\n        try {\n            const date = new Date(dateTimeStr);\n            if (isNaN(date.getTime())) return null;\n            const year = date.getFullYear();\n            const month = String(date.getMonth() + 1).padStart(2, '0');\n            const day = String(date.getDate()).padStart(2, '0');\n            const hours = String(date.getHours()).padStart(2, '0');\n            const minutes = String(date.getMinutes()).padStart(2, '0');\n            const seconds = String(date.getSeconds()).padStart(2, '0');\n            return \"\".concat(year, \"-\").concat(month, \"-\").concat(day, \"T\").concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n        } catch (error) {\n            console.error('Error formatting datetime:', error);\n            return null;\n        }\n    };\n    const start_time = tunnelProcess.startDate && tunnelProcess.startTime ? combineDateTime(tunnelProcess.startDate, tunnelProcess.startTime) : null;\n    const end_time = tunnelProcess.endDate && tunnelProcess.endTime ? combineDateTime(tunnelProcess.endDate, tunnelProcess.endTime) : null;\n    const payload = {\n        batch_id: batch.id,\n        start_time: formatDateTime(start_time),\n        end_time: formatDateTime(end_time),\n        straw_type: materialType,\n        iscompleted: isCompleted,\n        tunnel_process: {\n            start_time: formatDateTime(start_time),\n            end_time: formatDateTime(end_time),\n            moisture: tunnelProcess.moisture ? parseFloat(tunnelProcess.moisture) : null,\n            temperature: tunnelProcess.temperature ? parseFloat(tunnelProcess.temperature) : null,\n            remarks: tunnelProcess.remarks || null\n        }\n    };\n    Object.keys(payload).forEach((key)=>{\n        if (payload[key] === null) {\n            delete payload[key];\n        } else if (typeof payload[key] === 'object' && payload[key] !== null && key !== 'batch_id' && key !== 'straw_type' && key !== 'iscompleted') {\n            Object.keys(payload[key]).forEach((subKey)=>{\n                if (payload[key][subKey] === null || payload[key][subKey] === undefined) {\n                    delete payload[key][subKey];\n                }\n            });\n            if (Object.keys(payload[key]).length === 0) {\n                delete payload[key];\n            }\n        }\n    });\n    return payload;\n};\nconst convertApiResponseToUI = (apiData, batch)=>{\n    if (!apiData || !Array.isArray(apiData) || apiData.length === 0) {\n        return batch;\n    }\n    const firstItem = apiData[0];\n    if (firstItem && batch.substages[0]) {\n        const tunnelData = firstItem.tunnel_process || firstItem;\n        if (tunnelData.start_time || firstItem.start_time) {\n            const startTime = tunnelData.start_time || firstItem.start_time;\n            const { date, time } = parseDateTime(startTime);\n            batch.substages[0].startDate = date;\n            batch.substages[0].startTime = time;\n        }\n        if (tunnelData.end_time || firstItem.end_time) {\n            const endTime = tunnelData.end_time || firstItem.end_time;\n            const { date, time } = parseDateTime(endTime);\n            batch.substages[0].endDate = date;\n            batch.substages[0].endTime = time;\n        }\n        if (batch.substages[0].startDate && batch.substages[0].startTime && batch.substages[0].endDate && batch.substages[0].endTime) {\n            const startDateTime = new Date(\"\".concat(batch.substages[0].startDate, \"T\").concat(batch.substages[0].startTime));\n            const endDateTime = new Date(\"\".concat(batch.substages[0].endDate, \"T\").concat(batch.substages[0].endTime));\n            const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n            batch.substages[0].totalHours = diffHours.toFixed(1);\n        } else if (tunnelData.duration_hours !== undefined && tunnelData.duration_hours !== null) {\n            batch.substages[0].totalHours = tunnelData.duration_hours.toString();\n        }\n        if (tunnelData.moisture !== undefined && tunnelData.moisture !== null) {\n            batch.substages[0].moisture = tunnelData.moisture.toString();\n        }\n        // Set temperature\n        if (tunnelData.temperature !== undefined && tunnelData.temperature !== null) {\n            batch.substages[0].temperature = tunnelData.temperature.toString();\n            console.log(\"\\uD83C\\uDF21ï¸ Set temperature: \".concat(tunnelData.temperature));\n        }\n        // Set remarks\n        if (tunnelData.remarks) {\n            batch.substages[0].remarks = tunnelData.remarks;\n            console.log(\"\\uD83D\\uDCDD Set remarks: \".concat(tunnelData.remarks));\n        }\n    }\n    console.log('âœ… Finished converting API data to UI');\n    return batch;\n};\nconst sendToApi = async (payload, materialType, displayName)=>{\n    try {\n        console.log(\"\\uD83D\\uDCE4 Sending data for \".concat(displayName, \":\"), payload);\n        const response = await fetch(API_ENDPOINT, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE for \".concat(displayName, \": Status \").concat(response.status));\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error('âŒ API Error Response:', errorData);\n            let errorMessage = \"API error: \".concat(response.status);\n            if (errorData.detail) {\n                if (typeof errorData.detail === 'string') {\n                    errorMessage = errorData.detail;\n                } else if (Array.isArray(errorData.detail)) {\n                    errorMessage = errorData.detail.map((err)=>err.msg).join(', ');\n                } else if (typeof errorData.detail === 'object') {\n                    errorMessage = JSON.stringify(errorData.detail);\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        console.log(\"âœ… SUCCESS for \".concat(displayName, \":\"), result);\n        return {\n            success: true,\n            data: result,\n            materialType,\n            displayName\n        };\n    } catch (error) {\n        console.error(\"âŒ ERROR sending \".concat(displayName, \" data:\"), error);\n        return {\n            success: false,\n            error: error.message,\n            materialType,\n            displayName\n        };\n    }\n};\nconst TunnelTable = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(_s((param)=>{\n    let { batch, onUpdate, readOnly = false } = param;\n    _s();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const validateDateRange = (substage, field, value)=>{\n        if (field === 'startDate' || field === 'startTime') {\n            if (substage.endDate && substage.endTime) {\n                const newStartDateTime = field === 'startDate' ? combineDateTime(value, substage.startTime) : combineDateTime(substage.startDate, value);\n                const endDateTime = combineDateTime(substage.endDate, substage.endTime);\n                if (newStartDateTime && endDateTime && new Date(newStartDateTime) > new Date(endDateTime)) {\n                    toast.error(\"Start date/time cannot be after end date/time\");\n                    return false;\n                }\n            }\n        } else if (field === 'endDate' || field === 'endTime') {\n            if (substage.startDate && substage.startTime) {\n                const startDateTime = combineDateTime(substage.startDate, substage.startTime);\n                const newEndDateTime = field === 'endDate' ? combineDateTime(value, substage.endTime) : combineDateTime(substage.endDate, value);\n                if (startDateTime && newEndDateTime && new Date(startDateTime) > new Date(newEndDateTime)) {\n                    toast.error(\"End date/time cannot be before start date/time\");\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const handleInputChange = (index, field, value)=>{\n        if (readOnly) return;\n        const updatedBatch = {\n            ...batch\n        };\n        const substage = updatedBatch.substages[index];\n        if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n            if (!validateDateRange(substage, field, value)) {\n                return;\n            }\n        }\n        substage[field] = value;\n        if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n            const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n            const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n            const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n            substage.totalHours = diffHours.toFixed(1);\n        }\n        onUpdate(updatedBatch);\n    };\n    const getMaterialsDisplay = ()=>{\n        if (batch.materialDisplayNames && batch.materialDisplayNames.length > 0) {\n            return batch.materialDisplayNames.join(' + ');\n        }\n        return 'Tunnel Process';\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"table-section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"table-title\",\n                children: [\n                    \"Tunnel Process - \",\n                    getMaterialsDisplay()\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                lineNumber: 407,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"entry-table-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                    className: \"entry-table unified-platform-table\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Substage\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 412,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"Start\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 413,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"End\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 414,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Total Hours\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 415,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Moisture (%)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 416,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Temperature (\\xb0C)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 417,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Remarks\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 418,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                    lineNumber: 411,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 421,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 422,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 423,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 424,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                    lineNumber: 420,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                            lineNumber: 410,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                            children: batch.substages.map((substage, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"substage-name\",\n                                            children: substage.name\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 430,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: substage.startDate || '',\n                                                onChange: (e)=>handleInputChange(index, 'startDate', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: substage.endDate || undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                                lineNumber: 432,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 431,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: substage.startTime || '',\n                                                onChange: (e)=>handleInputChange(index, 'startTime', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: substage.startDate === substage.endDate ? substage.endTime : undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                                lineNumber: 442,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 441,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: substage.endDate || '',\n                                                onChange: (e)=>handleInputChange(index, 'endDate', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: substage.startDate || undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                                lineNumber: 452,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 451,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: substage.endTime || '',\n                                                onChange: (e)=>handleInputChange(index, 'endTime', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: substage.startDate === substage.endDate ? substage.startTime : undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                                lineNumber: 462,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 461,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: substage.totalHours || '',\n                                                readOnly: true,\n                                                className: \"table-input hours-input\",\n                                                placeholder: \"Auto\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                                lineNumber: 472,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 471,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                value: substage.moisture || '',\n                                                onChange: (e)=>handleInputChange(index, 'moisture', e.target.value),\n                                                className: \"table-input moisture-input\",\n                                                placeholder: \"%\",\n                                                min: \"0\",\n                                                max: \"100\",\n                                                step: \"0.1\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                                lineNumber: 481,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 480,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                value: substage.temperature || '',\n                                                onChange: (e)=>handleInputChange(index, 'temperature', e.target.value),\n                                                className: \"table-input temperature-input\",\n                                                placeholder: \"\\xb0C\",\n                                                min: \"0\",\n                                                max: \"100\",\n                                                step: \"0.1\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                                lineNumber: 494,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 493,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: substage.remarks || '',\n                                                onChange: (e)=>handleInputChange(index, 'remarks', e.target.value),\n                                                className: \"table-input remarks-input\",\n                                                placeholder: \"Add remarks...\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                                lineNumber: 507,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                            lineNumber: 506,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                    lineNumber: 429,\n                                    columnNumber: 15\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                            lineNumber: 427,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                    lineNumber: 409,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                lineNumber: 408,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n        lineNumber: 406,\n        columnNumber: 5\n    }, undefined);\n}, \"WUU7e0p6AiTpvVrXhi50JBdcu+0=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast\n    ];\n}));\n_c = TunnelTable;\nTunnelTable.displayName = 'TunnelTable';\nfunction BatchSelection(param) {\n    let { onSelectBatch, loading, error, initialBatchNumber, initialBatchId } = param;\n    _s1();\n    const [batchNumber, setBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBatchNumber || '');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const hasLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BatchSelection.useEffect\": ()=>{\n            if (initialBatchNumber && !hasLoadedRef.current && !loading) {\n                setBatchNumber(initialBatchNumber);\n                handleLoadBatch(initialBatchNumber, initialBatchId);\n                hasLoadedRef.current = true;\n            }\n        }\n    }[\"BatchSelection.useEffect\"], [\n        initialBatchNumber,\n        initialBatchId,\n        loading\n    ]);\n    const getMaterialsFromBatch = (batchData)=>{\n        const materials = new Set();\n        if (batchData && batchData.formulation_entries) {\n            batchData.formulation_entries.forEach((entry)=>{\n                const materialName = entry.name.toUpperCase();\n                if (MATERIAL_TYPES[materialName] !== undefined) {\n                    materials.add(materialName);\n                }\n            });\n        }\n        return Array.from(materials);\n    };\n    const handleLoadBatch = async (batchNum, batchId)=>{\n        if (!batchNum.trim()) {\n            toast.error('Please enter a batch number');\n            return;\n        }\n        setIsLoading(true);\n        try {\n            console.log(\"\\uD83D\\uDD0D Fetching batch details for: \".concat(batchNum, \" with ID: \").concat(batchId || 'unknown'));\n            let selectedBatch = null;\n            let batchIdToUse = batchId;\n            if (batchIdToUse) {\n                const batchResponse = await fetch(\"\".concat(BATCH_FETCH_ENDPOINT, \"/\").concat(batchIdToUse));\n                if (batchResponse.ok) {\n                    const batchResult = await batchResponse.json();\n                    selectedBatch = batchResult.data || batchResult;\n                } else {\n                    const allBatchesResponse = await fetch(BATCH_FETCH_ENDPOINT);\n                    if (allBatchesResponse.ok) {\n                        const allBatchesResult = await allBatchesResponse.json();\n                        let batches = [];\n                        if (Array.isArray(allBatchesResult)) {\n                            batches = allBatchesResult;\n                        } else if (allBatchesResult.success) {\n                            batches = allBatchesResult.data;\n                        }\n                        selectedBatch = batches.find((b)=>b.id === batchIdToUse);\n                    }\n                }\n            } else {\n                const batchResponse = await fetch(BATCH_FETCH_ENDPOINT);\n                if (!batchResponse.ok) {\n                    throw new Error('Failed to fetch batches');\n                }\n                const batchResult = await batchResponse.json();\n                let batches = [];\n                if (Array.isArray(batchResult)) {\n                    batches = batchResult;\n                } else if (batchResult.success) {\n                    batches = batchResult.data;\n                }\n                selectedBatch = batches.find((b)=>b.batch_number === batchNum.trim());\n            }\n            if (!selectedBatch) {\n                toast.error('Batch number not found');\n                setIsLoading(false);\n                return;\n            }\n            console.log('âœ… Found batch:', selectedBatch);\n            const materials = getMaterialsFromBatch(selectedBatch);\n            if (materials.length === 0) {\n                toast.error('No suitable materials (Bagasse, Wheat Straw, or Paddy Straw) found in this batch');\n                setIsLoading(false);\n                return;\n            }\n            console.log(\"\\uD83D\\uDCCB Materials to process:\", materials);\n            const newBatch = createEmptyBatch(batchNum, materials, selectedBatch.id);\n            newBatch.batchData = selectedBatch;\n            console.log('ðŸ“Š Fetching tunnel data for batch ID:', selectedBatch.id);\n            const strawDataResult = await fetchBatchData(selectedBatch.id);\n            if (strawDataResult.success && strawDataResult.data && strawDataResult.data.length > 0) {\n                console.log('ðŸ“¦ Raw API data:', strawDataResult.data);\n                const populatedBatch = convertApiResponseToUI(strawDataResult.data, newBatch);\n                console.log('âœ… Populated batch:', populatedBatch);\n                onSelectBatch(populatedBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" with existing data (\").concat(materials.length, \" material\").concat(materials.length > 1 ? 's' : '', \")\"));\n            } else if (strawDataResult.success) {\n                console.log('ðŸ“­ No existing data found');\n                onSelectBatch(newBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" (\").concat(materials.length, \" material\").concat(materials.length > 1 ? 's' : '', \" - no existing data)\"));\n            } else {\n                console.log('âš ï¸ Failed to fetch existing data');\n                toast.warning(\"Loaded batch \".concat(batchNum, \" but failed to fetch existing data\"));\n                onSelectBatch(newBatch);\n            }\n        } catch (err) {\n            console.error('âŒ Error loading batch:', err);\n            toast.error('Error loading batch details. Please try again.');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"batch-selection\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Tunnel Management Process Entry\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                lineNumber: 660,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                lineNumber: 663,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"selection-panel\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"new-batch-section\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Enter Batch Number\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                            lineNumber: 670,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"batch-input-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    placeholder: \"Enter Batch Number (e.g., BATCH-001)\",\n                                    value: batchNumber,\n                                    onChange: (e)=>setBatchNumber(e.target.value),\n                                    className: \"batch-input\",\n                                    disabled: isLoading || loading\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                    lineNumber: 672,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleLoadBatch(batchNumber),\n                                    className: \"btn-primary\",\n                                    disabled: isLoading || loading,\n                                    children: isLoading || loading ? 'Loading...' : 'Load Batch'\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                    lineNumber: 680,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                            lineNumber: 671,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                    lineNumber: 669,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                lineNumber: 668,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n        lineNumber: 659,\n        columnNumber: 5\n    }, this);\n}\n_s1(BatchSelection, \"bSsv6SxcH5WNCl5iqtC1T5kE3FA=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c1 = BatchSelection;\nfunction TunnelManagementContent() {\n    var _currentBatch_materialDisplayNames;\n    _s2();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [currentBatch, setCurrentBatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchNumber, setInitialBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchId, setInitialBatchId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isSavingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"TunnelManagementContent.useEffect\": ()=>{\n            const batchNum = searchParams.get('batch');\n            const batchId = searchParams.get('batchId');\n            if (batchNum) {\n                setInitialBatchNumber(batchNum);\n                setInitialBatchId(batchId);\n            }\n        }\n    }[\"TunnelManagementContent.useEffect\"], [\n        searchParams\n    ]);\n    const handleSelectBatch = (batch)=>{\n        console.log('âœ… Setting current batch:', batch);\n        setCurrentBatch(batch);\n    };\n    const handleUpdateBatch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TunnelManagementContent.useCallback[handleUpdateBatch]\": (updatedBatch)=>{\n            setCurrentBatch(updatedBatch);\n        }\n    }[\"TunnelManagementContent.useCallback[handleUpdateBatch]\"], []);\n    const handleSave = async ()=>{\n        var _currentBatch_materialDisplayNames;\n        if (!currentBatch || isSavingRef.current) return;\n        console.log('\\n========== ðŸš€ SAVE STARTED ==========');\n        console.log(\"Batch: \".concat(currentBatch.batchNumber, \" (ID: \").concat(currentBatch.id, \")\"));\n        console.log(\"Materials: \".concat(((_currentBatch_materialDisplayNames = currentBatch.materialDisplayNames) === null || _currentBatch_materialDisplayNames === void 0 ? void 0 : _currentBatch_materialDisplayNames.join(', ')) || 'Unknown'));\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            if (!hasCompleteData(currentBatch.substages)) {\n                toast.info('No complete data to save. Please fill in all required fields.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            // Save for each material type in the batch\n            for (const materialType of currentBatch.materialTypes){\n                const displayName = MATERIAL_DISPLAY_NAMES[materialType];\n                console.log(\"\\n--- \\uD83D\\uDCDD Processing material: \".concat(displayName, \" ---\"));\n                const payload = convertToApiPayload(currentBatch, materialType, true);\n                if (payload && Object.keys(payload).length > 2) {\n                    hasAnyDataToSave = true;\n                    console.log(\"\\uD83D\\uDCE4 Making API call for \".concat(displayName));\n                    const result = await sendToApi(payload, materialType, displayName);\n                    results.push(result);\n                    if (result.success) {\n                        successCount++;\n                        toast.success(\"\".concat(displayName, \" data saved successfully!\"));\n                    } else {\n                        failCount++;\n                        toast.error(\"Failed to save \".concat(displayName, \" data: \").concat(result.error));\n                    }\n                } else {\n                    console.log(\"â­ï¸ No data to save for \".concat(displayName));\n                }\n            }\n            console.log('\\n========== ðŸ“Š SAVE SUMMARY ==========');\n            console.log(\"Total API calls attempted: \".concat(results.length));\n            console.log(\"âœ… Successful: \".concat(successCount));\n            console.log(\"âŒ Failed: \".concat(failCount));\n            console.log('=====================================\\n');\n            if (!hasAnyDataToSave) {\n                toast.info('No data to save.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            const allSuccess = results.every((r)=>r.success);\n            if (allSuccess) {\n                toast.success(\"All \".concat(successCount, \" material data saved successfully!\"));\n            } else {\n                toast.warning(\"\".concat(successCount, \" material(s) saved successfully, \").concat(failCount, \" failed\"));\n            }\n        } catch (error) {\n            toast.error('Failed to save batch data');\n            console.error('âŒ Save error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleBackToSelection = ()=>{\n        setCurrentBatch(null);\n        router.push('/tunnel-management');\n        setError(null);\n        setInitialBatchNumber(null);\n        setInitialBatchId(null);\n    };\n    if (!currentBatch) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            title: \"Tunnel Management\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"unified-platform-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BatchSelection, {\n                    onSelectBatch: handleSelectBatch,\n                    loading: loading,\n                    error: error,\n                    initialBatchNumber: initialBatchNumber,\n                    initialBatchId: initialBatchId\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                    lineNumber: 814,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                lineNumber: 813,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n            lineNumber: 812,\n            columnNumber: 7\n        }, this);\n    }\n    const materialsDisplay = ((_currentBatch_materialDisplayNames = currentBatch.materialDisplayNames) === null || _currentBatch_materialDisplayNames === void 0 ? void 0 : _currentBatch_materialDisplayNames.join(' + ')) || 'Unknown';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Tunnel Management\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"unified-platform-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"entry-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-left\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleBackToSelection,\n                                    className: \"back-button\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                        lineNumber: 834,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                    lineNumber: 833,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: currentBatch.batchNumber\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                    lineNumber: 836,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-count\",\n                                    children: [\n                                        \"(\",\n                                        materialsDisplay,\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                    lineNumber: 837,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                            lineNumber: 832,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-actions\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSave,\n                                className: \"btn-save\",\n                                disabled: loading,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        fontSize: \"small\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                        lineNumber: 847,\n                                        columnNumber: 15\n                                    }, this),\n                                    loading ? 'Saving...' : 'Save'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                                lineNumber: 842,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                            lineNumber: 841,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                    lineNumber: 831,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TunnelTable, {\n                    batch: currentBatch,\n                    onUpdate: handleUpdateBatch,\n                    readOnly: false\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n                    lineNumber: 854,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n            lineNumber: 830,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n        lineNumber: 829,\n        columnNumber: 5\n    }, this);\n}\n_s2(TunnelManagementContent, \"fN98z1Elz4TM8uKmJFaagiXk7ig=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = TunnelManagementContent;\nfunction TunnelManagement() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.ToastProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TunnelManagementContent, {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n            lineNumber: 867,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\tunnel-management\\\\page.jsx\",\n        lineNumber: 866,\n        columnNumber: 5\n    }, this);\n}\n_c3 = TunnelManagement;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"TunnelTable\");\n$RefreshReg$(_c1, \"BatchSelection\");\n$RefreshReg$(_c2, \"TunnelManagementContent\");\n$RefreshReg$(_c3, \"TunnelManagement\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocGFnZXMpL3R1bm5lbC1tYW5hZ2VtZW50L3BhZ2UuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUN3RTtBQUNYO0FBQ1Y7QUFDdUI7QUFDekI7QUFFRDtBQUNVO0FBRTFELE1BQU1ZLGlCQUFpQjtJQUNyQixXQUFXO0lBQ1gsZUFBZTtJQUNmLGVBQWU7QUFDakI7QUFFQSxNQUFNQyx5QkFBeUI7SUFDN0IsV0FBVztJQUNYLFNBQVM7SUFDVCxTQUFTO0FBQ1g7QUFFQSxNQUFNQyxlQUFlQywyQkFBK0I7QUFDcEQsTUFBTUcsZUFBZSxHQUFnQixPQUFiSixjQUFhO0FBQ3JDLE1BQU1LLHFCQUFxQixHQUFnQixPQUFiTCxjQUFhO0FBQzNDLE1BQU1NLHVCQUF1QixHQUFnQixPQUFiTixjQUFhO0FBRTdDLE1BQU1PLGNBQWM7SUFDbEI7Q0FDRDtBQUVELE1BQU1DLHNCQUFzQixDQUFDQyxPQUFVO1FBQ3JDQSxNQUFNQTtRQUNOQyxXQUFXO1FBQ1hDLFdBQVc7UUFDWEMsU0FBUztRQUNUQyxTQUFTO1FBQ1RDLFlBQVk7UUFDWkMsVUFBVTtRQUNWQyxhQUFhO1FBQ2JDLFNBQVM7SUFDWDtBQUVBLE1BQU1DLG1CQUFtQixTQUFDQztRQUFhQyw2RUFBWSxFQUFFLEVBQUVDLDJFQUFVO0lBQy9ELE1BQU1DLGdCQUFnQkYsVUFBVUcsR0FBRyxDQUFDQyxDQUFBQSxJQUFLMUIsY0FBYyxDQUFDMEIsRUFBRSxFQUFFQyxNQUFNLENBQUNDO0lBQ25FLE1BQU1DLHVCQUF1QkwsY0FBY0MsR0FBRyxDQUFDSyxDQUFBQSxJQUFLN0Isc0JBQXNCLENBQUM2QixFQUFFO0lBRTdFLE1BQU1DLFFBQVE7UUFDWkMsSUFBSVQsV0FBV1UsS0FBS0MsR0FBRztRQUN2QmIsYUFBYUE7UUFDYkcsZUFBZUE7UUFDZkssc0JBQXNCQTtRQUN0Qk0sV0FBVztRQUNYQyxpQkFBaUIsQ0FBQztRQUNsQkMsV0FBVzVCLFlBQVlnQixHQUFHLENB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Ozs7Ozs7Ozs7Ozs7Ozs7OEJBTS9CLDhEQUFDckM7b0JBQ0NsRyxPQUFPOEs7b0JBQ1AxRSxVQUFVbUY7b0JBQ1ZsRixVQUFVOzs7Ozs7Ozs7Ozs7Ozs7OztBQUtwQjtJQXhLU3dFOztRQUNRbk4sc0RBQVNBO1FBQ1ZJLGdFQUFRQTtRQUNESCw0REFBZUE7OztNQUg3QmtOO0FBMEtNLFNBQVMyQjtJQUN0QixxQkFDRSw4REFBQzNPLHFFQUFhQTtrQkFDWiw0RUFBQ2dOOzs7Ozs7Ozs7O0FBR1A7TUFOd0IyQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxBZG1pblxcRG93bmxvYWRzXFxicml0aXNoYWdyby1hZG1pbi1wYW5lbFxcYnJpdGlzaGFncm9cXGFwcFxcKHBhZ2VzKVxcdHVubmVsLW1hbmFnZW1lbnRcXHBhZ2UuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcclxuaW1wb3J0IEFwcExheW91dCBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9BcHBMYXlvdXRcIjtcclxuaW1wb3J0IHsgVG9hc3RQcm92aWRlciwgdXNlVG9hc3QgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9jb21tb24vVG9hc3RlclwiO1xyXG5pbXBvcnQgXCIuLi8uLi9zdHlsZXMvcGFnZXMvdW5pZmllZC1wbGF0Zm9ybS5jc3NcIjtcclxuXHJcbmltcG9ydCBTYXZlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1NhdmUnO1xyXG5pbXBvcnQgQXJyb3dCYWNrSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Fycm93QmFjayc7XHJcblxyXG5jb25zdCBNQVRFUklBTF9UWVBFUyA9IHtcclxuICAnQkFHQVNTRSc6ICdCQUdBU1NFJyxcclxuICAnV0hFQVQgU1RSQVcnOiAnV0hFQVQnLFxyXG4gICdQQUREWSBTVFJBVyc6ICdQQUREWSdcclxufTtcclxuXHJcbmNvbnN0IE1BVEVSSUFMX0RJU1BMQVlfTkFNRVMgPSB7XHJcbiAgJ0JBR0FTU0UnOiAnQmFnYXNzZScsXHJcbiAgJ1dIRUFUJzogJ1doZWF0IFN0cmF3JyxcclxuICAnUEFERFknOiAnUGFkZHkgU3RyYXcnXHJcbn07XHJcblxyXG5jb25zdCBBUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMO1xyXG5jb25zdCBBUElfRU5EUE9JTlQgPSBgJHtBUElfQkFTRV9VUkx9L3R1bm5lbC1wcm9jZXNzLWxvZ3NgO1xyXG5jb25zdCBBUElfRkVUQ0hfRU5EUE9JTlQgPSBgJHtBUElfQkFTRV9VUkx9L3R1bm5lbC1wcm9jZXNzLWxvZ3MvYmF0Y2hgO1xyXG5jb25zdCBCQVRDSF9GRVRDSF9FTkRQT0lOVCA9IGAke0FQSV9CQVNFX1VSTH0vYmF0Y2hlc2A7XHJcblxyXG5jb25zdCBTVEFHRV9OQU1FUyA9IFtcclxuICBcIlR1bm5lbCBQcm9jZXNzXCJcclxuXTtcclxuXHJcbmNvbnN0IGNyZWF0ZUVtcHR5U3Vic3RhZ2UgPSAobmFtZSkgPT4gKHtcclxuICBuYW1lOiBuYW1lLFxyXG4gIHN0YXJ0RGF0ZTogJycsXHJcbiAgc3RhcnRUaW1lOiAnJyxcclxuICBlbmREYXRlOiAnJyxcclxuICBlbmRUaW1lOiAnJyxcclxuICB0b3RhbEhvdXJzOiAnJyxcclxuICBtb2lzdHVyZTogJycsXHJcbiAgdGVtcGVyYXR1cmU6ICcnLFxyXG4gIHJlbWFya3M6ICcnXHJcbn0pO1xyXG5cclxuY29uc3QgY3JlYXRlRW1wdHlCYXRjaCA9IChiYXRjaE51bWJlciwgbWF0ZXJpYWxzID0gW10sIGJhdGNoSWQgPSBudWxsKSA9PiB7XHJcbiAgY29uc3QgbWF0ZXJpYWxUeXBlcyA9IG1hdGVyaWFscy5tYXAobSA9PiBNQVRFUklBTF9UWVBFU1ttXSkuZmlsdGVyKEJvb2xlYW4pO1xyXG4gIGNvbnN0IG1hdGVyaWFsRGlzcGxheU5hbWVzID0gbWF0ZXJpYWxUeXBlcy5tYXAodCA9PiBNQVRFUklBTF9ESVNQTEFZX05BTUVTW3RdKTtcclxuICBcclxuICBjb25zdCBiYXRjaCA9IHtcclxuICAgIGlkOiBiYXRjaElkIHx8IERhdGUubm93KCksXHJcbiAgICBiYXRjaE51bWJlcjogYmF0Y2hOdW1iZXIsXHJcbiAgICBtYXRlcmlhbFR5cGVzOiBtYXRlcmlhbFR5cGVzLCBcclxuICAgIG1hdGVyaWFsRGlzcGxheU5hbWVzOiBtYXRlcmlhbERpc3BsYXlOYW1lcywgXHJcbiAgICBiYXRjaERhdGE6IG51bGwsXHJcbiAgICBleGlzdGluZ1JlY29yZHM6IHt9LFxyXG4gICAgc3Vic3RhZ2VzOiBTVEFHRV9OQU1FUy5tYXAobmFtZSA9PiBjcmVhdGVFbXB0eVN1YnN0YWdlKG5hbWUpKVxyXG4gIH07XHJcblxyXG4gIHJldHVybiBiYXRjaDtcclxufTtcclxuXHJcbmNvbnN0IHBhcnNlRGF0ZVRpbWUgPSAoZGF0ZXRpbWUpID0+IHtcclxuICBpZiAoIWRhdGV0aW1lKSByZXR1cm4geyBkYXRlOiAnJywgdGltZTogJycgfTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGV0aW1lKTtcclxuICAgIGlmIChpc05hTihkYXRlLmdldFRpbWUoKSkpIHJldHVybiB7IGRhdGU6ICcnLCB0aW1lOiAnJyB9O1xyXG4gICAgXHJcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcoZGF0ZS5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGU6IGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWAsXHJcbiAgICAgIHRpbWU6IGAke2hvdXJzfToke21pbnV0ZXN9YFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBkYXRldGltZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRlOiAnJywgdGltZTogJycgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBmZXRjaEJhdGNoRGF0YSA9IGFzeW5jIChiYXRjaElkKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0ZFVENIX0VORFBPSU5UfS8ke2JhdGNoSWR9YCk7XHJcbiAgICBcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCB0dW5uZWwgZGF0YTogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIFxyXG4gICAgaWYgKHJlc3BvbnNlRGF0YS5zdWNjZXNzICYmIHJlc3BvbnNlRGF0YS5kYXRhKSB7XHJcbiAgICAgIGlmIChyZXNwb25zZURhdGEuZGF0YS5pdGVtcyAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlRGF0YS5kYXRhLml0ZW1zKSkge1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3BvbnNlRGF0YS5kYXRhLml0ZW1zIH07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzcG9uc2VEYXRhLmRhdGEpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzcG9uc2VEYXRhLmRhdGEgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCcgRXJyb3IgZmV0Y2hpbmcgdHVubmVsIGRhdGE6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZmV0Y2hCYXRjaERldGFpbHMgPSBhc3luYyAoYmF0Y2hJZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBVENIX0ZFVENIX0VORFBPSU5UfS8ke2JhdGNoSWR9YCk7XHJcbiAgICBcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggYmF0Y2ggZGV0YWlsczogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJyBFcnJvciBmZXRjaGluZyBiYXRjaCBkZXRhaWxzOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNvbWJpbmVEYXRlVGltZSA9IChkYXRlLCB0aW1lKSA9PiB7XHJcbiAgaWYgKCFkYXRlIHx8ICF0aW1lKSByZXR1cm4gbnVsbDtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0ZVRpbWVTdHIgPSBgJHtkYXRlfVQke3RpbWV9OjAwYDtcclxuICAgIGNvbnN0IGRhdGV0aW1lID0gbmV3IERhdGUoZGF0ZVRpbWVTdHIpO1xyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oZGF0ZXRpbWUuZ2V0VGltZSgpKSkgcmV0dXJuIG51bGw7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRldGltZS50b0lTT1N0cmluZygpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb21iaW5pbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFzU3Vic3RhZ2VEYXRhID0gKHN1YnN0YWdlKSA9PiB7XHJcbiAgcmV0dXJuIHN1YnN0YWdlLnN0YXJ0RGF0ZSB8fCBzdWJzdGFnZS5zdGFydFRpbWUgfHwgc3Vic3RhZ2UuZW5kRGF0ZSB8fCBzdWJzdGFnZS5lbmRUaW1lIHx8IFxyXG4gICAgICAgICBzdWJzdGFnZS5tb2lzdHVyZSB8fCBzdWJzdGFnZS50ZW1wZXJhdHVyZSB8fCBzdWJzdGFnZS5yZW1hcmtzO1xyXG59O1xyXG5cclxuY29uc3QgaGFzQ29tcGxldGVEYXRhID0gKHN1YnN0YWdlcykgPT4ge1xyXG4gIGNvbnN0IGhhc0FueURhdGEgPSBzdWJzdGFnZXMuc29tZShzdWJzdGFnZSA9PiBcclxuICAgIHN1YnN0YWdlLnN0YXJ0RGF0ZSB8fCBzdWJzdGFnZS5zdGFydFRpbWUgfHwgc3Vic3RhZ2UuZW5kRGF0ZSB8fCBzdWJzdGFnZS5lbmRUaW1lIHx8IFxyXG4gICAgc3Vic3RhZ2UubW9pc3R1cmUgfHwgc3Vic3RhZ2UudGVtcGVyYXR1cmUgfHwgc3Vic3RhZ2UucmVtYXJrc1xyXG4gICk7XHJcbiAgXHJcbiAgaWYgKCFoYXNBbnlEYXRhKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIGZvciAoY29uc3Qgc3Vic3RhZ2Ugb2Ygc3Vic3RhZ2VzKSB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmICFzdWJzdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnRUaW1lICYmICFzdWJzdGFnZS5zdGFydERhdGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2UuZW5kRGF0ZSAmJiAhc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzdWJzdGFnZS5lbmRUaW1lICYmICFzdWJzdGFnZS5lbmREYXRlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5jb25zdCBjb252ZXJ0VG9BcGlQYXlsb2FkID0gKGJhdGNoLCBtYXRlcmlhbFR5cGUsIGlzQ29tcGxldGVkKSA9PiB7XHJcbiAgY29uc3Qgc3Vic3RhZ2VzID0gYmF0Y2guc3Vic3RhZ2VzO1xyXG4gIGNvbnN0IHR1bm5lbFByb2Nlc3MgPSBzdWJzdGFnZXNbMF0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlR1bm5lbCBQcm9jZXNzXCIpO1xyXG5cclxuICBjb25zdCBmb3JtYXREYXRlVGltZSA9IChkYXRlVGltZVN0cikgPT4ge1xyXG4gICAgaWYgKCFkYXRlVGltZVN0cikgcmV0dXJuIG51bGw7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVRpbWVTdHIpO1xyXG4gICAgICBpZiAoaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSByZXR1cm4gbnVsbDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICAgIGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3QgaG91cnMgPSBTdHJpbmcoZGF0ZS5nZXRIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBjb25zdCBtaW51dGVzID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBjb25zdCBzZWNvbmRzID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fVQke2hvdXJzfToke21pbnV0ZXN9OiR7c2Vjb25kc31gO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZm9ybWF0dGluZyBkYXRldGltZTonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHN0YXJ0X3RpbWUgPSAodHVubmVsUHJvY2Vzcy5zdGFydERhdGUgJiYgdHVubmVsUHJvY2Vzcy5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUodHVubmVsUHJvY2Vzcy5zdGFydERhdGUsIHR1bm5lbFByb2Nlc3Muc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBcclxuICBjb25zdCBlbmRfdGltZSA9ICh0dW5uZWxQcm9jZXNzLmVuZERhdGUgJiYgdHVubmVsUHJvY2Vzcy5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHR1bm5lbFByb2Nlc3MuZW5kRGF0ZSwgdHVubmVsUHJvY2Vzcy5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuXHJcbiAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgIGJhdGNoX2lkOiBiYXRjaC5pZCxcclxuICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKHN0YXJ0X3RpbWUpLFxyXG4gICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKGVuZF90aW1lKSxcclxuICAgIHN0cmF3X3R5cGU6IG1hdGVyaWFsVHlwZSxcclxuICAgIGlzY29tcGxldGVkOiBpc0NvbXBsZXRlZCxcclxuICAgIHR1bm5lbF9wcm9jZXNzOiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKHN0YXJ0X3RpbWUpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoZW5kX3RpbWUpLFxyXG4gICAgICBtb2lzdHVyZTogdHVubmVsUHJvY2Vzcy5tb2lzdHVyZSA/IHBhcnNlRmxvYXQodHVubmVsUHJvY2Vzcy5tb2lzdHVyZSkgOiBudWxsLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogdHVubmVsUHJvY2Vzcy50ZW1wZXJhdHVyZSA/IHBhcnNlRmxvYXQodHVubmVsUHJvY2Vzcy50ZW1wZXJhdHVyZSkgOiBudWxsLFxyXG4gICAgICByZW1hcmtzOiB0dW5uZWxQcm9jZXNzLnJlbWFya3MgfHwgbnVsbFxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIE9iamVjdC5rZXlzKHBheWxvYWQpLmZvckVhY2goa2V5ID0+IHtcclxuICAgIGlmIChwYXlsb2FkW2tleV0gPT09IG51bGwpIHtcclxuICAgICAgZGVsZXRlIHBheWxvYWRba2V5XTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBheWxvYWRba2V5XSA9PT0gJ29iamVjdCcgJiYgcGF5bG9hZFtrZXldICE9PSBudWxsICYmIGtleSAhPT0gJ2JhdGNoX2lkJyAmJiBrZXkgIT09ICdzdHJhd190eXBlJyAmJiBrZXkgIT09ICdpc2NvbXBsZXRlZCcpIHtcclxuICAgICAgT2JqZWN0LmtleXMocGF5bG9hZFtrZXldKS5mb3JFYWNoKHN1YktleSA9PiB7XHJcbiAgICAgICAgaWYgKHBheWxvYWRba2V5XVtzdWJLZXldID09PSBudWxsIHx8IHBheWxvYWRba2V5XVtzdWJLZXldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGRlbGV0ZSBwYXlsb2FkW2tleV1bc3ViS2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBheWxvYWRba2V5XSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgZGVsZXRlIHBheWxvYWRba2V5XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gcGF5bG9hZDtcclxufTtcclxuXHJcbmNvbnN0IGNvbnZlcnRBcGlSZXNwb25zZVRvVUkgPSAoYXBpRGF0YSwgYmF0Y2gpID0+IHtcclxuICBpZiAoIWFwaURhdGEgfHwgIUFycmF5LmlzQXJyYXkoYXBpRGF0YSkgfHwgYXBpRGF0YS5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiBiYXRjaDtcclxuICB9XHJcblxyXG4gIGNvbnN0IGZpcnN0SXRlbSA9IGFwaURhdGFbMF07XHJcbiAgXHJcbiAgaWYgKGZpcnN0SXRlbSAmJiBiYXRjaC5zdWJzdGFnZXNbMF0pIHtcclxuICAgIFxyXG4gICAgY29uc3QgdHVubmVsRGF0YSA9IGZpcnN0SXRlbS50dW5uZWxfcHJvY2VzcyB8fCBmaXJzdEl0ZW07XHJcbiAgICBcclxuICAgIGlmICh0dW5uZWxEYXRhLnN0YXJ0X3RpbWUgfHwgZmlyc3RJdGVtLnN0YXJ0X3RpbWUpIHtcclxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gdHVubmVsRGF0YS5zdGFydF90aW1lIHx8IGZpcnN0SXRlbS5zdGFydF90aW1lO1xyXG4gICAgICBjb25zdCB7IGRhdGUsIHRpbWUgfSA9IHBhcnNlRGF0ZVRpbWUoc3RhcnRUaW1lKTtcclxuICAgICAgYmF0Y2guc3Vic3RhZ2VzWzBdLnN0YXJ0RGF0ZSA9IGRhdGU7XHJcbiAgICAgIGJhdGNoLnN1YnN0YWdlc1swXS5zdGFydFRpbWUgPSB0aW1lO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAodHVubmVsRGF0YS5lbmRfdGltZSB8fCBmaXJzdEl0ZW0uZW5kX3RpbWUpIHtcclxuICAgICAgY29uc3QgZW5kVGltZSA9IHR1bm5lbERhdGEuZW5kX3RpbWUgfHwgZmlyc3RJdGVtLmVuZF90aW1lO1xyXG4gICAgICBjb25zdCB7IGRhdGUsIHRpbWUgfSA9IHBhcnNlRGF0ZVRpbWUoZW5kVGltZSk7XHJcbiAgICAgIGJhdGNoLnN1YnN0YWdlc1swXS5lbmREYXRlID0gZGF0ZTtcclxuICAgICAgYmF0Y2guc3Vic3RhZ2VzWzBdLmVuZFRpbWUgPSB0aW1lO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoYmF0Y2guc3Vic3RhZ2VzWzBdLnN0YXJ0RGF0ZSAmJiBiYXRjaC5zdWJzdGFnZXNbMF0uc3RhcnRUaW1lICYmIFxyXG4gICAgICAgIGJhdGNoLnN1YnN0YWdlc1swXS5lbmREYXRlICYmIGJhdGNoLnN1YnN0YWdlc1swXS5lbmRUaW1lKSB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtiYXRjaC5zdWJzdGFnZXNbMF0uc3RhcnREYXRlfVQke2JhdGNoLnN1YnN0YWdlc1swXS5zdGFydFRpbWV9YCk7XHJcbiAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7YmF0Y2guc3Vic3RhZ2VzWzBdLmVuZERhdGV9VCR7YmF0Y2guc3Vic3RhZ2VzWzBdLmVuZFRpbWV9YCk7XHJcbiAgICAgIGNvbnN0IGRpZmZIb3VycyA9IChlbmREYXRlVGltZSAtIHN0YXJ0RGF0ZVRpbWUpIC8gKDEwMDAgKiA2MCAqIDYwKTtcclxuICAgICAgYmF0Y2guc3Vic3RhZ2VzWzBdLnRvdGFsSG91cnMgPSBkaWZmSG91cnMudG9GaXhlZCgxKTtcclxuICAgIH0gZWxzZSBpZiAodHVubmVsRGF0YS5kdXJhdGlvbl9ob3VycyAhPT0gdW5kZWZpbmVkICYmIHR1bm5lbERhdGEuZHVyYXRpb25faG91cnMgIT09IG51bGwpIHtcclxuICAgICAgYmF0Y2guc3Vic3RhZ2VzWzBdLnRvdGFsSG91cnMgPSB0dW5uZWxEYXRhLmR1cmF0aW9uX2hvdXJzLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh0dW5uZWxEYXRhLm1vaXN0dXJlICE9PSB1bmRlZmluZWQgJiYgdHVubmVsRGF0YS5tb2lzdHVyZSAhPT0gbnVsbCkge1xyXG4gICAgICBiYXRjaC5zdWJzdGFnZXNbMF0ubW9pc3R1cmUgPSB0dW5uZWxEYXRhLm1vaXN0dXJlLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNldCB0ZW1wZXJhdHVyZVxyXG4gICAgaWYgKHR1bm5lbERhdGEudGVtcGVyYXR1cmUgIT09IHVuZGVmaW5lZCAmJiB0dW5uZWxEYXRhLnRlbXBlcmF0dXJlICE9PSBudWxsKSB7XHJcbiAgICAgIGJhdGNoLnN1YnN0YWdlc1swXS50ZW1wZXJhdHVyZSA9IHR1bm5lbERhdGEudGVtcGVyYXR1cmUudG9TdHJpbmcoKTtcclxuICAgICAgY29uc29sZS5sb2coYPCfjKHvuI8gU2V0IHRlbXBlcmF0dXJlOiAke3R1bm5lbERhdGEudGVtcGVyYXR1cmV9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNldCByZW1hcmtzXHJcbiAgICBpZiAodHVubmVsRGF0YS5yZW1hcmtzKSB7XHJcbiAgICAgIGJhdGNoLnN1YnN0YWdlc1swXS5yZW1hcmtzID0gdHVubmVsRGF0YS5yZW1hcmtzO1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSBTZXQgcmVtYXJrczogJHt0dW5uZWxEYXRhLnJlbWFya3N9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZygn4pyFIEZpbmlzaGVkIGNvbnZlcnRpbmcgQVBJIGRhdGEgdG8gVUknKTtcclxuICByZXR1cm4gYmF0Y2g7XHJcbn07XHJcblxyXG5jb25zdCBzZW5kVG9BcGkgPSBhc3luYyAocGF5bG9hZCwgbWF0ZXJpYWxUeXBlLCBkaXNwbGF5TmFtZSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+TpCBTZW5kaW5nIGRhdGEgZm9yICR7ZGlzcGxheU5hbWV9OmAsIHBheWxvYWQpO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFQSV9FTkRQT0lOVCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGDwn5OlIFJFU1BPTlNFIGZvciAke2Rpc3BsYXlOYW1lfTogU3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGRldGFpbDogJ1Vua25vd24gZXJyb3InIH0pKTtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEFQSSBFcnJvciBSZXNwb25zZTonLCBlcnJvckRhdGEpO1xyXG4gICAgICBcclxuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWA7XHJcbiAgICAgIGlmIChlcnJvckRhdGEuZGV0YWlsKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBlcnJvckRhdGEuZGV0YWlsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmRldGFpbDtcclxuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZXJyb3JEYXRhLmRldGFpbCkpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5kZXRhaWwubWFwKGVyciA9PiBlcnIubXNnKS5qb2luKCcsICcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yRGF0YS5kZXRhaWwgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShlcnJvckRhdGEuZGV0YWlsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgU1VDQ0VTUyBmb3IgJHtkaXNwbGF5TmFtZX06YCwgcmVzdWx0KTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdCwgbWF0ZXJpYWxUeXBlLCBkaXNwbGF5TmFtZSB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGDinYwgRVJST1Igc2VuZGluZyAke2Rpc3BsYXlOYW1lfSBkYXRhOmAsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSwgbWF0ZXJpYWxUeXBlLCBkaXNwbGF5TmFtZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IFR1bm5lbFRhYmxlID0gUmVhY3QubWVtbygoeyBiYXRjaCwgb25VcGRhdGUsIHJlYWRPbmx5ID0gZmFsc2UgfSkgPT4ge1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVEYXRlUmFuZ2UgPSAoc3Vic3RhZ2UsIGZpZWxkLCB2YWx1ZSkgPT4ge1xyXG4gICAgaWYgKGZpZWxkID09PSAnc3RhcnREYXRlJyB8fCBmaWVsZCA9PT0gJ3N0YXJ0VGltZScpIHtcclxuICAgICAgaWYgKHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0YXJ0RGF0ZVRpbWUgPSBmaWVsZCA9PT0gJ3N0YXJ0RGF0ZScgXHJcbiAgICAgICAgICA/IGNvbWJpbmVEYXRlVGltZSh2YWx1ZSwgc3Vic3RhZ2Uuc3RhcnRUaW1lKVxyXG4gICAgICAgICAgOiBjb21iaW5lRGF0ZVRpbWUoc3Vic3RhZ2Uuc3RhcnREYXRlLCB2YWx1ZSk7XHJcbiAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBjb21iaW5lRGF0ZVRpbWUoc3Vic3RhZ2UuZW5kRGF0ZSwgc3Vic3RhZ2UuZW5kVGltZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG5ld1N0YXJ0RGF0ZVRpbWUgJiYgZW5kRGF0ZVRpbWUgJiYgbmV3IERhdGUobmV3U3RhcnREYXRlVGltZSkgPiBuZXcgRGF0ZShlbmREYXRlVGltZSkpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGBTdGFydCBkYXRlL3RpbWUgY2Fubm90IGJlIGFmdGVyIGVuZCBkYXRlL3RpbWVgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoZmllbGQgPT09ICdlbmREYXRlJyB8fCBmaWVsZCA9PT0gJ2VuZFRpbWUnKSB7XHJcbiAgICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IGNvbWJpbmVEYXRlVGltZShzdWJzdGFnZS5zdGFydERhdGUsIHN1YnN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICAgICAgY29uc3QgbmV3RW5kRGF0ZVRpbWUgPSBmaWVsZCA9PT0gJ2VuZERhdGUnXHJcbiAgICAgICAgICA/IGNvbWJpbmVEYXRlVGltZSh2YWx1ZSwgc3Vic3RhZ2UuZW5kVGltZSlcclxuICAgICAgICAgIDogY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLmVuZERhdGUsIHZhbHVlKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoc3RhcnREYXRlVGltZSAmJiBuZXdFbmREYXRlVGltZSAmJiBuZXcgRGF0ZShzdGFydERhdGVUaW1lKSA+IG5ldyBEYXRlKG5ld0VuZERhdGVUaW1lKSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYEVuZCBkYXRlL3RpbWUgY2Fubm90IGJlIGJlZm9yZSBzdGFydCBkYXRlL3RpbWVgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGluZGV4LCBmaWVsZCwgdmFsdWUpID0+IHtcclxuICAgIGlmIChyZWFkT25seSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCB1cGRhdGVkQmF0Y2ggPSB7IC4uLmJhdGNoIH07XHJcbiAgICBjb25zdCBzdWJzdGFnZSA9IHVwZGF0ZWRCYXRjaC5zdWJzdGFnZXNbaW5kZXhdO1xyXG4gICAgXHJcbiAgICBpZiAoZmllbGQgPT09ICdzdGFydERhdGUnIHx8IGZpZWxkID09PSAnc3RhcnRUaW1lJyB8fCBmaWVsZCA9PT0gJ2VuZERhdGUnIHx8IGZpZWxkID09PSAnZW5kVGltZScpIHtcclxuICAgICAgaWYgKCF2YWxpZGF0ZURhdGVSYW5nZShzdWJzdGFnZSwgZmllbGQsIHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzdWJzdGFnZVtmaWVsZF0gPSB2YWx1ZTtcclxuICAgIFxyXG4gICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiBzdWJzdGFnZS5zdGFydFRpbWUgJiYgc3Vic3RhZ2UuZW5kRGF0ZSAmJiBzdWJzdGFnZS5lbmRUaW1lKSB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5zdGFydERhdGV9VCR7c3Vic3RhZ2Uuc3RhcnRUaW1lfWApO1xyXG4gICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLmVuZERhdGV9VCR7c3Vic3RhZ2UuZW5kVGltZX1gKTtcclxuICAgICAgY29uc3QgZGlmZkhvdXJzID0gKGVuZERhdGVUaW1lIC0gc3RhcnREYXRlVGltZSkgLyAoMTAwMCAqIDYwICogNjApO1xyXG4gICAgICBzdWJzdGFnZS50b3RhbEhvdXJzID0gZGlmZkhvdXJzLnRvRml4ZWQoMSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uVXBkYXRlKHVwZGF0ZWRCYXRjaCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0TWF0ZXJpYWxzRGlzcGxheSA9ICgpID0+IHtcclxuICAgIGlmIChiYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcyAmJiBiYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiBiYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcy5qb2luKCcgKyAnKTtcclxuICAgIH1cclxuICAgIHJldHVybiAnVHVubmVsIFByb2Nlc3MnO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYmxlLXNlY3Rpb25cIj5cclxuICAgICAgPGgzIGNsYXNzTmFtZT1cInRhYmxlLXRpdGxlXCI+VHVubmVsIFByb2Nlc3MgLSB7Z2V0TWF0ZXJpYWxzRGlzcGxheSgpfTwvaDM+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW50cnktdGFibGUtY29udGFpbmVyXCI+XHJcbiAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cImVudHJ5LXRhYmxlIHVuaWZpZWQtcGxhdGZvcm0tdGFibGVcIj5cclxuICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPlN1YnN0YWdlPC90aD5cclxuICAgICAgICAgICAgICA8dGggY29sU3Bhbj1cIjJcIj5TdGFydDwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIGNvbFNwYW49XCIyXCI+RW5kPC90aD5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5Ub3RhbCBIb3VyczwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+TW9pc3R1cmUgKCUpPC90aD5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5UZW1wZXJhdHVyZSAowrBDKTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+UmVtYXJrczwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGg+RGF0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoPlRpbWU8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aD5EYXRlPC90aD5cclxuICAgICAgICAgICAgICA8dGg+VGltZTwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICB7YmF0Y2guc3Vic3RhZ2VzLm1hcCgoc3Vic3RhZ2UsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgPHRyIGtleT17aW5kZXh9PlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInN1YnN0YWdlLW5hbWVcIj57c3Vic3RhZ2UubmFtZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnN0YXJ0RGF0ZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnc3RhcnREYXRlJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PXtzdWJzdGFnZS5lbmREYXRlIHx8IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0aW1lXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2Uuc3RhcnRUaW1lIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdzdGFydFRpbWUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtYXg9e3N1YnN0YWdlLnN0YXJ0RGF0ZSA9PT0gc3Vic3RhZ2UuZW5kRGF0ZSA/IHN1YnN0YWdlLmVuZFRpbWUgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLmVuZERhdGUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ2VuZERhdGUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtaW49e3N1YnN0YWdlLnN0YXJ0RGF0ZSB8fCB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLmVuZFRpbWUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ2VuZFRpbWUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtaW49e3N1YnN0YWdlLnN0YXJ0RGF0ZSA9PT0gc3Vic3RhZ2UuZW5kRGF0ZSA/IHN1YnN0YWdlLnN0YXJ0VGltZSA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UudG90YWxIb3VycyB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0IGhvdXJzLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLm1vaXN0dXJlIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdtb2lzdHVyZScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dCBtb2lzdHVyZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIlXCJcclxuICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcclxuICAgICAgICAgICAgICAgICAgICBtYXg9XCIxMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS50ZW1wZXJhdHVyZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAndGVtcGVyYXR1cmUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXQgdGVtcGVyYXR1cmUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiwrBDXCJcclxuICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcclxuICAgICAgICAgICAgICAgICAgICBtYXg9XCIxMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UucmVtYXJrcyB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAncmVtYXJrcycsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dCByZW1hcmtzLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFkZCByZW1hcmtzLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0pO1xyXG5cclxuVHVubmVsVGFibGUuZGlzcGxheU5hbWUgPSAnVHVubmVsVGFibGUnO1xyXG5cclxuZnVuY3Rpb24gQmF0Y2hTZWxlY3Rpb24oeyBvblNlbGVjdEJhdGNoLCBsb2FkaW5nLCBlcnJvciwgaW5pdGlhbEJhdGNoTnVtYmVyLCBpbml0aWFsQmF0Y2hJZCB9KSB7XHJcbiAgY29uc3QgW2JhdGNoTnVtYmVyLCBzZXRCYXRjaE51bWJlcl0gPSB1c2VTdGF0ZShpbml0aWFsQmF0Y2hOdW1iZXIgfHwgJycpO1xyXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpO1xyXG4gIGNvbnN0IGhhc0xvYWRlZFJlZiA9IHVzZVJlZihmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaW5pdGlhbEJhdGNoTnVtYmVyICYmICFoYXNMb2FkZWRSZWYuY3VycmVudCAmJiAhbG9hZGluZykge1xyXG4gICAgICBzZXRCYXRjaE51bWJlcihpbml0aWFsQmF0Y2hOdW1iZXIpO1xyXG4gICAgICBoYW5kbGVMb2FkQmF0Y2goaW5pdGlhbEJhdGNoTnVtYmVyLCBpbml0aWFsQmF0Y2hJZCk7XHJcbiAgICAgIGhhc0xvYWRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIH1cclxuICB9LCBbaW5pdGlhbEJhdGNoTnVtYmVyLCBpbml0aWFsQmF0Y2hJZCwgbG9hZGluZ10pO1xyXG5cclxuICBjb25zdCBnZXRNYXRlcmlhbHNGcm9tQmF0Y2ggPSAoYmF0Y2hEYXRhKSA9PiB7XHJcbiAgICBjb25zdCBtYXRlcmlhbHMgPSBuZXcgU2V0KCk7XHJcbiAgICBcclxuICAgIGlmIChiYXRjaERhdGEgJiYgYmF0Y2hEYXRhLmZvcm11bGF0aW9uX2VudHJpZXMpIHtcclxuICAgICAgYmF0Y2hEYXRhLmZvcm11bGF0aW9uX2VudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWxOYW1lID0gZW50cnkubmFtZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChNQVRFUklBTF9UWVBFU1ttYXRlcmlhbE5hbWVdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIG1hdGVyaWFscy5hZGQobWF0ZXJpYWxOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShtYXRlcmlhbHMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUxvYWRCYXRjaCA9IGFzeW5jIChiYXRjaE51bSwgYmF0Y2hJZCkgPT4ge1xyXG4gICAgaWYgKCFiYXRjaE51bS50cmltKCkpIHtcclxuICAgICAgdG9hc3QuZXJyb3IoJ1BsZWFzZSBlbnRlciBhIGJhdGNoIG51bWJlcicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEZldGNoaW5nIGJhdGNoIGRldGFpbHMgZm9yOiAke2JhdGNoTnVtfSB3aXRoIElEOiAke2JhdGNoSWQgfHwgJ3Vua25vd24nfWApO1xyXG4gICAgICBcclxuICAgICAgbGV0IHNlbGVjdGVkQmF0Y2ggPSBudWxsO1xyXG4gICAgICBsZXQgYmF0Y2hJZFRvVXNlID0gYmF0Y2hJZDtcclxuICAgICAgXHJcbiAgICAgIGlmIChiYXRjaElkVG9Vc2UpIHtcclxuICAgICAgICBjb25zdCBiYXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFUQ0hfRkVUQ0hfRU5EUE9JTlR9LyR7YmF0Y2hJZFRvVXNlfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChiYXRjaFJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICBjb25zdCBiYXRjaFJlc3VsdCA9IGF3YWl0IGJhdGNoUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgc2VsZWN0ZWRCYXRjaCA9IGJhdGNoUmVzdWx0LmRhdGEgfHwgYmF0Y2hSZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IGFsbEJhdGNoZXNSZXNwb25zZSA9IGF3YWl0IGZldGNoKEJBVENIX0ZFVENIX0VORFBPSU5UKTtcclxuICAgICAgICAgIGlmIChhbGxCYXRjaGVzUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgY29uc3QgYWxsQmF0Y2hlc1Jlc3VsdCA9IGF3YWl0IGFsbEJhdGNoZXNSZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIGxldCBiYXRjaGVzID0gW107XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFsbEJhdGNoZXNSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgYmF0Y2hlcyA9IGFsbEJhdGNoZXNSZXN1bHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxsQmF0Y2hlc1Jlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgYmF0Y2hlcyA9IGFsbEJhdGNoZXNSZXN1bHQuZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxlY3RlZEJhdGNoID0gYmF0Y2hlcy5maW5kKGIgPT4gYi5pZCA9PT0gYmF0Y2hJZFRvVXNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgYmF0Y2hSZXNwb25zZSA9IGF3YWl0IGZldGNoKEJBVENIX0ZFVENIX0VORFBPSU5UKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWJhdGNoUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGJhdGNoZXMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYmF0Y2hSZXN1bHQgPSBhd2FpdCBiYXRjaFJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgYmF0Y2hlcyA9IFtdO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJhdGNoUmVzdWx0KSkge1xyXG4gICAgICAgICAgYmF0Y2hlcyA9IGJhdGNoUmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmF0Y2hSZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgYmF0Y2hlcyA9IGJhdGNoUmVzdWx0LmRhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxlY3RlZEJhdGNoID0gYmF0Y2hlcy5maW5kKGIgPT4gYi5iYXRjaF9udW1iZXIgPT09IGJhdGNoTnVtLnRyaW0oKSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICghc2VsZWN0ZWRCYXRjaCkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKCdCYXRjaCBudW1iZXIgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRm91bmQgYmF0Y2g6Jywgc2VsZWN0ZWRCYXRjaCk7XHJcblxyXG4gICAgICBjb25zdCBtYXRlcmlhbHMgPSBnZXRNYXRlcmlhbHNGcm9tQmF0Y2goc2VsZWN0ZWRCYXRjaCk7XHJcblxyXG4gICAgICBpZiAobWF0ZXJpYWxzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKCdObyBzdWl0YWJsZSBtYXRlcmlhbHMgKEJhZ2Fzc2UsIFdoZWF0IFN0cmF3LCBvciBQYWRkeSBTdHJhdykgZm91bmQgaW4gdGhpcyBiYXRjaCcpO1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TiyBNYXRlcmlhbHMgdG8gcHJvY2VzczpgLCBtYXRlcmlhbHMpO1xyXG5cclxuICAgICAgY29uc3QgbmV3QmF0Y2ggPSBjcmVhdGVFbXB0eUJhdGNoKGJhdGNoTnVtLCBtYXRlcmlhbHMsIHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBuZXdCYXRjaC5iYXRjaERhdGEgPSBzZWxlY3RlZEJhdGNoO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogRmV0Y2hpbmcgdHVubmVsIGRhdGEgZm9yIGJhdGNoIElEOicsIHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBjb25zdCBzdHJhd0RhdGFSZXN1bHQgPSBhd2FpdCBmZXRjaEJhdGNoRGF0YShzZWxlY3RlZEJhdGNoLmlkKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChzdHJhd0RhdGFSZXN1bHQuc3VjY2VzcyAmJiBzdHJhd0RhdGFSZXN1bHQuZGF0YSAmJiBzdHJhd0RhdGFSZXN1bHQuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk6YgUmF3IEFQSSBkYXRhOicsIHN0cmF3RGF0YVJlc3VsdC5kYXRhKTtcclxuICAgICAgICBjb25zdCBwb3B1bGF0ZWRCYXRjaCA9IGNvbnZlcnRBcGlSZXNwb25zZVRvVUkoc3RyYXdEYXRhUmVzdWx0LmRhdGEsIG5ld0JhdGNoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFBvcHVsYXRlZCBiYXRjaDonLCBwb3B1bGF0ZWRCYXRjaCk7XHJcbiAgICAgICAgb25TZWxlY3RCYXRjaChwb3B1bGF0ZWRCYXRjaCk7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19IHdpdGggZXhpc3RpbmcgZGF0YSAoJHttYXRlcmlhbHMubGVuZ3RofSBtYXRlcmlhbCR7bWF0ZXJpYWxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30pYCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3RyYXdEYXRhUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+TrSBObyBleGlzdGluZyBkYXRhIGZvdW5kJyk7XHJcbiAgICAgICAgb25TZWxlY3RCYXRjaChuZXdCYXRjaCk7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19ICgke21hdGVyaWFscy5sZW5ndGh9IG1hdGVyaWFsJHttYXRlcmlhbHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSAtIG5vIGV4aXN0aW5nIGRhdGEpYCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBGYWlsZWQgdG8gZmV0Y2ggZXhpc3RpbmcgZGF0YScpO1xyXG4gICAgICAgIHRvYXN0Lndhcm5pbmcoYExvYWRlZCBiYXRjaCAke2JhdGNoTnVtfSBidXQgZmFpbGVkIHRvIGZldGNoIGV4aXN0aW5nIGRhdGFgKTtcclxuICAgICAgICBvblNlbGVjdEJhdGNoKG5ld0JhdGNoKTtcclxuICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgbG9hZGluZyBiYXRjaDonLCBlcnIpO1xyXG4gICAgICB0b2FzdC5lcnJvcignRXJyb3IgbG9hZGluZyBiYXRjaCBkZXRhaWxzLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiYXRjaC1zZWxlY3Rpb25cIj5cclxuICAgICAgPGgyPlR1bm5lbCBNYW5hZ2VtZW50IFByb2Nlc3MgRW50cnk8L2gyPlxyXG4gICAgICBcclxuICAgICAge2Vycm9yICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj5cclxuICAgICAgICAgIEVycm9yOiB7ZXJyb3J9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdGlvbi1wYW5lbFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LWJhdGNoLXNlY3Rpb25cIj5cclxuICAgICAgICAgIDxoMz5FbnRlciBCYXRjaCBOdW1iZXI8L2gzPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYXRjaC1pbnB1dC1ncm91cFwiPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBCYXRjaCBOdW1iZXIgKGUuZy4sIEJBVENILTAwMSlcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXtiYXRjaE51bWJlcn1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEJhdGNoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiYXRjaC1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBsb2FkaW5nfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUxvYWRCYXRjaChiYXRjaE51bWJlcil9IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGxvYWRpbmd9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7aXNMb2FkaW5nIHx8IGxvYWRpbmcgPyAnTG9hZGluZy4uLicgOiAnTG9hZCBCYXRjaCd9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gVHVubmVsTWFuYWdlbWVudENvbnRlbnQoKSB7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xyXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpO1xyXG4gIGNvbnN0IFtjdXJyZW50QmF0Y2gsIHNldEN1cnJlbnRCYXRjaF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbaW5pdGlhbEJhdGNoTnVtYmVyLCBzZXRJbml0aWFsQmF0Y2hOdW1iZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW2luaXRpYWxCYXRjaElkLCBzZXRJbml0aWFsQmF0Y2hJZF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBpc1NhdmluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBiYXRjaE51bSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2JhdGNoJyk7XHJcbiAgICBjb25zdCBiYXRjaElkID0gc2VhcmNoUGFyYW1zLmdldCgnYmF0Y2hJZCcpO1xyXG4gICAgXHJcbiAgICBpZiAoYmF0Y2hOdW0pIHtcclxuICAgICAgc2V0SW5pdGlhbEJhdGNoTnVtYmVyKGJhdGNoTnVtKTtcclxuICAgICAgc2V0SW5pdGlhbEJhdGNoSWQoYmF0Y2hJZCk7XHJcbiAgICB9XHJcbiAgfSwgW3NlYXJjaFBhcmFtc10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVTZWxlY3RCYXRjaCA9IChiYXRjaCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBTZXR0aW5nIGN1cnJlbnQgYmF0Y2g6JywgYmF0Y2gpO1xyXG4gICAgc2V0Q3VycmVudEJhdGNoKGJhdGNoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVVcGRhdGVCYXRjaCA9IHVzZUNhbGxiYWNrKCh1cGRhdGVkQmF0Y2gpID0+IHtcclxuICAgIHNldEN1cnJlbnRCYXRjaCh1cGRhdGVkQmF0Y2gpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2F2ZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghY3VycmVudEJhdGNoIHx8IGlzU2F2aW5nUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ1xcbj09PT09PT09PT0g8J+agCBTQVZFIFNUQVJURUQgPT09PT09PT09PScpO1xyXG4gICAgY29uc29sZS5sb2coYEJhdGNoOiAke2N1cnJlbnRCYXRjaC5iYXRjaE51bWJlcn0gKElEOiAke2N1cnJlbnRCYXRjaC5pZH0pYCk7XHJcbiAgICBjb25zb2xlLmxvZyhgTWF0ZXJpYWxzOiAke2N1cnJlbnRCYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcz8uam9pbignLCAnKSB8fCAnVW5rbm93bid9YCk7XHJcblxyXG4gICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICAgIGxldCBoYXNBbnlEYXRhVG9TYXZlID0gZmFsc2U7XHJcbiAgICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xyXG4gICAgICBsZXQgZmFpbENvdW50ID0gMDtcclxuICAgICAgXHJcbiAgICAgIGlmICghaGFzQ29tcGxldGVEYXRhKGN1cnJlbnRCYXRjaC5zdWJzdGFnZXMpKSB7XHJcbiAgICAgICAgdG9hc3QuaW5mbygnTm8gY29tcGxldGUgZGF0YSB0byBzYXZlLiBQbGVhc2UgZmlsbCBpbiBhbGwgcmVxdWlyZWQgZmllbGRzLicpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFNhdmUgZm9yIGVhY2ggbWF0ZXJpYWwgdHlwZSBpbiB0aGUgYmF0Y2hcclxuICAgICAgZm9yIChjb25zdCBtYXRlcmlhbFR5cGUgb2YgY3VycmVudEJhdGNoLm1hdGVyaWFsVHlwZXMpIHtcclxuICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IE1BVEVSSUFMX0RJU1BMQVlfTkFNRVNbbWF0ZXJpYWxUeXBlXTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgXFxuLS0tIPCfk50gUHJvY2Vzc2luZyBtYXRlcmlhbDogJHtkaXNwbGF5TmFtZX0gLS0tYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGNvbnZlcnRUb0FwaVBheWxvYWQoY3VycmVudEJhdGNoLCBtYXRlcmlhbFR5cGUsIHRydWUpO1xyXG4gICAgICAgIGlmIChwYXlsb2FkICYmIE9iamVjdC5rZXlzKHBheWxvYWQpLmxlbmd0aCA+IDIpIHsgXHJcbiAgICAgICAgICBoYXNBbnlEYXRhVG9TYXZlID0gdHJ1ZTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OkIE1ha2luZyBBUEkgY2FsbCBmb3IgJHtkaXNwbGF5TmFtZX1gKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFRvQXBpKHBheWxvYWQsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUpO1xyXG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcclxuICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhgJHtkaXNwbGF5TmFtZX0gZGF0YSBzYXZlZCBzdWNjZXNzZnVsbHkhYCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmYWlsQ291bnQrKztcclxuICAgICAgICAgICAgdG9hc3QuZXJyb3IoYEZhaWxlZCB0byBzYXZlICR7ZGlzcGxheU5hbWV9IGRhdGE6ICR7cmVzdWx0LmVycm9yfWApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4o+t77iPIE5vIGRhdGEgdG8gc2F2ZSBmb3IgJHtkaXNwbGF5TmFtZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdcXG49PT09PT09PT09IPCfk4ogU0FWRSBTVU1NQVJZID09PT09PT09PT0nKTtcclxuICAgICAgY29uc29sZS5sb2coYFRvdGFsIEFQSSBjYWxscyBhdHRlbXB0ZWQ6ICR7cmVzdWx0cy5sZW5ndGh9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgU3VjY2Vzc2Z1bDogJHtzdWNjZXNzQ291bnR9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinYwgRmFpbGVkOiAke2ZhaWxDb3VudH1gKTtcclxuICAgICAgY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG4nKTtcclxuXHJcbiAgICAgIGlmICghaGFzQW55RGF0YVRvU2F2ZSkge1xyXG4gICAgICAgIHRvYXN0LmluZm8oJ05vIGRhdGEgdG8gc2F2ZS4nKTtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBhbGxTdWNjZXNzID0gcmVzdWx0cy5ldmVyeShyID0+IHIuc3VjY2Vzcyk7XHJcbiAgICAgIGlmIChhbGxTdWNjZXNzKSB7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgQWxsICR7c3VjY2Vzc0NvdW50fSBtYXRlcmlhbCBkYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseSFgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b2FzdC53YXJuaW5nKGAke3N1Y2Nlc3NDb3VudH0gbWF0ZXJpYWwocykgc2F2ZWQgc3VjY2Vzc2Z1bGx5LCAke2ZhaWxDb3VudH0gZmFpbGVkYCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBiYXRjaCBkYXRhJyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTYXZlIGVycm9yOicsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUJhY2tUb1NlbGVjdGlvbiA9ICgpID0+IHtcclxuICAgIHNldEN1cnJlbnRCYXRjaChudWxsKTtcclxuICAgIHJvdXRlci5wdXNoKCcvdHVubmVsLW1hbmFnZW1lbnQnKTtcclxuICAgIHNldEVycm9yKG51bGwpO1xyXG4gICAgc2V0SW5pdGlhbEJhdGNoTnVtYmVyKG51bGwpO1xyXG4gICAgc2V0SW5pdGlhbEJhdGNoSWQobnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKCFjdXJyZW50QmF0Y2gpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxBcHBMYXlvdXQgdGl0bGU9XCJUdW5uZWwgTWFuYWdlbWVudFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidW5pZmllZC1wbGF0Zm9ybS1jb250YWluZXJcIj5cclxuICAgICAgICAgIDxCYXRjaFNlbGVjdGlvbiBcclxuICAgICAgICAgICAgb25TZWxlY3RCYXRjaD17aGFuZGxlU2VsZWN0QmF0Y2h9XHJcbiAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgIGVycm9yPXtlcnJvcn1cclxuICAgICAgICAgICAgaW5pdGlhbEJhdGNoTnVtYmVyPXtpbml0aWFsQmF0Y2hOdW1iZXJ9XHJcbiAgICAgICAgICAgIGluaXRpYWxCYXRjaElkPXtpbml0aWFsQmF0Y2hJZH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvQXBwTGF5b3V0PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG1hdGVyaWFsc0Rpc3BsYXkgPSBjdXJyZW50QmF0Y2gubWF0ZXJpYWxEaXNwbGF5TmFtZXM/LmpvaW4oJyArICcpIHx8ICdVbmtub3duJztcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxBcHBMYXlvdXQgdGl0bGU9XCJUdW5uZWwgTWFuYWdlbWVudFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVuaWZpZWQtcGxhdGZvcm0tY29udGFpbmVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbnRyeS1oZWFkZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWxlZnRcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVCYWNrVG9TZWxlY3Rpb259IGNsYXNzTmFtZT1cImJhY2stYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgPEFycm93QmFja0ljb24vPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGgyPntjdXJyZW50QmF0Y2guYmF0Y2hOdW1iZXJ9PC9oMj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtY291bnRcIj5cclxuICAgICAgICAgICAgICAoe21hdGVyaWFsc0Rpc3BsYXl9KVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWFjdGlvbnNcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlfSBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tc2F2ZVwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJzbWFsbFwiIC8+XHJcbiAgICAgICAgICAgICAge2xvYWRpbmcgPyAnU2F2aW5nLi4uJyA6ICdTYXZlJ31cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIFNpbmdsZSB0YWJsZSBmb3IgYWxsIG1hdGVyaWFscyAqL31cclxuICAgICAgICA8VHVubmVsVGFibGUgXHJcbiAgICAgICAgICBiYXRjaD17Y3VycmVudEJhdGNofVxyXG4gICAgICAgICAgb25VcGRhdGU9e2hhbmRsZVVwZGF0ZUJhdGNofVxyXG4gICAgICAgICAgcmVhZE9ubHk9e2ZhbHNlfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9BcHBMYXlvdXQ+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVHVubmVsTWFuYWdlbWVudCgpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPFRvYXN0UHJvdmlkZXI+XHJcbiAgICAgIDxUdW5uZWxNYW5hZ2VtZW50Q29udGVudCAvPlxyXG4gICAgPC9Ub2FzdFByb3ZpZGVyPlxyXG4gICk7XHJcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXNlUm91dGVyIiwidXNlU2VhcmNoUGFyYW1zIiwiQXBwTGF5b3V0IiwiVG9hc3RQcm92aWRlciIsInVzZVRvYXN0IiwiU2F2ZUljb24iLCJBcnJvd0JhY2tJY29uIiwiTUFURVJJQUxfVFlQRVMiLCJNQVRFUklBTF9ESVNQTEFZX05BTUVTIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJBUElfRU5EUE9JTlQiLCJBUElfRkVUQ0hfRU5EUE9JTlQiLCJCQVRDSF9GRVRDSF9FTkRQT0lOVCIsIlNUQUdFX05BTUVTIiwiY3JlYXRlRW1wdHlTdWJzdGFnZSIsIm5hbWUiLCJzdGFydERhdGUiLCJzdGFydFRpbWUiLCJlbmREYXRlIiwiZW5kVGltZSIsInRvdGFsSG91cnMiLCJtb2lzdHVyZSIsInRlbXBlcmF0dXJlIiwicmVtYXJrcyIsImNyZWF0ZUVtcHR5QmF0Y2giLCJiYXRjaE51bWJlciIsIm1hdGVyaWFscyIsImJhdGNoSWQiLCJtYXRlcmlhbFR5cGVzIiwibWFwIiwibSIsImZpbHRlciIsIkJvb2xlYW4iLCJtYXRlcmlhbERpc3BsYXlOYW1lcyIsInQiLCJiYXRjaCIsImlkIiwiRGF0ZSIsIm5vdyIsImJhdGNoRGF0YSIsImV4aXN0aW5nUmVjb3JkcyIsInN1YnN0YWdlcyIsInBhcnNlRGF0ZVRpbWUiLCJkYXRldGltZSIsImRhdGUiLCJ0aW1lIiwiaXNOYU4iLCJnZXRUaW1lIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJTdHJpbmciLCJnZXRNb250aCIsInBhZFN0YXJ0IiwiZGF5IiwiZ2V0RGF0ZSIsImhvdXJzIiwiZ2V0SG91cnMiLCJtaW51dGVzIiwiZ2V0TWludXRlcyIsImVycm9yIiwiY29uc29sZSIsImZldGNoQmF0Y2hEYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwic3RhdHVzIiwic3VjY2VzcyIsImRhdGEiLCJFcnJvciIsInJlc3BvbnNlRGF0YSIsImpzb24iLCJpdGVtcyIsIkFycmF5IiwiaXNBcnJheSIsIm1lc3NhZ2UiLCJmZXRjaEJhdGNoRGV0YWlscyIsImNvbWJpbmVEYXRlVGltZSIsImRhdGVUaW1lU3RyIiwidG9JU09TdHJpbmciLCJoYXNTdWJzdGFnZURhdGEiLCJzdWJzdGFnZSIsImhhc0NvbXBsZXRlRGF0YSIsImhhc0FueURhdGEiLCJzb21lIiwiY29udmVydFRvQXBpUGF5bG9hZCIsIm1hdGVyaWFsVHlwZSIsImlzQ29tcGxldGVkIiwidHVubmVsUHJvY2VzcyIsImZvcm1hdERhdGVUaW1lIiwic2Vjb25kcyIsImdldFNlY29uZHMiLCJzdGFydF90aW1lIiwiZW5kX3RpbWUiLCJwYXlsb2FkIiwiYmF0Y2hfaWQiLCJzdHJhd190eXBlIiwiaXNjb21wbGV0ZWQiLCJ0dW5uZWxfcHJvY2VzcyIsInBhcnNlRmxvYXQiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInN1YktleSIsInVuZGVmaW5lZCIsImxlbmd0aCIsImNvbnZlcnRBcGlSZXNwb25zZVRvVUkiLCJhcGlEYXRhIiwiZmlyc3RJdGVtIiwidHVubmVsRGF0YSIsInN0YXJ0RGF0ZVRpbWUiLCJlbmREYXRlVGltZSIsImRpZmZIb3VycyIsInRvRml4ZWQiLCJkdXJhdGlvbl9ob3VycyIsInRvU3RyaW5nIiwibG9nIiwic2VuZFRvQXBpIiwiZGlzcGxheU5hbWUiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvckRhdGEiLCJjYXRjaCIsImRldGFpbCIsImVycm9yTWVzc2FnZSIsImVyciIsIm1zZyIsImpvaW4iLCJyZXN1bHQiLCJUdW5uZWxUYWJsZSIsIm1lbW8iLCJvblVwZGF0ZSIsInJlYWRPbmx5IiwidG9hc3QiLCJ2YWxpZGF0ZURhdGVSYW5nZSIsImZpZWxkIiwidmFsdWUiLCJuZXdTdGFydERhdGVUaW1lIiwibmV3RW5kRGF0ZVRpbWUiLCJoYW5kbGVJbnB1dENoYW5nZSIsImluZGV4IiwidXBkYXRlZEJhdGNoIiwiZ2V0TWF0ZXJpYWxzRGlzcGxheSIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwidGFibGUiLCJ0aGVhZCIsInRyIiwidGgiLCJyb3dTcGFuIiwiY29sU3BhbiIsInRib2R5IiwidGQiLCJpbnB1dCIsInR5cGUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJkaXNhYmxlZCIsIm1heCIsIm1pbiIsInBsYWNlaG9sZGVyIiwic3RlcCIsIkJhdGNoU2VsZWN0aW9uIiwib25TZWxlY3RCYXRjaCIsImxvYWRpbmciLCJpbml0aWFsQmF0Y2hOdW1iZXIiLCJpbml0aWFsQmF0Y2hJZCIsInNldEJhdGNoTnVtYmVyIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwicm91dGVyIiwic2VhcmNoUGFyYW1zIiwiaGFzTG9hZGVkUmVmIiwiY3VycmVudCIsImhhbmRsZUxvYWRCYXRjaCIsImdldE1hdGVyaWFsc0Zyb21CYXRjaCIsIlNldCIsImZvcm11bGF0aW9uX2VudHJpZXMiLCJlbnRyeSIsIm1hdGVyaWFsTmFtZSIsInRvVXBwZXJDYXNlIiwiYWRkIiwiZnJvbSIsImJhdGNoTnVtIiwidHJpbSIsInNlbGVjdGVkQmF0Y2giLCJiYXRjaElkVG9Vc2UiLCJiYXRjaFJlc3BvbnNlIiwiYmF0Y2hSZXN1bHQiLCJhbGxCYXRjaGVzUmVzcG9uc2UiLCJhbGxCYXRjaGVzUmVzdWx0IiwiYmF0Y2hlcyIsImZpbmQiLCJiIiwiYmF0Y2hfbnVtYmVyIiwibmV3QmF0Y2giLCJzdHJhd0RhdGFSZXN1bHQiLCJwb3B1bGF0ZWRCYXRjaCIsIndhcm5pbmciLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJUdW5uZWxNYW5hZ2VtZW50Q29udGVudCIsImN1cnJlbnRCYXRjaCIsInNldEN1cnJlbnRCYXRjaCIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInNldEluaXRpYWxCYXRjaE51bWJlciIsInNldEluaXRpYWxCYXRjaElkIiwiaXNTYXZpbmdSZWYiLCJnZXQiLCJoYW5kbGVTZWxlY3RCYXRjaCIsImhhbmRsZVVwZGF0ZUJhdGNoIiwiaGFuZGxlU2F2ZSIsInJlc3VsdHMiLCJoYXNBbnlEYXRhVG9TYXZlIiwic3VjY2Vzc0NvdW50IiwiZmFpbENvdW50IiwiaW5mbyIsInB1c2giLCJhbGxTdWNjZXNzIiwiZXZlcnkiLCJyIiwic2V0VGltZW91dCIsImhhbmRsZUJhY2tUb1NlbGVjdGlvbiIsInRpdGxlIiwibWF0ZXJpYWxzRGlzcGxheSIsInNwYW4iLCJmb250U2l6ZSIsIlR1bm5lbE1hbmFnZW1lbnQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(pages)/tunnel-management/page.jsx\n"));

/***/ })

});