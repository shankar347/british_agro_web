"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(pages)/soaking/page",{

/***/ "(app-pages-browser)/./app/(pages)/soaking/page.jsx":
/*!**************************************!*\
  !*** ./app/(pages)/soaking/page.jsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Soaking)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/AppLayout */ \"(app-pages-browser)/./app/components/AppLayout.jsx\");\n/* harmony import */ var _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/common/Toaster */ \"(app-pages-browser)/./app/components/common/Toaster.jsx\");\n/* harmony import */ var _styles_pages_soaking_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../styles/pages/soaking.css */ \"(app-pages-browser)/./app/styles/pages/soaking.css\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/Save */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_ArrowForward__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/icons-material/ArrowForward */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowForward.js\");\n/* harmony import */ var _mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/ArrowBack */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowBack.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\n// Update MATERIAL_TYPES to match the exact names from the API response\nconst MATERIAL_TYPES = {\n    'BAGASSE': 'BAGASSE',\n    'WHEAT STRAW': 'WHEAT',\n    'PADDY STRAW': 'PADDY'\n};\n// Display names for UI\nconst MATERIAL_DISPLAY_NAMES = {\n    'BAGASSE': 'Bagasse',\n    'WHEAT': 'Wheat Straw',\n    'PADDY': 'Paddy Straw'\n};\nconst API_BASE_URL = \"http://192.168.1.148:8000\";\nconst API_ENDPOINT = \"\".concat(API_BASE_URL, \"/straw-preparation-log\");\nconst API_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/straw-preparation-log/straws\");\nconst BATCH_API_ENDPOINT = \"\".concat(API_BASE_URL, \"/batches\");\nconst STAGE_NAMES = [\n    \"Soaking\",\n    \"Soaking Rest\",\n    \"Re Soaking 1\",\n    \"Re Soaking 1 Rest\",\n    \"Re Soaking 2\",\n    \"Re Soaking 2 Rest\"\n];\nconst PLAIN_BUNKER_STAGE = \"Plain Bunker\";\nconst createEmptySubstage = (name)=>({\n        name: name,\n        startDate: '',\n        startTime: '',\n        endDate: '',\n        endTime: '',\n        totalHours: '',\n        remarks: ''\n    });\nconst createEmptyBatch = function(batchNumber) {\n    let materials = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], batchId = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n    const batch = {\n        id: batchId || Date.now(),\n        batchNumber: batchNumber,\n        materials: [],\n        batchData: null,\n        existingRecords: {},\n        moveToPlainBunker: undefined // Default value for dropdown (undefined means not selected)\n    };\n    materials.forEach((material)=>{\n        const apiStrawType = MATERIAL_TYPES[material];\n        if (apiStrawType !== undefined) {\n            batch.materials.push({\n                type: apiStrawType,\n                name: material,\n                displayName: MATERIAL_DISPLAY_NAMES[apiStrawType] || material,\n                recordId: null,\n                hasExistingData: false,\n                substages: STAGE_NAMES.map((name)=>createEmptySubstage(name)),\n                plainBunkerSubstage: createEmptySubstage(PLAIN_BUNKER_STAGE) // Separate plain bunker substage\n            });\n        }\n    });\n    return batch;\n};\nconst parseDateTime = (datetime)=>{\n    if (!datetime) return {\n        date: '',\n        time: ''\n    };\n    try {\n        const date = new Date(datetime);\n        if (isNaN(date.getTime())) return {\n            date: '',\n            time: ''\n        };\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        const hours = String(date.getHours()).padStart(2, '0');\n        const minutes = String(date.getMinutes()).padStart(2, '0');\n        return {\n            date: \"\".concat(year, \"-\").concat(month, \"-\").concat(day),\n            time: \"\".concat(hours, \":\").concat(minutes)\n        };\n    } catch (error) {\n        console.error('Error parsing datetime:', error);\n        return {\n            date: '',\n            time: ''\n        };\n    }\n};\nconst calculateHours = (startDateTime, endDateTime)=>{\n    if (!startDateTime || !endDateTime) return '';\n    try {\n        const start = new Date(startDateTime);\n        const end = new Date(endDateTime);\n        if (isNaN(start.getTime()) || isNaN(end.getTime())) return '';\n        const diffHours = (end - start) / (1000 * 60 * 60);\n        return diffHours.toFixed(1);\n    } catch (error) {\n        return '';\n    }\n};\nconst fetchBatchData = async (batchId)=>{\n    try {\n        console.log(\"\\uD83D\\uDCCA Fetching data for batch ID: \".concat(batchId));\n        const response = await fetch(\"\".concat(API_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            if (response.status === 404) {\n                console.log('ðŸ“­ No existing data found for batch');\n                return {\n                    success: true,\n                    data: null\n                };\n            }\n            throw new Error(\"Failed to fetch batch data: \".concat(response.status));\n        }\n        const responseData = await response.json();\n        console.log('ðŸ“¦ Fetched batch data:', responseData);\n        if (responseData.success && responseData.data && responseData.data.items) {\n            return {\n                success: true,\n                data: responseData.data.items\n            };\n        }\n        if (responseData.data && Array.isArray(responseData.data)) {\n            return {\n                success: true,\n                data: responseData.data\n            };\n        }\n        if (Array.isArray(responseData)) {\n            return {\n                success: true,\n                data: responseData\n            };\n        }\n        if (responseData.id || responseData.batch_id) {\n            return {\n                success: true,\n                data: [\n                    responseData\n                ]\n            };\n        }\n        return {\n            success: true,\n            data: null\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching batch data:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst combineDateTime = (date, time)=>{\n    if (!date || !time) return null;\n    try {\n        const dateTimeStr = \"\".concat(date, \"T\").concat(time, \":00\");\n        const datetime = new Date(dateTimeStr);\n        if (isNaN(datetime.getTime())) return null;\n        return datetime.toISOString();\n    } catch (error) {\n        console.error('Error combining datetime:', error);\n        return null;\n    }\n};\nconst hasSubstageData = (substage)=>{\n    return substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.remarks;\n};\nconst validateStageSequencing = (material, toast)=>{\n    for(let i = 0; i < material.substages.length - 1; i++){\n        const currentStage = material.substages[i];\n        const nextStage = material.substages[i + 1];\n        if (!currentStage.endDate || !currentStage.endTime || !nextStage.startDate || !nextStage.startTime) {\n            continue;\n        }\n        const currentEnd = combineDateTime(currentStage.endDate, currentStage.endTime);\n        const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n        if (currentEnd && nextStart) {\n            if (new Date(currentEnd) > new Date(nextStart)) {\n                toast.error(\"\".concat(material.displayName, \": \").concat(nextStage.name, \" must start after \").concat(currentStage.name, \" ends\"));\n                return false;\n            }\n        }\n    }\n    return true;\n};\nconst hasCompleteMaterialData = function(material) {\n    let includePlainBunker = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    // Check main substages\n    const hasMainData = material.substages.some((substage)=>substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.remarks);\n    // If no data at all in main stages, return false (nothing to save)\n    if (!hasMainData && !includePlainBunker) {\n        console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": No data entered in main stages\"));\n        return false;\n    }\n    // Check main substages for completeness\n    for (const substage of material.substages){\n        if (substage.startDate && !substage.startTime) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete start data in \").concat(substage.name, \" (date without time)\"));\n            return false;\n        }\n        if (substage.startTime && !substage.startDate) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete start data in \").concat(substage.name, \" (time without date)\"));\n            return false;\n        }\n        if (substage.endDate && !substage.endTime) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete end data in \").concat(substage.name, \" (date without time)\"));\n            return false;\n        }\n        if (substage.endTime && !substage.endDate) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete end data in \").concat(substage.name, \" (time without date)\"));\n            return false;\n        }\n    }\n    // If includePlainBunker is true, check plain bunker substage\n    if (includePlainBunker && material.plainBunkerSubstage) {\n        const pb = material.plainBunkerSubstage;\n        // Check if plain bunker has any data\n        const hasPbData = pb.startDate || pb.startTime || pb.endDate || pb.endTime || pb.remarks;\n        if (hasPbData) {\n            // Validate completeness\n            if (pb.startDate && !pb.startTime) return false;\n            if (pb.startTime && !pb.startDate) return false;\n            if (pb.endDate && !pb.endTime) return false;\n            if (pb.endTime && !pb.endDate) return false;\n            // Validate date range if both dates present\n            if (pb.startDate && pb.startTime && pb.endDate && pb.endTime) {\n                const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n                const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n                if (startDateTime > endDateTime) return false;\n            }\n        }\n    }\n    console.log(\"âœ… \".concat(material.displayName, \": Has valid data to save\"));\n    return true;\n};\nconst validatePlainBunkerData = (material)=>{\n    const pb = material.plainBunkerSubstage;\n    if (!pb) return true;\n    // Check if plain bunker stage has complete data (date and time both present)\n    const hasPbData = pb.startDate || pb.startTime || pb.endDate || pb.endTime;\n    if (hasPbData) {\n        // Validate start fields\n        if (pb.startDate && !pb.startTime) return false;\n        if (pb.startTime && !pb.startDate) return false;\n        // Validate end fields\n        if (pb.endDate && !pb.endTime) return false;\n        if (pb.endTime && !pb.endDate) return false;\n        // Validate date range\n        if (pb.startDate && pb.startTime && pb.endDate && pb.endTime) {\n            const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n            const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n            if (startDateTime > endDateTime) return false;\n        }\n    }\n    return true;\n};\nconst convertToApiPayload = (batch, material, isCompleted)=>{\n    if (!material) return null;\n    const soaking = material.substages[0] || createEmptySubstage(\"Soaking\");\n    const soakingRest = material.substages[1] || createEmptySubstage(\"Soaking Rest\");\n    const resoakingOne = material.substages[2] || createEmptySubstage(\"Re Soaking 1\");\n    const resoakingRest = material.substages[3] || createEmptySubstage(\"Re Soaking 1 Rest\");\n    const resoakingTwo = material.substages[4] || createEmptySubstage(\"Re Soaking 2\");\n    const resoakingTwoRest = material.substages[5] || createEmptySubstage(\"Re Soaking 2 Rest\");\n    const plainBunker = material.plainBunkerSubstage || createEmptySubstage(\"Plain Bunker\");\n    // Helper function to format datetime without milliseconds and timezone\n    const formatDateTime = (dateTimeStr)=>{\n        if (!dateTimeStr) return null;\n        try {\n            const date = new Date(dateTimeStr);\n            if (isNaN(date.getTime())) return null;\n            const year = date.getFullYear();\n            const month = String(date.getMonth() + 1).padStart(2, '0');\n            const day = String(date.getDate()).padStart(2, '0');\n            const hours = String(date.getHours()).padStart(2, '0');\n            const minutes = String(date.getMinutes()).padStart(2, '0');\n            const seconds = String(date.getSeconds()).padStart(2, '0');\n            return \"\".concat(year, \"-\").concat(month, \"-\").concat(day, \"T\").concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n        } catch (error) {\n            console.error('Error formatting datetime:', error);\n            return null;\n        }\n    };\n    // Only combine dates if both date and time exist\n    const soaking_start = soaking.startDate && soaking.startTime ? combineDateTime(soaking.startDate, soaking.startTime) : null;\n    const soaking_end = soaking.endDate && soaking.endTime ? combineDateTime(soaking.endDate, soaking.endTime) : null;\n    const soaking_rest_start = soakingRest.startDate && soakingRest.startTime ? combineDateTime(soakingRest.startDate, soakingRest.startTime) : null;\n    const soaking_rest_end = soakingRest.endDate && soakingRest.endTime ? combineDateTime(soakingRest.endDate, soakingRest.endTime) : null;\n    const resoaking_one_start = resoakingOne.startDate && resoakingOne.startTime ? combineDateTime(resoakingOne.startDate, resoakingOne.startTime) : null;\n    const resoaking_one_end = resoakingOne.endDate && resoakingOne.endTime ? combineDateTime(resoakingOne.endDate, resoakingOne.endTime) : null;\n    const resoaking_rest_start = resoakingRest.startDate && resoakingRest.startTime ? combineDateTime(resoakingRest.startDate, resoakingRest.startTime) : null;\n    const resoaking_rest_end = resoakingRest.endDate && resoakingRest.endTime ? combineDateTime(resoakingRest.endDate, resoakingRest.endTime) : null;\n    const resoaking_two_start = resoakingTwo.startDate && resoakingTwo.startTime ? combineDateTime(resoakingTwo.startDate, resoakingTwo.startTime) : null;\n    const resoaking_two_end = resoakingTwo.endDate && resoakingTwo.endTime ? combineDateTime(resoakingTwo.endDate, resoakingTwo.endTime) : null;\n    const resoaking_two_rest_start = resoakingTwoRest.startDate && resoakingTwoRest.startTime ? combineDateTime(resoakingTwoRest.startDate, resoakingTwoRest.startTime) : null;\n    const resoaking_two_rest_end = resoakingTwoRest.endDate && resoakingTwoRest.endTime ? combineDateTime(resoakingTwoRest.endDate, resoakingTwoRest.endTime) : null;\n    const plain_bunker_start = plainBunker.startDate && plainBunker.startTime ? combineDateTime(plainBunker.startDate, plainBunker.startTime) : null;\n    const plain_bunker_end = plainBunker.endDate && plainBunker.endTime ? combineDateTime(plainBunker.endDate, plainBunker.endTime) : null;\n    const apiStrawType = material.type;\n    // Format all datetime fields to match the expected format\n    const payload = {\n        batch_id: batch.id,\n        straw_type: apiStrawType,\n        start_time: formatDateTime(soaking_start),\n        end_time: formatDateTime(resoaking_two_rest_end || plain_bunker_end),\n        iscompleted: isCompleted,\n        soaking: {\n            start_time: formatDateTime(soaking_start),\n            end_time: formatDateTime(soaking_end)\n        },\n        soaking_rest: {\n            start_time: formatDateTime(soaking_rest_start),\n            end_time: formatDateTime(soaking_rest_end)\n        },\n        resoaking_one: {\n            start_time: formatDateTime(resoaking_one_start),\n            end_time: formatDateTime(resoaking_one_end)\n        },\n        resoaking_rest: {\n            start_time: formatDateTime(resoaking_rest_start),\n            end_time: formatDateTime(resoaking_rest_end)\n        },\n        resoaking_two: {\n            start_time: formatDateTime(resoaking_two_start),\n            end_time: formatDateTime(resoaking_two_end)\n        },\n        resoaking_two_rest: {\n            start_time: formatDateTime(resoaking_two_rest_start),\n            end_time: formatDateTime(resoaking_two_rest_end)\n        },\n        plain_bunker: {\n            start_time: formatDateTime(plain_bunker_start),\n            end_time: formatDateTime(plain_bunker_end)\n        }\n    };\n    // Remove null values but keep the structure\n    Object.keys(payload).forEach((key)=>{\n        if (payload[key] === null) {\n            delete payload[key];\n        } else if (typeof payload[key] === 'object' && payload[key] !== null && key !== 'batch_id' && key !== 'straw_type' && key !== 'iscompleted') {\n            let hasValidField = false;\n            Object.keys(payload[key]).forEach((subKey)=>{\n                if (payload[key][subKey] === null) {\n                    delete payload[key][subKey];\n                } else {\n                    hasValidField = true;\n                }\n            });\n            if (!hasValidField) {\n                delete payload[key];\n            }\n        }\n    });\n    console.log(\"\\uD83D\\uDCE6 Generated payload for \".concat(material.displayName, \":\"), payload);\n    return payload;\n};\nconst convertApiResponseToUI = (apiData, batch)=>{\n    if (!apiData || !Array.isArray(apiData)) {\n        console.log('âŒ No valid API data array to convert:', apiData);\n        return batch;\n    }\n    console.log('ðŸ”„ Converting API data to UI. Found items:', apiData.length);\n    batch.materials.forEach((material)=>{\n        const materialData = apiData.find((d)=>d.straw_type && d.straw_type === material.type);\n        if (!materialData) {\n            console.log(\"â„¹ï¸ No data found for material: \".concat(material.displayName, \" (type: \").concat(material.type, \")\"));\n            return;\n        }\n        console.log(\"âœ… Found data for \".concat(material.displayName, \":\"), materialData);\n        if (materialData.id) {\n            material.recordId = materialData.id;\n            material.hasExistingData = true;\n            console.log(\"\\uD83D\\uDCDD Setting recordId for \".concat(material.displayName, \": \").concat(materialData.id));\n        }\n        const substageMapping = [\n            {\n                name: \"Soaking\",\n                data: materialData.soaking\n            },\n            {\n                name: \"Soaking Rest\",\n                data: materialData.soaking_rest\n            },\n            {\n                name: \"Re Soaking 1\",\n                data: materialData.resoaking_one\n            },\n            {\n                name: \"Re Soaking 1 Rest\",\n                data: materialData.resoaking_rest\n            },\n            {\n                name: \"Re Soaking 2\",\n                data: materialData.resoaking_two\n            },\n            {\n                name: \"Re Soaking 2 Rest\",\n                data: materialData.resoaking_two_rest\n            }\n        ];\n        substageMapping.forEach((mapping, index)=>{\n            if (mapping.data) {\n                console.log(\"\\uD83D\\uDCCA Processing \".concat(mapping.name, \" for \").concat(material.displayName, \":\"), mapping.data);\n                if (mapping.data.start_time) {\n                    const { date: startDate, time: startTime } = parseDateTime(mapping.data.start_time);\n                    material.substages[index].startDate = startDate;\n                    material.substages[index].startTime = startTime;\n                    console.log(\"  Start: \".concat(startDate, \" \").concat(startTime));\n                }\n                if (mapping.data.end_time) {\n                    const { date: endDate, time: endTime } = parseDateTime(mapping.data.end_time);\n                    material.substages[index].endDate = endDate;\n                    material.substages[index].endTime = endTime;\n                    console.log(\"  End: \".concat(endDate, \" \").concat(endTime));\n                }\n                if (mapping.data.duration_hours !== undefined && mapping.data.duration_hours !== null) {\n                    material.substages[index].totalHours = mapping.data.duration_hours.toString();\n                    console.log(\"  Duration: \".concat(mapping.data.duration_hours, \" hours\"));\n                }\n                if (mapping.data.remarks) {\n                    material.substages[index].remarks = mapping.data.remarks;\n                }\n            } else {\n                console.log(\"âš ï¸ No data for \".concat(mapping.name, \" in \").concat(material.displayName));\n            }\n        });\n        // Load plain bunker data if exists\n        if (materialData.plain_bunker) {\n            const pbData = materialData.plain_bunker;\n            console.log(\"\\uD83D\\uDCCA Processing Plain Bunker for \".concat(material.displayName, \":\"), pbData);\n            if (pbData.start_time) {\n                const { date: startDate, time: startTime } = parseDateTime(pbData.start_time);\n                material.plainBunkerSubstage.startDate = startDate;\n                material.plainBunkerSubstage.startTime = startTime;\n            }\n            if (pbData.end_time) {\n                const { date: endDate, time: endTime } = parseDateTime(pbData.end_time);\n                material.plainBunkerSubstage.endDate = endDate;\n                material.plainBunkerSubstage.endTime = endTime;\n            }\n            if (pbData.duration_hours !== undefined && pbData.duration_hours !== null) {\n                material.plainBunkerSubstage.totalHours = pbData.duration_hours.toString();\n            }\n            if (pbData.remarks) {\n                material.plainBunkerSubstage.remarks = pbData.remarks;\n            }\n        }\n    });\n    console.log('âœ… Finished converting API data to UI');\n    return batch;\n};\nconst sendToApi = async (payload, materialType, displayName)=>{\n    try {\n        console.log(\"\\n\\uD83D\\uDE80 SENDING \".concat(displayName, \" DATA TO API (\").concat(materialType, \")\"));\n        console.log(\"URL: \".concat(API_ENDPOINT));\n        console.log('Full payload:', JSON.stringify(payload, null, 2));\n        const response = await fetch(API_ENDPOINT, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE for \".concat(displayName, \": Status \").concat(response.status));\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error('âŒ API Error Response:', errorData);\n            let errorMessage = \"API error: \".concat(response.status);\n            if (errorData.detail) {\n                if (typeof errorData.detail === 'string') {\n                    errorMessage = errorData.detail;\n                } else if (Array.isArray(errorData.detail)) {\n                    errorMessage = errorData.detail.map((err)=>err.msg).join(', ');\n                } else if (typeof errorData.detail === 'object') {\n                    errorMessage = JSON.stringify(errorData.detail);\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        console.log(\"âœ… SUCCESS for \".concat(displayName, \":\"), result);\n        return {\n            success: true,\n            data: result,\n            materialType,\n            displayName\n        };\n    } catch (error) {\n        console.error(\"âŒ ERROR sending \".concat(displayName, \" data:\"), error);\n        return {\n            success: false,\n            error: error.message,\n            materialType,\n            displayName\n        };\n    }\n};\n// ==================== NEW BATCH API FUNCTIONS ====================\n/**\r\n * Get batch by ID (GET)\r\n */ const getBatchById = async (batchId)=>{\n    try {\n        console.log(\"\\n\\uD83D\\uDD0D FETCHING BATCH \".concat(batchId));\n        const url = \"\".concat(BATCH_API_ENDPOINT, \"/\").concat(batchId);\n        console.log(\"URL: \".concat(url));\n        const response = await fetch(url, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE: Status \".concat(response.status));\n        if (!response.ok) {\n            if (response.status === 404) {\n                console.log('ðŸ“­ Batch not found');\n                return {\n                    success: true,\n                    data: null\n                };\n            }\n            throw new Error(\"Failed to fetch batch: \".concat(response.status));\n        }\n        const result = await response.json();\n        console.log('âœ… Batch fetched successfully:', result);\n        // Handle different response structures\n        if (result.success && result.data) {\n            return {\n                success: true,\n                data: result.data\n            };\n        }\n        if (result.data) {\n            return {\n                success: true,\n                data: result.data\n            };\n        }\n        if (result.id) {\n            return {\n                success: true,\n                data: result\n            };\n        }\n        return {\n            success: true,\n            data: result\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching batch:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n/**\r\n * Get all batches (GET)\r\n */ const getAllBatches = async ()=>{\n    try {\n        console.log('\\nðŸ” FETCHING ALL BATCHES');\n        console.log(\"URL: \".concat(BATCH_API_ENDPOINT));\n        const response = await fetch(BATCH_API_ENDPOINT, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE: Status \".concat(response.status));\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch batches: \".concat(response.status));\n        }\n        const result = await response.json();\n        console.log('âœ… Batches fetched successfully');\n        // Handle different response structures\n        if (result.success && result.data) {\n            return {\n                success: true,\n                data: result.data\n            };\n        }\n        if (Array.isArray(result)) {\n            return {\n                success: true,\n                data: result\n            };\n        }\n        if (result.data && Array.isArray(result.data)) {\n            return {\n                success: true,\n                data: result.data\n            };\n        }\n        return {\n            success: true,\n            data: result\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching batches:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n/**\r\n * Update batch status (PUT) - This is the key function for updating plain_bunker_mixed\r\n */ const updateBatchStatus = async (batchId, plainBunkerMixed)=>{\n    try {\n        console.log(\"\\n\\uD83D\\uDE80 UPDATING BATCH \".concat(batchId, \" PLAIN BUNKER STATUS TO: \").concat(plainBunkerMixed));\n        const url = \"\".concat(BATCH_API_ENDPOINT, \"/\").concat(batchId);\n        console.log(\"URL: \".concat(url));\n        const payload = {\n            plain_bunker_mixed: plainBunkerMixed\n        };\n        console.log('Payload:', payload);\n        const response = await fetch(url, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE: Status \".concat(response.status));\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error('âŒ API Error Response:', errorData);\n            let errorMessage = \"Failed to update batch status: \".concat(response.status);\n            if (errorData.detail) {\n                if (typeof errorData.detail === 'string') {\n                    errorMessage = errorData.detail;\n                } else if (Array.isArray(errorData.detail)) {\n                    errorMessage = errorData.detail.map((err)=>err.msg).join(', ');\n                } else {\n                    errorMessage = JSON.stringify(errorData.detail);\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        console.log('âœ… Batch status updated successfully:', result);\n        // Handle different response structures\n        if (result.success && result.data) {\n            return {\n                success: true,\n                data: result.data\n            };\n        }\n        if (result.data) {\n            return {\n                success: true,\n                data: result.data\n            };\n        }\n        if (result.id) {\n            return {\n                success: true,\n                data: result\n            };\n        }\n        return {\n            success: true,\n            data: result\n        };\n    } catch (error) {\n        console.error('âŒ Error updating batch status:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n/**\r\n * Create a new batch (POST) - if needed in the future\r\n */ const createBatch = async (batchData)=>{\n    try {\n        console.log('\\nðŸš€ CREATING NEW BATCH');\n        console.log(\"URL: \".concat(BATCH_API_ENDPOINT));\n        console.log('Payload:', batchData);\n        const response = await fetch(BATCH_API_ENDPOINT, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(batchData)\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE: Status \".concat(response.status));\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error('âŒ API Error Response:', errorData);\n            throw new Error(\"Failed to create batch: \".concat(response.status));\n        }\n        const result = await response.json();\n        console.log('âœ… Batch created successfully:', result);\n        return {\n            success: true,\n            data: result\n        };\n    } catch (error) {\n        console.error('âŒ Error creating batch:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n// ==================== END OF NEW BATCH API FUNCTIONS ====================\nconst MaterialTable = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(_s((param)=>{\n    let { material, onUpdate, showPlainBunker = false, readOnly = false } = param;\n    var _material_plainBunkerSubstage, _material_plainBunkerSubstage1, _material_plainBunkerSubstage2, _material_plainBunkerSubstage3, _material_plainBunkerSubstage4, _material_plainBunkerSubstage5, _material_plainBunkerSubstage6, _material_plainBunkerSubstage7, _material_plainBunkerSubstage8, _material_plainBunkerSubstage9;\n    _s();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const validateDateRange = function(substage, field, newValue, currentSubstage) {\n        let isPlainBunker = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n        if (field === 'startDate' || field === 'startTime') {\n            if (substage.endDate && substage.endTime) {\n                const newStartDateTime = field === 'startDate' ? combineDateTime(newValue, substage.startTime) : combineDateTime(substage.startDate, newValue);\n                const endDateTime = combineDateTime(substage.endDate, substage.endTime);\n                if (newStartDateTime && endDateTime && new Date(newStartDateTime) > new Date(endDateTime)) {\n                    toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": Start date/time cannot be after end date/time\"));\n                    return false;\n                }\n            }\n        } else if (field === 'endDate' || field === 'endTime') {\n            if (substage.startDate && substage.startTime) {\n                const startDateTime = combineDateTime(substage.startDate, substage.startTime);\n                const newEndDateTime = field === 'endDate' ? combineDateTime(newValue, substage.endTime) : combineDateTime(substage.endDate, newValue);\n                if (startDateTime && newEndDateTime && new Date(startDateTime) > new Date(newEndDateTime)) {\n                    toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": End date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const validateStageSequence = function(index, field, value, updatedMaterial) {\n        let isPlainBunker = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n        if (isPlainBunker) return true; // No sequence validation for plain bunker\n        const substage = updatedMaterial.substages[index];\n        const tempSubstage = {\n            ...substage,\n            [field]: value\n        };\n        const stageIndex = index;\n        if (stageIndex > 0) {\n            const prevStage = updatedMaterial.substages[stageIndex - 1];\n            if (prevStage.endDate && prevStage.endTime && tempSubstage.startDate && tempSubstage.startTime) {\n                const prevEnd = combineDateTime(prevStage.endDate, prevStage.endTime);\n                const currentStart = combineDateTime(tempSubstage.startDate, tempSubstage.startTime);\n                if (prevEnd && currentStart && new Date(prevEnd) > new Date(currentStart)) {\n                    toast.error(\"\".concat(material.displayName, \": \").concat(tempSubstage.name, \" must start after \").concat(prevStage.name, \" ends\"));\n                    return false;\n                }\n            }\n        }\n        if (stageIndex < updatedMaterial.substages.length - 1) {\n            const nextStage = updatedMaterial.substages[stageIndex + 1];\n            if (tempSubstage.endDate && tempSubstage.endTime && nextStage.startDate && nextStage.startTime) {\n                const currentEnd = combineDateTime(tempSubstage.endDate, tempSubstage.endTime);\n                const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n                if (currentEnd && nextStart && new Date(currentEnd) > new Date(nextStart)) {\n                    toast.error(\"\".concat(material.displayName, \": \").concat(nextStage.name, \" must start after \").concat(tempSubstage.name, \" ends\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const getMinEndDate = (substage)=>{\n        if (substage.startDate) {\n            return substage.startDate;\n        }\n        return undefined;\n    };\n    const getMinEndTime = (substage)=>{\n        if (substage.startDate === substage.endDate && substage.startTime) {\n            return substage.startTime;\n        }\n        return undefined;\n    };\n    const handleInputChange = function(index, field, value) {\n        let isPlainBunker = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;\n        if (readOnly) return;\n        const updatedMaterial = {\n            ...material\n        };\n        if (isPlainBunker) {\n            const substage = updatedMaterial.plainBunkerSubstage;\n            if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n                if (!validateDateRange(substage, field, value, substage, true)) {\n                    return;\n                }\n            }\n            substage[field] = value;\n            if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n                substage.totalHours = diffHours.toFixed(1);\n            }\n        } else {\n            const substage = updatedMaterial.substages[index];\n            if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n                if (!validateDateRange(substage, field, value, substage)) {\n                    return;\n                }\n            }\n            substage[field] = value;\n            if (!validateStageSequence(index, field, value, updatedMaterial)) {\n                return;\n            }\n            if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n                substage.totalHours = diffHours.toFixed(1);\n            }\n        }\n        onUpdate(updatedMaterial);\n    };\n    const getTableTitle = ()=>{\n        return \"\".concat(material.displayName, \" Soaking Process\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"table-section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"table-title\",\n                children: getTableTitle()\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 903,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"entry-table-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                    className: \"entry-table\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Substage\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 908,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"Start\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 909,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"End\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 910,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Total Hours\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 911,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Remarks\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 912,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 907,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 915,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 916,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 917,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 918,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 914,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 906,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                            children: [\n                                material.substages.map((substage, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                className: \"substage-name\",\n                                                children: substage.name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 924,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"date\",\n                                                    value: substage.startDate || '',\n                                                    onChange: (e)=>handleInputChange(index, 'startDate', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    max: substage.endDate || undefined\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 926,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 925,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"time\",\n                                                    value: substage.startTime || '',\n                                                    onChange: (e)=>handleInputChange(index, 'startTime', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    max: substage.startDate === substage.endDate ? substage.endTime : undefined\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 936,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 935,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"date\",\n                                                    value: substage.endDate || '',\n                                                    onChange: (e)=>handleInputChange(index, 'endDate', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    min: getMinEndDate(substage)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 946,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 945,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"time\",\n                                                    value: substage.endTime || '',\n                                                    onChange: (e)=>handleInputChange(index, 'endTime', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    min: getMinEndTime(substage)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 956,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 955,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: substage.totalHours || '',\n                                                    readOnly: true,\n                                                    className: \"table-input\",\n                                                    placeholder: \"Auto-calc\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 966,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 965,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: substage.remarks || '',\n                                                    onChange: (e)=>handleInputChange(index, 'remarks', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    placeholder: \"Add remarks...\",\n                                                    disabled: readOnly\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 975,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 974,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                        lineNumber: 923,\n                                        columnNumber: 15\n                                    }, undefined)),\n                                showPlainBunker && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    className: \"plain-bunker-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"substage-name plain-bunker\",\n                                            children: \"Plain Bunker\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 988,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: ((_material_plainBunkerSubstage = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage === void 0 ? void 0 : _material_plainBunkerSubstage.startDate) || '',\n                                                onChange: (e)=>handleInputChange(null, 'startDate', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: ((_material_plainBunkerSubstage1 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage1 === void 0 ? void 0 : _material_plainBunkerSubstage1.endDate) || undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 990,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 989,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: ((_material_plainBunkerSubstage2 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage2 === void 0 ? void 0 : _material_plainBunkerSubstage2.startTime) || '',\n                                                onChange: (e)=>handleInputChange(null, 'startTime', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: ((_material_plainBunkerSubstage3 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage3 === void 0 ? void 0 : _material_plainBunkerSubstage3.startDate) === ((_material_plainBunkerSubstage4 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage4 === void 0 ? void 0 : _material_plainBunkerSubstage4.endDate) ? (_material_plainBunkerSubstage5 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage5 === void 0 ? void 0 : _material_plainBunkerSubstage5.endTime : undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 1000,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 999,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: ((_material_plainBunkerSubstage6 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage6 === void 0 ? void 0 : _material_plainBunkerSubstage6.endDate) || '',\n                                                onChange: (e)=>handleInputChange(null, 'endDate', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndDate(material.plainBunkerSubstage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 1010,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1009,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: ((_material_plainBunkerSubstage7 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage7 === void 0 ? void 0 : _material_plainBunkerSubstage7.endTime) || '',\n                                                onChange: (e)=>handleInputChange(null, 'endTime', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndTime(material.plainBunkerSubstage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 1020,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1019,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: ((_material_plainBunkerSubstage8 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage8 === void 0 ? void 0 : _material_plainBunkerSubstage8.totalHours) || '',\n                                                readOnly: true,\n                                                className: \"table-input\",\n                                                placeholder: \"Auto-calc\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 1030,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1029,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: ((_material_plainBunkerSubstage9 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage9 === void 0 ? void 0 : _material_plainBunkerSubstage9.remarks) || '',\n                                                onChange: (e)=>handleInputChange(null, 'remarks', e.target.value, true),\n                                                className: \"table-input\",\n                                                placeholder: \"Add remarks...\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 1039,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1038,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 987,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 921,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 905,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 904,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 902,\n        columnNumber: 5\n    }, undefined);\n}, \"WUU7e0p6AiTpvVrXhi50JBdcu+0=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast\n    ];\n}));\n_c = MaterialTable;\nMaterialTable.displayName = 'MaterialTable';\nfunction BatchSelection(param) {\n    let { onSelectBatch, loading, error, initialBatchNumber, initialBatchId } = param;\n    _s1();\n    const [batchNumber, setBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBatchNumber || '');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const hasLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Auto-load batch if initialBatchNumber is provided\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BatchSelection.useEffect\": ()=>{\n            if (initialBatchNumber && !hasLoadedRef.current && !loading) {\n                setBatchNumber(initialBatchNumber);\n                handleLoadBatch(initialBatchNumber, initialBatchId);\n                hasLoadedRef.current = true;\n            }\n        }\n    }[\"BatchSelection.useEffect\"], [\n        initialBatchNumber,\n        initialBatchId,\n        loading\n    ]);\n    const getMaterialsFromBatch = (batchData)=>{\n        const materials = new Set();\n        if (batchData && batchData.formulation_entries) {\n            batchData.formulation_entries.forEach((entry)=>{\n                const materialName = entry.name.toUpperCase();\n                if (MATERIAL_TYPES[materialName] !== undefined) {\n                    materials.add(materialName);\n                    console.log(\"\\uD83D\\uDCCC Found material: \".concat(materialName, \" -> \").concat(MATERIAL_TYPES[materialName]));\n                }\n            });\n        }\n        return Array.from(materials);\n    };\n    const handleLoadBatch = async (batchNum, batchId)=>{\n        if (!batchNum.trim()) {\n            toast.error('Please enter a batch number');\n            return;\n        }\n        setIsLoading(true);\n        try {\n            console.log(\"\\uD83D\\uDD0D Fetching batch details for: \".concat(batchNum, \" with ID: \").concat(batchId || 'unknown'));\n            let selectedBatch = null;\n            // Try to fetch by ID first if provided\n            if (batchId) {\n                console.log(\"\\uD83D\\uDCE1 Using getBatchById API with ID: \".concat(batchId));\n                const batchResult = await getBatchById(batchId);\n                if (batchResult.success && batchResult.data) {\n                    selectedBatch = batchResult.data;\n                    console.log('âœ… Found batch by ID:', selectedBatch);\n                } else if (!batchResult.success) {\n                    console.log(\"âš ï¸ Failed to fetch by ID: \".concat(batchResult.error));\n                }\n            }\n            // If not found by ID or no ID provided, try to find by batch number\n            if (!selectedBatch) {\n                console.log(\"\\uD83D\\uDCE1 Fetching all batches to find by batch number: \".concat(batchNum));\n                const allBatchesResult = await getAllBatches();\n                if (allBatchesResult.success && allBatchesResult.data) {\n                    const batches = allBatchesResult.data;\n                    selectedBatch = batches.find((b)=>b.batch_number === batchNum.trim());\n                    if (selectedBatch) {\n                        console.log('âœ… Found batch by batch number:', selectedBatch);\n                    } else {\n                        toast.error('Batch number not found');\n                        setIsLoading(false);\n                        return;\n                    }\n                } else {\n                    toast.error('Failed to fetch batches');\n                    setIsLoading(false);\n                    return;\n                }\n            }\n            if (!selectedBatch) {\n                toast.error('Batch not found');\n                setIsLoading(false);\n                return;\n            }\n            const materials = getMaterialsFromBatch(selectedBatch);\n            if (materials.length === 0) {\n                toast.error('No suitable materials (Bagasse, Wheat Straw, or Paddy Straw) found in this batch');\n                setIsLoading(false);\n                return;\n            }\n            console.log(\"\\uD83D\\uDCCB Materials to process:\", materials);\n            console.log(\"\\uD83D\\uDCCB Number of material tables: \".concat(materials.length));\n            const newBatch = createEmptyBatch(batchNum, materials, selectedBatch.id);\n            newBatch.batchData = selectedBatch;\n            console.log('ðŸ“Š Fetching straw data for batch ID:', selectedBatch.id);\n            const strawDataResult = await fetchBatchData(selectedBatch.id);\n            if (strawDataResult.success && strawDataResult.data) {\n                console.log('ðŸ“¦ Raw API data:', strawDataResult.data);\n                const populatedBatch = convertApiResponseToUI(strawDataResult.data, newBatch);\n                console.log('âœ… Populated batch:', populatedBatch);\n                onSelectBatch(populatedBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" with existing data (\").concat(materials.length, \" material table\").concat(materials.length > 1 ? 's' : '', \")\"));\n            } else if (strawDataResult.success && !strawDataResult.data) {\n                onSelectBatch(newBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" (\").concat(materials.length, \" material table\").concat(materials.length > 1 ? 's' : '', \" - no existing data)\"));\n            } else {\n                toast.warning(\"Loaded batch \".concat(batchNum, \" but failed to fetch existing data\"));\n                onSelectBatch(newBatch);\n            }\n        } catch (err) {\n            console.error('âŒ Error loading batch:', err);\n            toast.error('Error loading batch details. Please try again.');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleCreateNew = ()=>{\n        if (isLoading || loading) return;\n        handleLoadBatch(batchNumber);\n    };\n    const handleBackClick = ()=>{\n        // Clear the URL params when going back\n        router.push('/soaking');\n        // Clear the batch number and allow new input\n        setBatchNumber('');\n        hasLoadedRef.current = false;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"batch-selection\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Soaking Process Entry\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 1201,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 1204,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"selection-panel\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"new-batch-section\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Enter Batch Number\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 1211,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"batch-input-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    placeholder: \"Enter Batch Number (e.g., BATCH-001)\",\n                                    value: batchNumber,\n                                    onChange: (e)=>setBatchNumber(e.target.value),\n                                    className: \"batch-input\",\n                                    disabled: isLoading || loading\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1213,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCreateNew,\n                                    className: \"btn-primary\",\n                                    disabled: isLoading || loading,\n                                    children: isLoading || loading ? 'Loading...' : 'Load Batch'\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1221,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 1212,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 1210,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 1209,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 1200,\n        columnNumber: 5\n    }, this);\n}\n_s1(BatchSelection, \"bSsv6SxcH5WNCl5iqtC1T5kE3FA=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c1 = BatchSelection;\nfunction SoakingContent() {\n    _s2();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [currentBatch, setCurrentBatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [savedBatches, setSavedBatches] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchNumber, setInitialBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchId, setInitialBatchId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isSavingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Get batch number and ID from URL params\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SoakingContent.useEffect\": ()=>{\n            const batchNum = searchParams.get('batch');\n            const batchId = searchParams.get('batchId');\n            if (batchNum) {\n                setInitialBatchNumber(batchNum);\n                setInitialBatchId(batchId);\n            }\n        }\n    }[\"SoakingContent.useEffect\"], [\n        searchParams\n    ]);\n    const handleSelectBatch = (batch)=>{\n        console.log('âœ… Setting current batch:', batch);\n        setCurrentBatch(batch);\n    };\n    const handleUpdateMaterial = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"SoakingContent.useCallback[handleUpdateMaterial]\": (index, updatedMaterial)=>{\n            setCurrentBatch({\n                \"SoakingContent.useCallback[handleUpdateMaterial]\": (prevBatch)=>{\n                    if (!prevBatch) return prevBatch;\n                    const updatedMaterials = [\n                        ...prevBatch.materials\n                    ];\n                    updatedMaterials[index] = updatedMaterial;\n                    return {\n                        ...prevBatch,\n                        materials: updatedMaterials\n                    };\n                }\n            }[\"SoakingContent.useCallback[handleUpdateMaterial]\"]);\n        }\n    }[\"SoakingContent.useCallback[handleUpdateMaterial]\"], []);\n    const handleMoveToPlainBunkerChange = (value)=>{\n        setCurrentBatch((prevBatch)=>({\n                ...prevBatch,\n                moveToPlainBunker: value === 'yes'\n            }));\n    };\n    const validateBatchData = function(batch) {\n        let includePlainBunker = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        for (const material of batch.materials){\n            // Validate main substages\n            for (const substage of material.substages){\n                if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                    const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                    const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                    if (startDateTime > endDateTime) {\n                        toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": End date/time cannot be before start date/time\"));\n                        return false;\n                    }\n                }\n                if ((substage.startDate || substage.startTime) && (!substage.startDate || !substage.startTime)) {\n                    toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - \").concat(substage.name, \" start\"));\n                    return false;\n                }\n                if ((substage.endDate || substage.endTime) && (!substage.endDate || !substage.endTime)) {\n                    toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - \").concat(substage.name, \" end\"));\n                    return false;\n                }\n            }\n            if (!validateStageSequencing(material, toast)) {\n                return false;\n            }\n            // Validate plain bunker if included\n            if (includePlainBunker && material.plainBunkerSubstage) {\n                const pb = material.plainBunkerSubstage;\n                const hasPbData = pb.startDate || pb.startTime || pb.endDate || pb.endTime;\n                if (hasPbData) {\n                    if (pb.startDate && !pb.startTime || pb.startTime && !pb.startDate) {\n                        toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - Plain Bunker start\"));\n                        return false;\n                    }\n                    if (pb.endDate && !pb.endTime || pb.endTime && !pb.endDate) {\n                        toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - Plain Bunker end\"));\n                        return false;\n                    }\n                    if (pb.startDate && pb.startTime && pb.endDate && pb.endTime) {\n                        const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n                        const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n                        if (startDateTime > endDateTime) {\n                            toast.error(\"\".concat(material.displayName, \" - Plain Bunker: End date/time cannot be before start date/time\"));\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    const validateMoveToPlainBunker = (batch)=>{\n        if (batch.moveToPlainBunker === false) {\n            // If \"No\" is selected, validate that plain bunker data is complete for ALL materials\n            for (const material of batch.materials){\n                const pb = material.plainBunkerSubstage;\n                // Check if plain bunker has all required fields (except remarks)\n                if (!pb.startDate) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker row is required when selecting \"No\"'));\n                    return false;\n                }\n                if (!pb.startTime) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker start time is required when selecting \"No\"'));\n                    return false;\n                }\n                if (!pb.endDate) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker end date is required when selecting \"No\"'));\n                    return false;\n                }\n                if (!pb.endTime) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker end time is required when selecting \"No\"'));\n                    return false;\n                }\n                // Validate date range\n                const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n                const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n                if (startDateTime > endDateTime) {\n                    toast.error(\"\".concat(material.displayName, \": Plain Bunker end date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const handleSave = async ()=>{\n        if (!currentBatch || isSavingRef.current) return;\n        console.log('\\n========== ðŸš€ SAVE STARTED ==========');\n        console.log(\"Batch: \".concat(currentBatch.batchNumber, \" (ID: \").concat(currentBatch.id, \")\"));\n        console.log(\"Total materials: \".concat(currentBatch.materials.length));\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            for(let i = 0; i < currentBatch.materials.length; i++){\n                const material = currentBatch.materials[i];\n                console.log(\"\\n--- \\uD83D\\uDCDD Processing material \".concat(i + 1, \"/\").concat(currentBatch.materials.length, \": \").concat(material.displayName, \" ---\"));\n                // Check if material has complete data (including plain bunker if it's visible)\n                const includePlainBunker = currentBatch.moveToPlainBunker === false;\n                if (hasCompleteMaterialData(material, includePlainBunker)) {\n                    const payload = convertToApiPayload(currentBatch, material, false);\n                    if (payload) {\n                        hasAnyDataToSave = true;\n                        console.log(\"\\uD83D\\uDCE4 Making API call for \".concat(material.displayName, \" (\").concat(material.type, \")\"));\n                        const result = await sendToApi(payload, material.type, material.displayName);\n                        results.push({\n                            ...result,\n                            materialIndex: i,\n                            materialType: material.type\n                        });\n                        if (result.success) {\n                            successCount++;\n                            if (result.data && result.data.data && result.data.data.id) {\n                                setCurrentBatch((prevBatch)=>{\n                                    const updatedMaterials = [\n                                        ...prevBatch.materials\n                                    ];\n                                    updatedMaterials[i] = {\n                                        ...updatedMaterials[i],\n                                        recordId: result.data.data.id,\n                                        hasExistingData: true\n                                    };\n                                    return {\n                                        ...prevBatch,\n                                        materials: updatedMaterials\n                                    };\n                                });\n                            }\n                            toast.success(\"\".concat(material.displayName, \" data saved successfully!\"));\n                        } else {\n                            failCount++;\n                            toast.error(\"Failed to save \".concat(material.displayName, \" data: \").concat(result.error));\n                        }\n                    }\n                } else {\n                    console.log(\"â­ï¸ \".concat(material.displayName, \" has incomplete data, skipping\"));\n                }\n            }\n            console.log('\\n========== ðŸ“Š SAVE SUMMARY ==========');\n            console.log(\"Total API calls attempted: \".concat(results.length));\n            console.log(\"âœ… Successful: \".concat(successCount));\n            console.log(\"âŒ Failed: \".concat(failCount));\n            console.log('=====================================\\n');\n            if (!hasAnyDataToSave) {\n                toast.info('No complete data to save. Please fill in all required fields for at least one material.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            const existingIndex = savedBatches.findIndex((b)=>b.id === currentBatch.id);\n            if (existingIndex >= 0) {\n                const updated = [\n                    ...savedBatches\n                ];\n                updated[existingIndex] = {\n                    ...currentBatch,\n                    status: 'draft'\n                };\n                setSavedBatches(updated);\n            } else {\n                setSavedBatches([\n                    ...savedBatches,\n                    {\n                        ...currentBatch,\n                        status: 'draft'\n                    }\n                ]);\n            }\n            const allSuccess = results.every((r)=>r.success);\n            if (allSuccess) {\n                toast.success(\"All \".concat(successCount, \" material data saved successfully!\"));\n            } else {\n                toast.warning(\"\".concat(successCount, \" material(s) saved successfully, \").concat(failCount, \" failed\"));\n            }\n        } catch (error) {\n            toast.error('Failed to save batch data');\n            console.error('âŒ Save error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleMoveToPlainBunker = async ()=>{\n        if (!currentBatch || isSavingRef.current) return;\n        const hasData = currentBatch.materials.some((material)=>material.substages.some(hasSubstageData));\n        if (!hasData) {\n            toast.error('Please enter at least some data before moving');\n            return;\n        }\n        // Validate based on dropdown selection\n        if (!validateMoveToPlainBunker(currentBatch)) {\n            return;\n        }\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            // First save all material data\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            for(let i = 0; i < currentBatch.materials.length; i++){\n                const material = currentBatch.materials[i];\n                console.log(\"\\n--- \\uD83D\\uDCDD Processing material \".concat(i + 1, \"/\").concat(currentBatch.materials.length, \": \").concat(material.displayName, \" ---\"));\n                // Include plain bunker in validation when moving\n                const includePlainBunker = currentBatch.moveToPlainBunker === false;\n                // For \"No\" selection, ensure plain bunker data is complete\n                if (currentBatch.moveToPlainBunker === false) {\n                    const pb = material.plainBunkerSubstage;\n                    if (!pb.startDate || !pb.startTime || !pb.endDate || !pb.endTime) {\n                        toast.error(\"\".concat(material.displayName, \": Please complete all date/time fields for Plain Bunker\"));\n                        setLoading(false);\n                        isSavingRef.current = false;\n                        return;\n                    }\n                }\n                if (hasCompleteMaterialData(material, includePlainBunker)) {\n                    const payload = convertToApiPayload(currentBatch, material, true);\n                    if (payload) {\n                        hasAnyDataToSave = true;\n                        console.log(\"\\uD83D\\uDCE4 Making API call for \".concat(material.displayName, \" (\").concat(material.type, \")\"));\n                        const result = await sendToApi(payload, material.type, material.displayName);\n                        results.push({\n                            ...result,\n                            materialIndex: i,\n                            materialType: material.type\n                        });\n                        if (result.success) {\n                            successCount++;\n                            if (result.data && result.data.data && result.data.data.id) {\n                                setCurrentBatch((prevBatch)=>{\n                                    const updatedMaterials = [\n                                        ...prevBatch.materials\n                                    ];\n                                    updatedMaterials[i] = {\n                                        ...updatedMaterials[i],\n                                        recordId: result.data.data.id,\n                                        hasExistingData: true\n                                    };\n                                    return {\n                                        ...prevBatch,\n                                        materials: updatedMaterials\n                                    };\n                                });\n                            }\n                        } else {\n                            failCount++;\n                        }\n                    }\n                } else {\n                    console.log(\"â­ï¸ \".concat(material.displayName, \" has incomplete data, skipping\"));\n                }\n            }\n            if (!hasAnyDataToSave) {\n                toast.info('No complete data to save. Please fill in all required fields for at least one material.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            // If any material save failed, stop the process\n            if (failCount > 0) {\n                toast.error(\"Failed to save \".concat(failCount, \" material(s). Cannot proceed to Plain Bunker.\"));\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            // Update batch status using the new updateBatchStatus function\n            // Convert the boolean value correctly\n            const plainBunkerStatus = currentBatch.moveToPlainBunker === true;\n            console.log(\"\\uD83D\\uDCE4 Updating batch status to: \".concat(plainBunkerStatus, \" (from selection: \").concat(currentBatch.moveToPlainBunker, \")\"));\n            const batchUpdateResult = await updateBatchStatus(currentBatch.id, plainBunkerStatus);\n            if (batchUpdateResult.success) {\n                toast.success(\"Batch moved to Plain Bunker successfully with status: \".concat(plainBunkerStatus ? 'Yes' : 'No'));\n                // Clear the current batch and redirect to unified-platform\n                setCurrentBatch(null);\n                router.push('/unified-platform');\n            } else {\n                toast.error(\"Failed to update batch status: \".concat(batchUpdateResult.error));\n            }\n        } catch (error) {\n            toast.error('Failed to move batch to Plain Bunker');\n            console.error('âŒ Move error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleBackToSelection = ()=>{\n        // Clear the current batch to show the selection UI\n        setCurrentBatch(null);\n        // Clear URL params when going back\n        router.push('/soaking');\n        // Clear any saved state\n        setError(null);\n        // Reset the initial batch number state if needed\n        setInitialBatchNumber(null);\n        setInitialBatchId(null);\n    };\n    if (!currentBatch) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            title: \"Soaking Process\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"soaking-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BatchSelection, {\n                    onSelectBatch: handleSelectBatch,\n                    loading: loading,\n                    error: error,\n                    initialBatchNumber: initialBatchNumber,\n                    initialBatchId: initialBatchId\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 1613,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 1612,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n            lineNumber: 1611,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Soaking Process\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"soaking-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"entry-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-left\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleBackToSelection,\n                                    className: \"back-button\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                        lineNumber: 1631,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1630,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: currentBatch.batchNumber\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1633,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-count\",\n                                    children: [\n                                        \"(\",\n                                        currentBatch.materials.length,\n                                        \" material table\",\n                                        currentBatch.materials.length > 1 ? 's' : '',\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1634,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 1629,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-actions\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"move-to-plain-bunker-dropdown\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"plainBunkerSelect\",\n                                            children: \"Move to Plain Bunker:\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1640,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            id: \"plainBunkerSelect\",\n                                            value: currentBatch.moveToPlainBunker === true ? 'yes' : currentBatch.moveToPlainBunker === false ? 'no' : '',\n                                            onChange: (e)=>handleMoveToPlainBunkerChange(e.target.value),\n                                            className: \"plain-bunker-select\",\n                                            disabled: loading,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"\",\n                                                    disabled: true,\n                                                    children: \"Select\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 1648,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"yes\",\n                                                    children: \"Yes\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 1649,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"no\",\n                                                    children: \"No\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 1650,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1641,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1639,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSave,\n                                    className: \"btn-save\",\n                                    disabled: loading,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                            fontSize: \"small\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1658,\n                                            columnNumber: 15\n                                        }, this),\n                                        loading ? 'Saving...' : 'Save'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1653,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleMoveToPlainBunker,\n                                    className: \"btn-move\",\n                                    disabled: loading || currentBatch.moveToPlainBunker === undefined,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowForward__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                            fontSize: \"small\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1666,\n                                            columnNumber: 15\n                                        }, this),\n                                        loading ? 'Processing...' : 'Move to Plain Bunker'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1661,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 1638,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 1628,\n                    columnNumber: 9\n                }, this),\n                currentBatch.materials.map((material, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MaterialTable, {\n                        material: material,\n                        onUpdate: (updated)=>handleUpdateMaterial(index, updated),\n                        showPlainBunker: currentBatch.moveToPlainBunker === false,\n                        readOnly: false\n                    }, \"\".concat(material.type, \"-\").concat(index, \"-\").concat(material.recordId || 'new'), false, {\n                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                        lineNumber: 1673,\n                        columnNumber: 11\n                    }, this))\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n            lineNumber: 1627,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 1626,\n        columnNumber: 5\n    }, this);\n}\n_s2(SoakingContent, \"rZKbJLDIlUtXNw4nU4EjzL8GEKM=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = SoakingContent;\nfunction Soaking() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.ToastProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SoakingContent, {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n            lineNumber: 1689,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 1688,\n        columnNumber: 5\n    }, this);\n}\n_c3 = Soaking;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"MaterialTable\");\n$RefreshReg$(_c1, \"BatchSelection\");\n$RefreshReg$(_c2, \"SoakingContent\");\n$RefreshReg$(_c3, \"Soaking\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocGFnZXMpL3NvYWtpbmcvcGFnZS5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUN3RTtBQUNYO0FBQ1Y7QUFDdUI7QUFDbEM7QUFFUTtBQUNnQjtBQUNOO0FBRTFELHVFQUF1RTtBQUN2RSxNQUFNYSxpQkFBaUI7SUFDckIsV0FBVztJQUNYLGVBQWU7SUFDZixlQUFlO0FBQ2pCO0FBRUEsdUJBQXVCO0FBQ3ZCLE1BQU1DLHlCQUF5QjtJQUM3QixXQUFXO0lBQ1gsU0FBUztJQUNULFNBQVM7QUFDWDtBQUVBLE1BQU1DLGVBQWVDLDJCQUErQjtBQUNwRCxNQUFNRyxlQUFlLEdBQWdCLE9BQWJKLGNBQWE7QUFDckMsTUFBTUsscUJBQXFCLEdBQWdCLE9BQWJMLGNBQWE7QUFDM0MsTUFBTU0scUJBQXFCLEdBQWdCLE9BQWJOLGNBQWE7QUFFM0MsTUFBTU8sY0FBYztJQUNsQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRDtBQUVELE1BQU1DLHFCQUFxQjtBQUUzQixNQUFNQyxzQkFBc0IsQ0FBQ0MsT0FBVTtRQUNyQ0EsTUFBTUE7UUFDTkMsV0FBVztRQUNYQyxXQUFXO1FBQ1hDLFNBQVM7UUFDVEMsU0FBUztRQUNUQyxZQUFZO1FBQ1pDLFNBQVM7SUFDWDtBQUVBLE1BQU1DLG1CQUFtQixTQUFDQztRQUFhQyw2RUFBWSxFQUFFLEVBQUVDLDJFQUFVO0lBQy9ELE1BQU1DLFFBQVE7UUFDWkMsSUFBSUYsV0FBV0csS0FBS0MsR0FBRztRQUN2Qk4sYUFBYUE7UUFDYkMsV0FBVyxFQUFFO1FBQ2JNLFdBQVc7UUFDWEMsaUJBQWlCLENBQUM7UUFDbEJDLG1CQUFtQkMsVUFBVSw0REFBNEQ7SUFDM0Y7SUFFQVQsVUFBVVUsT0FBTyxDQUFDQyxDQUFBQTtRQUNoQixNQUFNQyxlQUFlakMsY0FBYyxDQUFDZ0MsU0FBUztRQUM3QyxJQUFJQyxpQkFBaUJILFdBQVc7WUFDOUJQLE1BQU1GLFNBQVMsQ0FBQ2Es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cml0aXNoYWdyby1hZG1pbi1wYW5lbFxcYnJpdGlzaGFncm9cXGFwcFxcKHBhZ2VzKVxcc29ha2luZ1xccGFnZS5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZVJvdXRlciwgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xyXG5pbXBvcnQgQXBwTGF5b3V0IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0FwcExheW91dFwiO1xyXG5pbXBvcnQgeyBUb2FzdFByb3ZpZGVyLCB1c2VUb2FzdCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2NvbW1vbi9Ub2FzdGVyXCI7XHJcbmltcG9ydCBcIi4uLy4uL3N0eWxlcy9wYWdlcy9zb2FraW5nLmNzc1wiO1xyXG5cclxuaW1wb3J0IFNhdmVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU2F2ZSc7XHJcbmltcG9ydCBBcnJvd0ZvcndhcmRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQXJyb3dGb3J3YXJkJztcclxuaW1wb3J0IEFycm93QmFja0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9BcnJvd0JhY2snO1xyXG5cclxuLy8gVXBkYXRlIE1BVEVSSUFMX1RZUEVTIHRvIG1hdGNoIHRoZSBleGFjdCBuYW1lcyBmcm9tIHRoZSBBUEkgcmVzcG9uc2VcclxuY29uc3QgTUFURVJJQUxfVFlQRVMgPSB7XHJcbiAgJ0JBR0FTU0UnOiAnQkFHQVNTRScsXHJcbiAgJ1dIRUFUIFNUUkFXJzogJ1dIRUFUJyxcclxuICAnUEFERFkgU1RSQVcnOiAnUEFERFknXHJcbn07XHJcblxyXG4vLyBEaXNwbGF5IG5hbWVzIGZvciBVSVxyXG5jb25zdCBNQVRFUklBTF9ESVNQTEFZX05BTUVTID0ge1xyXG4gICdCQUdBU1NFJzogJ0JhZ2Fzc2UnLFxyXG4gICdXSEVBVCc6ICdXaGVhdCBTdHJhdycsXHJcbiAgJ1BBRERZJzogJ1BhZGR5IFN0cmF3J1xyXG59O1xyXG5cclxuY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTDtcclxuY29uc3QgQVBJX0VORFBPSU5UID0gYCR7QVBJX0JBU0VfVVJMfS9zdHJhdy1wcmVwYXJhdGlvbi1sb2dgO1xyXG5jb25zdCBBUElfRkVUQ0hfRU5EUE9JTlQgPSBgJHtBUElfQkFTRV9VUkx9L3N0cmF3LXByZXBhcmF0aW9uLWxvZy9zdHJhd3NgO1xyXG5jb25zdCBCQVRDSF9BUElfRU5EUE9JTlQgPSBgJHtBUElfQkFTRV9VUkx9L2JhdGNoZXNgO1xyXG5cclxuY29uc3QgU1RBR0VfTkFNRVMgPSBbXHJcbiAgXCJTb2FraW5nXCIsXHJcbiAgXCJTb2FraW5nIFJlc3RcIiwgXHJcbiAgXCJSZSBTb2FraW5nIDFcIixcclxuICBcIlJlIFNvYWtpbmcgMSBSZXN0XCIsXHJcbiAgXCJSZSBTb2FraW5nIDJcIixcclxuICBcIlJlIFNvYWtpbmcgMiBSZXN0XCJcclxuXTtcclxuXHJcbmNvbnN0IFBMQUlOX0JVTktFUl9TVEFHRSA9IFwiUGxhaW4gQnVua2VyXCI7XHJcblxyXG5jb25zdCBjcmVhdGVFbXB0eVN1YnN0YWdlID0gKG5hbWUpID0+ICh7XHJcbiAgbmFtZTogbmFtZSxcclxuICBzdGFydERhdGU6ICcnLFxyXG4gIHN0YXJ0VGltZTogJycsXHJcbiAgZW5kRGF0ZTogJycsXHJcbiAgZW5kVGltZTogJycsXHJcbiAgdG90YWxIb3VyczogJycsXHJcbiAgcmVtYXJrczogJydcclxufSk7XHJcblxyXG5jb25zdCBjcmVhdGVFbXB0eUJhdGNoID0gKGJhdGNoTnVtYmVyLCBtYXRlcmlhbHMgPSBbXSwgYmF0Y2hJZCA9IG51bGwpID0+IHtcclxuICBjb25zdCBiYXRjaCA9IHtcclxuICAgIGlkOiBiYXRjaElkIHx8IERhdGUubm93KCksXHJcbiAgICBiYXRjaE51bWJlcjogYmF0Y2hOdW1iZXIsXHJcbiAgICBtYXRlcmlhbHM6IFtdLFxyXG4gICAgYmF0Y2hEYXRhOiBudWxsLFxyXG4gICAgZXhpc3RpbmdSZWNvcmRzOiB7fSxcclxuICAgIG1vdmVUb1BsYWluQnVua2VyOiB1bmRlZmluZWQgLy8gRGVmYXVsdCB2YWx1ZSBmb3IgZHJvcGRvd24gKHVuZGVmaW5lZCBtZWFucyBub3Qgc2VsZWN0ZWQpXHJcbiAgfTtcclxuXHJcbiAgbWF0ZXJpYWxzLmZvckVhY2gobWF0ZXJpYWwgPT4ge1xyXG4gICAgY29uc3QgYXBpU3RyYXdUeXBlID0gTUFURVJJQUxfVFlQRVNbbWF0ZXJpYWxdO1xyXG4gICAgaWYgKGFwaVN0cmF3VHlwZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGJhdGNoLm1hdGVyaWFscy5wdXNoKHtcclxuICAgICAgICB0eXBlOiBhcGlTdHJhd1R5cGUsXHJcbiAgICAgICAgbmFtZTogbWF0ZXJpYWwsXHJcbiAgICAgICAgZGlzcGxheU5hbWU6IE1BVEVSSUFMX0RJU1BMQVlfTkFNRVNbYXBpU3RyYXdUeXBlXSB8fCBtYXRlcmlhbCxcclxuICAgICAgICByZWNvcmRJZDogbnVsbCxcclxuICAgICAgICBoYXNFeGlzdGluZ0RhdGE6IGZhbHNlLFxyXG4gICAgICAgIHN1YnN0YWdlczogU1RBR0VfTkFNRVMubWFwKG5hbWUgPT4gY3JlYXRlRW1wdHlTdWJzdGFnZShuYW1lKSksXHJcbiAgICAgICAgcGxhaW5CdW5rZXJTdWJzdGFnZTogY3JlYXRlRW1wdHlTdWJzdGFnZShQTEFJTl9CVU5LRVJfU1RBR0UpIC8vIFNlcGFyYXRlIHBsYWluIGJ1bmtlciBzdWJzdGFnZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGJhdGNoO1xyXG59O1xyXG5cclxuY29uc3QgcGFyc2VEYXRlVGltZSA9IChkYXRldGltZSkgPT4ge1xyXG4gIGlmICghZGF0ZXRpbWUpIHJldHVybiB7IGRhdGU6ICcnLCB0aW1lOiAnJyB9O1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZXRpbWUpO1xyXG4gICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuIHsgZGF0ZTogJycsIHRpbWU6ICcnIH07XHJcbiAgICBcclxuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgaG91cnMgPSBTdHJpbmcoZGF0ZS5nZXRIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0ZTogYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YCxcclxuICAgICAgdGltZTogYCR7aG91cnN9OiR7bWludXRlc31gXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIGRhdGV0aW1lOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGU6ICcnLCB0aW1lOiAnJyB9O1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNhbGN1bGF0ZUhvdXJzID0gKHN0YXJ0RGF0ZVRpbWUsIGVuZERhdGVUaW1lKSA9PiB7XHJcbiAgaWYgKCFzdGFydERhdGVUaW1lIHx8ICFlbmREYXRlVGltZSkgcmV0dXJuICcnO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKHN0YXJ0RGF0ZVRpbWUpO1xyXG4gICAgY29uc3QgZW5kID0gbmV3IERhdGUoZW5kRGF0ZVRpbWUpO1xyXG4gICAgaWYgKGlzTmFOKHN0YXJ0LmdldFRpbWUoKSkgfHwgaXNOYU4oZW5kLmdldFRpbWUoKSkpIHJldHVybiAnJztcclxuICAgIFxyXG4gICAgY29uc3QgZGlmZkhvdXJzID0gKGVuZCAtIHN0YXJ0KSAvICgxMDAwICogNjAgKiA2MCk7XHJcbiAgICByZXR1cm4gZGlmZkhvdXJzLnRvRml4ZWQoMSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBmZXRjaEJhdGNoRGF0YSA9IGFzeW5jIChiYXRjaElkKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKGDwn5OKIEZldGNoaW5nIGRhdGEgZm9yIGJhdGNoIElEOiAke2JhdGNoSWR9YCk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9GRVRDSF9FTkRQT0lOVH0vJHtiYXRjaElkfWApO1xyXG4gICAgXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OtIE5vIGV4aXN0aW5nIGRhdGEgZm91bmQgZm9yIGJhdGNoJyk7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbnVsbCB9O1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGJhdGNoIGRhdGE6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TpiBGZXRjaGVkIGJhdGNoIGRhdGE6JywgcmVzcG9uc2VEYXRhKTtcclxuICAgIFxyXG4gICAgaWYgKHJlc3BvbnNlRGF0YS5zdWNjZXNzICYmIHJlc3BvbnNlRGF0YS5kYXRhICYmIHJlc3BvbnNlRGF0YS5kYXRhLml0ZW1zKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3BvbnNlRGF0YS5kYXRhLml0ZW1zIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChyZXNwb25zZURhdGEuZGF0YSAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlRGF0YS5kYXRhKSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXNwb25zZURhdGEuZGF0YSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNwb25zZURhdGEpKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3BvbnNlRGF0YSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocmVzcG9uc2VEYXRhLmlkIHx8IHJlc3BvbnNlRGF0YS5iYXRjaF9pZCkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbcmVzcG9uc2VEYXRhXSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmZXRjaGluZyBiYXRjaCBkYXRhOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNvbWJpbmVEYXRlVGltZSA9IChkYXRlLCB0aW1lKSA9PiB7XHJcbiAgaWYgKCFkYXRlIHx8ICF0aW1lKSByZXR1cm4gbnVsbDtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0ZVRpbWVTdHIgPSBgJHtkYXRlfVQke3RpbWV9OjAwYDtcclxuICAgIGNvbnN0IGRhdGV0aW1lID0gbmV3IERhdGUoZGF0ZVRpbWVTdHIpO1xyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oZGF0ZXRpbWUuZ2V0VGltZSgpKSkgcmV0dXJuIG51bGw7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRldGltZS50b0lTT1N0cmluZygpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb21iaW5pbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFzU3Vic3RhZ2VEYXRhID0gKHN1YnN0YWdlKSA9PiB7XHJcbiAgcmV0dXJuIHN1YnN0YWdlLnN0YXJ0RGF0ZSB8fCBzdWJzdGFnZS5zdGFydFRpbWUgfHwgc3Vic3RhZ2UuZW5kRGF0ZSB8fCBzdWJzdGFnZS5lbmRUaW1lIHx8IHN1YnN0YWdlLnJlbWFya3M7XHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0ZVN0YWdlU2VxdWVuY2luZyA9IChtYXRlcmlhbCwgdG9hc3QpID0+IHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGVyaWFsLnN1YnN0YWdlcy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgIGNvbnN0IGN1cnJlbnRTdGFnZSA9IG1hdGVyaWFsLnN1YnN0YWdlc1tpXTtcclxuICAgIGNvbnN0IG5leHRTdGFnZSA9IG1hdGVyaWFsLnN1YnN0YWdlc1tpICsgMV07XHJcbiAgICBcclxuICAgIGlmICghY3VycmVudFN0YWdlLmVuZERhdGUgfHwgIWN1cnJlbnRTdGFnZS5lbmRUaW1lIHx8ICFuZXh0U3RhZ2Uuc3RhcnREYXRlIHx8ICFuZXh0U3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBjdXJyZW50RW5kID0gY29tYmluZURhdGVUaW1lKGN1cnJlbnRTdGFnZS5lbmREYXRlLCBjdXJyZW50U3RhZ2UuZW5kVGltZSk7XHJcbiAgICBjb25zdCBuZXh0U3RhcnQgPSBjb21iaW5lRGF0ZVRpbWUobmV4dFN0YWdlLnN0YXJ0RGF0ZSwgbmV4dFN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICBcclxuICAgIGlmIChjdXJyZW50RW5kICYmIG5leHRTdGFydCkge1xyXG4gICAgICBpZiAobmV3IERhdGUoY3VycmVudEVuZCkgPiBuZXcgRGF0ZShuZXh0U3RhcnQpKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiAke25leHRTdGFnZS5uYW1lfSBtdXN0IHN0YXJ0IGFmdGVyICR7Y3VycmVudFN0YWdlLm5hbWV9IGVuZHNgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5jb25zdCBoYXNDb21wbGV0ZU1hdGVyaWFsRGF0YSA9IChtYXRlcmlhbCwgaW5jbHVkZVBsYWluQnVua2VyID0gZmFsc2UpID0+IHtcclxuICAvLyBDaGVjayBtYWluIHN1YnN0YWdlc1xyXG4gIGNvbnN0IGhhc01haW5EYXRhID0gbWF0ZXJpYWwuc3Vic3RhZ2VzLnNvbWUoc3Vic3RhZ2UgPT4gXHJcbiAgICBzdWJzdGFnZS5zdGFydERhdGUgfHwgc3Vic3RhZ2Uuc3RhcnRUaW1lIHx8IHN1YnN0YWdlLmVuZERhdGUgfHwgc3Vic3RhZ2UuZW5kVGltZSB8fCBzdWJzdGFnZS5yZW1hcmtzXHJcbiAgKTtcclxuICBcclxuICAvLyBJZiBubyBkYXRhIGF0IGFsbCBpbiBtYWluIHN0YWdlcywgcmV0dXJuIGZhbHNlIChub3RoaW5nIHRvIHNhdmUpXHJcbiAgaWYgKCFoYXNNYWluRGF0YSAmJiAhaW5jbHVkZVBsYWluQnVua2VyKSB7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+TnSAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogTm8gZGF0YSBlbnRlcmVkIGluIG1haW4gc3RhZ2VzYCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIENoZWNrIG1haW4gc3Vic3RhZ2VzIGZvciBjb21wbGV0ZW5lc3NcclxuICBmb3IgKGNvbnN0IHN1YnN0YWdlIG9mIG1hdGVyaWFsLnN1YnN0YWdlcykge1xyXG4gICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiAhc3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OdICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBJbmNvbXBsZXRlIHN0YXJ0IGRhdGEgaW4gJHtzdWJzdGFnZS5uYW1lfSAoZGF0ZSB3aXRob3V0IHRpbWUpYCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHN1YnN0YWdlLnN0YXJ0VGltZSAmJiAhc3Vic3RhZ2Uuc3RhcnREYXRlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OdICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBJbmNvbXBsZXRlIHN0YXJ0IGRhdGEgaW4gJHtzdWJzdGFnZS5uYW1lfSAodGltZSB3aXRob3V0IGRhdGUpYCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHN1YnN0YWdlLmVuZERhdGUgJiYgIXN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IEluY29tcGxldGUgZW5kIGRhdGEgaW4gJHtzdWJzdGFnZS5uYW1lfSAoZGF0ZSB3aXRob3V0IHRpbWUpYCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHN1YnN0YWdlLmVuZFRpbWUgJiYgIXN1YnN0YWdlLmVuZERhdGUpIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IEluY29tcGxldGUgZW5kIGRhdGEgaW4gJHtzdWJzdGFnZS5uYW1lfSAodGltZSB3aXRob3V0IGRhdGUpYCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gSWYgaW5jbHVkZVBsYWluQnVua2VyIGlzIHRydWUsIGNoZWNrIHBsYWluIGJ1bmtlciBzdWJzdGFnZVxyXG4gIGlmIChpbmNsdWRlUGxhaW5CdW5rZXIgJiYgbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZSkge1xyXG4gICAgY29uc3QgcGIgPSBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiBwbGFpbiBidW5rZXIgaGFzIGFueSBkYXRhXHJcbiAgICBjb25zdCBoYXNQYkRhdGEgPSBwYi5zdGFydERhdGUgfHwgcGIuc3RhcnRUaW1lIHx8IHBiLmVuZERhdGUgfHwgcGIuZW5kVGltZSB8fCBwYi5yZW1hcmtzO1xyXG4gICAgXHJcbiAgICBpZiAoaGFzUGJEYXRhKSB7XHJcbiAgICAgIC8vIFZhbGlkYXRlIGNvbXBsZXRlbmVzc1xyXG4gICAgICBpZiAocGIuc3RhcnREYXRlICYmICFwYi5zdGFydFRpbWUpIHJldHVybiBmYWxzZTtcclxuICAgICAgaWYgKHBiLnN0YXJ0VGltZSAmJiAhcGIuc3RhcnREYXRlKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmIChwYi5lbmREYXRlICYmICFwYi5lbmRUaW1lKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmIChwYi5lbmRUaW1lICYmICFwYi5lbmREYXRlKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIFxyXG4gICAgICAvLyBWYWxpZGF0ZSBkYXRlIHJhbmdlIGlmIGJvdGggZGF0ZXMgcHJlc2VudFxyXG4gICAgICBpZiAocGIuc3RhcnREYXRlICYmIHBiLnN0YXJ0VGltZSAmJiBwYi5lbmREYXRlICYmIHBiLmVuZFRpbWUpIHtcclxuICAgICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gbmV3IERhdGUoYCR7cGIuc3RhcnREYXRlfVQke3BiLnN0YXJ0VGltZX1gKTtcclxuICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3BiLmVuZERhdGV9VCR7cGIuZW5kVGltZX1gKTtcclxuICAgICAgICBpZiAoc3RhcnREYXRlVGltZSA+IGVuZERhdGVUaW1lKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgY29uc29sZS5sb2coYOKchSAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogSGFzIHZhbGlkIGRhdGEgdG8gc2F2ZWApO1xyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGVQbGFpbkJ1bmtlckRhdGEgPSAobWF0ZXJpYWwpID0+IHtcclxuICBjb25zdCBwYiA9IG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U7XHJcbiAgaWYgKCFwYikgcmV0dXJuIHRydWU7XHJcbiAgXHJcbiAgLy8gQ2hlY2sgaWYgcGxhaW4gYnVua2VyIHN0YWdlIGhhcyBjb21wbGV0ZSBkYXRhIChkYXRlIGFuZCB0aW1lIGJvdGggcHJlc2VudClcclxuICBjb25zdCBoYXNQYkRhdGEgPSBwYi5zdGFydERhdGUgfHwgcGIuc3RhcnRUaW1lIHx8IHBiLmVuZERhdGUgfHwgcGIuZW5kVGltZTtcclxuICBcclxuICBpZiAoaGFzUGJEYXRhKSB7XHJcbiAgICAvLyBWYWxpZGF0ZSBzdGFydCBmaWVsZHNcclxuICAgIGlmIChwYi5zdGFydERhdGUgJiYgIXBiLnN0YXJ0VGltZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHBiLnN0YXJ0VGltZSAmJiAhcGIuc3RhcnREYXRlKSByZXR1cm4gZmFsc2U7XHJcbiAgICBcclxuICAgIC8vIFZhbGlkYXRlIGVuZCBmaWVsZHNcclxuICAgIGlmIChwYi5lbmREYXRlICYmICFwYi5lbmRUaW1lKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAocGIuZW5kVGltZSAmJiAhcGIuZW5kRGF0ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgXHJcbiAgICAvLyBWYWxpZGF0ZSBkYXRlIHJhbmdlXHJcbiAgICBpZiAocGIuc3RhcnREYXRlICYmIHBiLnN0YXJ0VGltZSAmJiBwYi5lbmREYXRlICYmIHBiLmVuZFRpbWUpIHtcclxuICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3BiLnN0YXJ0RGF0ZX1UJHtwYi5zdGFydFRpbWV9YCk7XHJcbiAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7cGIuZW5kRGF0ZX1UJHtwYi5lbmRUaW1lfWApO1xyXG4gICAgICBpZiAoc3RhcnREYXRlVGltZSA+IGVuZERhdGVUaW1lKSByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuY29uc3QgY29udmVydFRvQXBpUGF5bG9hZCA9IChiYXRjaCwgbWF0ZXJpYWwsIGlzQ29tcGxldGVkKSA9PiB7XHJcbiAgaWYgKCFtYXRlcmlhbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IHNvYWtpbmcgPSBtYXRlcmlhbC5zdWJzdGFnZXNbMF0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlNvYWtpbmdcIik7XHJcbiAgY29uc3Qgc29ha2luZ1Jlc3QgPSBtYXRlcmlhbC5zdWJzdGFnZXNbMV0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlNvYWtpbmcgUmVzdFwiKTtcclxuICBjb25zdCByZXNvYWtpbmdPbmUgPSBtYXRlcmlhbC5zdWJzdGFnZXNbMl0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlJlIFNvYWtpbmcgMVwiKTtcclxuICBjb25zdCByZXNvYWtpbmdSZXN0ID0gbWF0ZXJpYWwuc3Vic3RhZ2VzWzNdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJSZSBTb2FraW5nIDEgUmVzdFwiKTtcclxuICBjb25zdCByZXNvYWtpbmdUd28gPSBtYXRlcmlhbC5zdWJzdGFnZXNbNF0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlJlIFNvYWtpbmcgMlwiKTtcclxuICBjb25zdCByZXNvYWtpbmdUd29SZXN0ID0gbWF0ZXJpYWwuc3Vic3RhZ2VzWzVdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJSZSBTb2FraW5nIDIgUmVzdFwiKTtcclxuICBjb25zdCBwbGFpbkJ1bmtlciA9IG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2UgfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlBsYWluIEJ1bmtlclwiKTtcclxuXHJcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGZvcm1hdCBkYXRldGltZSB3aXRob3V0IG1pbGxpc2Vjb25kcyBhbmQgdGltZXpvbmVcclxuICBjb25zdCBmb3JtYXREYXRlVGltZSA9IChkYXRlVGltZVN0cikgPT4ge1xyXG4gICAgaWYgKCFkYXRlVGltZVN0cikgcmV0dXJuIG51bGw7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVRpbWVTdHIpO1xyXG4gICAgICBpZiAoaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSByZXR1cm4gbnVsbDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICAgIGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3QgaG91cnMgPSBTdHJpbmcoZGF0ZS5nZXRIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBjb25zdCBtaW51dGVzID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBjb25zdCBzZWNvbmRzID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fVQke2hvdXJzfToke21pbnV0ZXN9OiR7c2Vjb25kc31gO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZm9ybWF0dGluZyBkYXRldGltZTonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIE9ubHkgY29tYmluZSBkYXRlcyBpZiBib3RoIGRhdGUgYW5kIHRpbWUgZXhpc3RcclxuICBjb25zdCBzb2FraW5nX3N0YXJ0ID0gKHNvYWtpbmcuc3RhcnREYXRlICYmIHNvYWtpbmcuc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHNvYWtpbmcuc3RhcnREYXRlLCBzb2FraW5nLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3Qgc29ha2luZ19lbmQgPSAoc29ha2luZy5lbmREYXRlICYmIHNvYWtpbmcuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShzb2FraW5nLmVuZERhdGUsIHNvYWtpbmcuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3Qgc29ha2luZ19yZXN0X3N0YXJ0ID0gKHNvYWtpbmdSZXN0LnN0YXJ0RGF0ZSAmJiBzb2FraW5nUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoc29ha2luZ1Jlc3Quc3RhcnREYXRlLCBzb2FraW5nUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IHNvYWtpbmdfcmVzdF9lbmQgPSAoc29ha2luZ1Jlc3QuZW5kRGF0ZSAmJiBzb2FraW5nUmVzdC5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHNvYWtpbmdSZXN0LmVuZERhdGUsIHNvYWtpbmdSZXN0LmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIFxyXG4gIGNvbnN0IHJlc29ha2luZ19vbmVfc3RhcnQgPSAocmVzb2FraW5nT25lLnN0YXJ0RGF0ZSAmJiByZXNvYWtpbmdPbmUuc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHJlc29ha2luZ09uZS5zdGFydERhdGUsIHJlc29ha2luZ09uZS5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IHJlc29ha2luZ19vbmVfZW5kID0gKHJlc29ha2luZ09uZS5lbmREYXRlICYmIHJlc29ha2luZ09uZS5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHJlc29ha2luZ09uZS5lbmREYXRlLCByZXNvYWtpbmdPbmUuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3QgcmVzb2FraW5nX3Jlc3Rfc3RhcnQgPSAocmVzb2FraW5nUmVzdC5zdGFydERhdGUgJiYgcmVzb2FraW5nUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nUmVzdC5zdGFydERhdGUsIHJlc29ha2luZ1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCByZXNvYWtpbmdfcmVzdF9lbmQgPSAocmVzb2FraW5nUmVzdC5lbmREYXRlICYmIHJlc29ha2luZ1Jlc3QuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShyZXNvYWtpbmdSZXN0LmVuZERhdGUsIHJlc29ha2luZ1Jlc3QuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3QgcmVzb2FraW5nX3R3b19zdGFydCA9IChyZXNvYWtpbmdUd28uc3RhcnREYXRlICYmIHJlc29ha2luZ1R3by5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nVHdvLnN0YXJ0RGF0ZSwgcmVzb2FraW5nVHdvLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgcmVzb2FraW5nX3R3b19lbmQgPSAocmVzb2FraW5nVHdvLmVuZERhdGUgJiYgcmVzb2FraW5nVHdvLmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nVHdvLmVuZERhdGUsIHJlc29ha2luZ1R3by5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBcclxuICBjb25zdCByZXNvYWtpbmdfdHdvX3Jlc3Rfc3RhcnQgPSAocmVzb2FraW5nVHdvUmVzdC5zdGFydERhdGUgJiYgcmVzb2FraW5nVHdvUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nVHdvUmVzdC5zdGFydERhdGUsIHJlc29ha2luZ1R3b1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCByZXNvYWtpbmdfdHdvX3Jlc3RfZW5kID0gKHJlc29ha2luZ1R3b1Jlc3QuZW5kRGF0ZSAmJiByZXNvYWtpbmdUd29SZXN0LmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nVHdvUmVzdC5lbmREYXRlLCByZXNvYWtpbmdUd29SZXN0LmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG5cclxuICBjb25zdCBwbGFpbl9idW5rZXJfc3RhcnQgPSAocGxhaW5CdW5rZXIuc3RhcnREYXRlICYmIHBsYWluQnVua2VyLnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShwbGFpbkJ1bmtlci5zdGFydERhdGUsIHBsYWluQnVua2VyLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgcGxhaW5fYnVua2VyX2VuZCA9IChwbGFpbkJ1bmtlci5lbmREYXRlICYmIHBsYWluQnVua2VyLmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocGxhaW5CdW5rZXIuZW5kRGF0ZSwgcGxhaW5CdW5rZXIuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcblxyXG4gIGNvbnN0IGFwaVN0cmF3VHlwZSA9IG1hdGVyaWFsLnR5cGU7XHJcblxyXG4gIC8vIEZvcm1hdCBhbGwgZGF0ZXRpbWUgZmllbGRzIHRvIG1hdGNoIHRoZSBleHBlY3RlZCBmb3JtYXRcclxuICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgYmF0Y2hfaWQ6IGJhdGNoLmlkLFxyXG4gICAgc3RyYXdfdHlwZTogYXBpU3RyYXdUeXBlLFxyXG4gICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoc29ha2luZ19zdGFydCksXHJcbiAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUocmVzb2FraW5nX3R3b19yZXN0X2VuZCB8fCBwbGFpbl9idW5rZXJfZW5kKSxcclxuICAgIGlzY29tcGxldGVkOiBpc0NvbXBsZXRlZCxcclxuICAgIHNvYWtpbmc6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoc29ha2luZ19zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShzb2FraW5nX2VuZClcclxuICAgIH0sXHJcbiAgICBzb2FraW5nX3Jlc3Q6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoc29ha2luZ19yZXN0X3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKHNvYWtpbmdfcmVzdF9lbmQpXHJcbiAgICB9LFxyXG4gICAgcmVzb2FraW5nX29uZToge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShyZXNvYWtpbmdfb25lX3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKHJlc29ha2luZ19vbmVfZW5kKVxyXG4gICAgfSxcclxuICAgIHJlc29ha2luZ19yZXN0OiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKHJlc29ha2luZ19yZXN0X3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKHJlc29ha2luZ19yZXN0X2VuZClcclxuICAgIH0sXHJcbiAgICByZXNvYWtpbmdfdHdvOiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKHJlc29ha2luZ190d29fc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUocmVzb2FraW5nX3R3b19lbmQpXHJcbiAgICB9LFxyXG4gICAgcmVzb2FraW5nX3R3b19yZXN0OiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKHJlc29ha2luZ190d29fcmVzdF9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShyZXNvYWtpbmdfdHdvX3Jlc3RfZW5kKVxyXG4gICAgfSxcclxuICAgIHBsYWluX2J1bmtlcjoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShwbGFpbl9idW5rZXJfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUocGxhaW5fYnVua2VyX2VuZClcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBSZW1vdmUgbnVsbCB2YWx1ZXMgYnV0IGtlZXAgdGhlIHN0cnVjdHVyZVxyXG4gIE9iamVjdC5rZXlzKHBheWxvYWQpLmZvckVhY2goa2V5ID0+IHtcclxuICAgIGlmIChwYXlsb2FkW2tleV0gPT09IG51bGwpIHtcclxuICAgICAgZGVsZXRlIHBheWxvYWRba2V5XTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBheWxvYWRba2V5XSA9PT0gJ29iamVjdCcgJiYgcGF5bG9hZFtrZXldICE9PSBudWxsICYmIGtleSAhPT0gJ2JhdGNoX2lkJyAmJiBrZXkgIT09ICdzdHJhd190eXBlJyAmJiBrZXkgIT09ICdpc2NvbXBsZXRlZCcpIHtcclxuICAgICAgbGV0IGhhc1ZhbGlkRmllbGQgPSBmYWxzZTtcclxuICAgICAgT2JqZWN0LmtleXMocGF5bG9hZFtrZXldKS5mb3JFYWNoKHN1YktleSA9PiB7XHJcbiAgICAgICAgaWYgKHBheWxvYWRba2V5XVtzdWJLZXldID09PSBudWxsKSB7XHJcbiAgICAgICAgICBkZWxldGUgcGF5bG9hZFtrZXldW3N1YktleV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGhhc1ZhbGlkRmllbGQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIWhhc1ZhbGlkRmllbGQpIHtcclxuICAgICAgICBkZWxldGUgcGF5bG9hZFtrZXldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnNvbGUubG9nKGDwn5OmIEdlbmVyYXRlZCBwYXlsb2FkIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTpgLCBwYXlsb2FkKTtcclxuICByZXR1cm4gcGF5bG9hZDtcclxufTtcclxuXHJcbmNvbnN0IGNvbnZlcnRBcGlSZXNwb25zZVRvVUkgPSAoYXBpRGF0YSwgYmF0Y2gpID0+IHtcclxuICBpZiAoIWFwaURhdGEgfHwgIUFycmF5LmlzQXJyYXkoYXBpRGF0YSkpIHtcclxuICAgIGNvbnNvbGUubG9nKCfinYwgTm8gdmFsaWQgQVBJIGRhdGEgYXJyYXkgdG8gY29udmVydDonLCBhcGlEYXRhKTtcclxuICAgIHJldHVybiBiYXRjaDtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKCfwn5SEIENvbnZlcnRpbmcgQVBJIGRhdGEgdG8gVUkuIEZvdW5kIGl0ZW1zOicsIGFwaURhdGEubGVuZ3RoKTtcclxuXHJcbiAgYmF0Y2gubWF0ZXJpYWxzLmZvckVhY2gobWF0ZXJpYWwgPT4ge1xyXG4gICAgY29uc3QgbWF0ZXJpYWxEYXRhID0gYXBpRGF0YS5maW5kKGQgPT4gXHJcbiAgICAgIGQuc3RyYXdfdHlwZSAmJiBkLnN0cmF3X3R5cGUgPT09IG1hdGVyaWFsLnR5cGVcclxuICAgICk7XHJcbiAgICBcclxuICAgIGlmICghbWF0ZXJpYWxEYXRhKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDihLnvuI8gTm8gZGF0YSBmb3VuZCBmb3IgbWF0ZXJpYWw6ICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9ICh0eXBlOiAke21hdGVyaWFsLnR5cGV9KWApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coYOKchSBGb3VuZCBkYXRhIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTpgLCBtYXRlcmlhbERhdGEpO1xyXG4gICAgXHJcbiAgICBpZiAobWF0ZXJpYWxEYXRhLmlkKSB7XHJcbiAgICAgIG1hdGVyaWFsLnJlY29yZElkID0gbWF0ZXJpYWxEYXRhLmlkO1xyXG4gICAgICBtYXRlcmlhbC5oYXNFeGlzdGluZ0RhdGEgPSB0cnVlO1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSBTZXR0aW5nIHJlY29yZElkIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogJHttYXRlcmlhbERhdGEuaWR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3Vic3RhZ2VNYXBwaW5nID0gW1xyXG4gICAgICB7IG5hbWU6IFwiU29ha2luZ1wiLCBkYXRhOiBtYXRlcmlhbERhdGEuc29ha2luZyB9LFxyXG4gICAgICB7IG5hbWU6IFwiU29ha2luZyBSZXN0XCIsIGRhdGE6IG1hdGVyaWFsRGF0YS5zb2FraW5nX3Jlc3QgfSxcclxuICAgICAgeyBuYW1lOiBcIlJlIFNvYWtpbmcgMVwiLCBkYXRhOiBtYXRlcmlhbERhdGEucmVzb2FraW5nX29uZSB9LFxyXG4gICAgICB7IG5hbWU6IFwiUmUgU29ha2luZyAxIFJlc3RcIiwgZGF0YTogbWF0ZXJpYWxEYXRhLnJlc29ha2luZ19yZXN0IH0sXHJcbiAgICAgIHsgbmFtZTogXCJSZSBTb2FraW5nIDJcIiwgZGF0YTogbWF0ZXJpYWxEYXRhLnJlc29ha2luZ190d28gfSxcclxuICAgICAgeyBuYW1lOiBcIlJlIFNvYWtpbmcgMiBSZXN0XCIsIGRhdGE6IG1hdGVyaWFsRGF0YS5yZXNvYWtpbmdfdHdvX3Jlc3QgfVxyXG4gICAgXTtcclxuXHJcbiAgICBzdWJzdGFnZU1hcHBpbmcuZm9yRWFjaCgobWFwcGluZywgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKG1hcHBpbmcuZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFByb2Nlc3NpbmcgJHttYXBwaW5nLm5hbWV9IGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTpgLCBtYXBwaW5nLmRhdGEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChtYXBwaW5nLmRhdGEuc3RhcnRfdGltZSkge1xyXG4gICAgICAgICAgY29uc3QgeyBkYXRlOiBzdGFydERhdGUsIHRpbWU6IHN0YXJ0VGltZSB9ID0gcGFyc2VEYXRlVGltZShtYXBwaW5nLmRhdGEuc3RhcnRfdGltZSk7XHJcbiAgICAgICAgICBtYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdLnN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZTtcclxuICAgICAgICAgIG1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF0uc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYCAgU3RhcnQ6ICR7c3RhcnREYXRlfSAke3N0YXJ0VGltZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG1hcHBpbmcuZGF0YS5lbmRfdGltZSkge1xyXG4gICAgICAgICAgY29uc3QgeyBkYXRlOiBlbmREYXRlLCB0aW1lOiBlbmRUaW1lIH0gPSBwYXJzZURhdGVUaW1lKG1hcHBpbmcuZGF0YS5lbmRfdGltZSk7XHJcbiAgICAgICAgICBtYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdLmVuZERhdGUgPSBlbmREYXRlO1xyXG4gICAgICAgICAgbWF0ZXJpYWwuc3Vic3RhZ2VzW2luZGV4XS5lbmRUaW1lID0gZW5kVGltZTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGAgIEVuZDogJHtlbmREYXRlfSAke2VuZFRpbWV9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChtYXBwaW5nLmRhdGEuZHVyYXRpb25faG91cnMgIT09IHVuZGVmaW5lZCAmJiBtYXBwaW5nLmRhdGEuZHVyYXRpb25faG91cnMgIT09IG51bGwpIHtcclxuICAgICAgICAgIG1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF0udG90YWxIb3VycyA9IG1hcHBpbmcuZGF0YS5kdXJhdGlvbl9ob3Vycy50b1N0cmluZygpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYCAgRHVyYXRpb246ICR7bWFwcGluZy5kYXRhLmR1cmF0aW9uX2hvdXJzfSBob3Vyc2ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAobWFwcGluZy5kYXRhLnJlbWFya3MpIHtcclxuICAgICAgICAgIG1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF0ucmVtYXJrcyA9IG1hcHBpbmcuZGF0YS5yZW1hcmtzO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhg4pqg77iPIE5vIGRhdGEgZm9yICR7bWFwcGluZy5uYW1lfSBpbiAke21hdGVyaWFsLmRpc3BsYXlOYW1lfWApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBMb2FkIHBsYWluIGJ1bmtlciBkYXRhIGlmIGV4aXN0c1xyXG4gICAgaWYgKG1hdGVyaWFsRGF0YS5wbGFpbl9idW5rZXIpIHtcclxuICAgICAgY29uc3QgcGJEYXRhID0gbWF0ZXJpYWxEYXRhLnBsYWluX2J1bmtlcjtcclxuICAgICAgY29uc29sZS5sb2coYPCfk4ogUHJvY2Vzc2luZyBQbGFpbiBCdW5rZXIgZm9yICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OmAsIHBiRGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAocGJEYXRhLnN0YXJ0X3RpbWUpIHtcclxuICAgICAgICBjb25zdCB7IGRhdGU6IHN0YXJ0RGF0ZSwgdGltZTogc3RhcnRUaW1lIH0gPSBwYXJzZURhdGVUaW1lKHBiRGF0YS5zdGFydF90aW1lKTtcclxuICAgICAgICBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlLnN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZTtcclxuICAgICAgICBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHBiRGF0YS5lbmRfdGltZSkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0ZTogZW5kRGF0ZSwgdGltZTogZW5kVGltZSB9ID0gcGFyc2VEYXRlVGltZShwYkRhdGEuZW5kX3RpbWUpO1xyXG4gICAgICAgIG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2UuZW5kRGF0ZSA9IGVuZERhdGU7XHJcbiAgICAgICAgbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZS5lbmRUaW1lID0gZW5kVGltZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHBiRGF0YS5kdXJhdGlvbl9ob3VycyAhPT0gdW5kZWZpbmVkICYmIHBiRGF0YS5kdXJhdGlvbl9ob3VycyAhPT0gbnVsbCkge1xyXG4gICAgICAgIG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2UudG90YWxIb3VycyA9IHBiRGF0YS5kdXJhdGlvbl9ob3Vycy50b1N0cmluZygpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAocGJEYXRhLnJlbWFya3MpIHtcclxuICAgICAgICBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlLnJlbWFya3MgPSBwYkRhdGEucmVtYXJrcztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb25zb2xlLmxvZygn4pyFIEZpbmlzaGVkIGNvbnZlcnRpbmcgQVBJIGRhdGEgdG8gVUknKTtcclxuICByZXR1cm4gYmF0Y2g7XHJcbn07XHJcblxyXG5jb25zdCBzZW5kVG9BcGkgPSBhc3luYyAocGF5bG9hZCwgbWF0ZXJpYWxUeXBlLCBkaXNwbGF5TmFtZSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhgXFxu8J+agCBTRU5ESU5HICR7ZGlzcGxheU5hbWV9IERBVEEgVE8gQVBJICgke21hdGVyaWFsVHlwZX0pYCk7XHJcbiAgICBjb25zb2xlLmxvZyhgVVJMOiAke0FQSV9FTkRQT0lOVH1gKTtcclxuICAgIGNvbnNvbGUubG9nKCdGdWxsIHBheWxvYWQ6JywgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCwgbnVsbCwgMikpO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFQSV9FTkRQT0lOVCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGDwn5OlIFJFU1BPTlNFIGZvciAke2Rpc3BsYXlOYW1lfTogU3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGRldGFpbDogJ1Vua25vd24gZXJyb3InIH0pKTtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEFQSSBFcnJvciBSZXNwb25zZTonLCBlcnJvckRhdGEpO1xyXG4gICAgICBcclxuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWA7XHJcbiAgICAgIGlmIChlcnJvckRhdGEuZGV0YWlsKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBlcnJvckRhdGEuZGV0YWlsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmRldGFpbDtcclxuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZXJyb3JEYXRhLmRldGFpbCkpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5kZXRhaWwubWFwKGVyciA9PiBlcnIubXNnKS5qb2luKCcsICcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yRGF0YS5kZXRhaWwgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShlcnJvckRhdGEuZGV0YWlsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgU1VDQ0VTUyBmb3IgJHtkaXNwbGF5TmFtZX06YCwgcmVzdWx0KTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdCwgbWF0ZXJpYWxUeXBlLCBkaXNwbGF5TmFtZSB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGDinYwgRVJST1Igc2VuZGluZyAke2Rpc3BsYXlOYW1lfSBkYXRhOmAsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSwgbWF0ZXJpYWxUeXBlLCBkaXNwbGF5TmFtZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IE5FVyBCQVRDSCBBUEkgRlVOQ1RJT05TID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogR2V0IGJhdGNoIGJ5IElEIChHRVQpXHJcbiAqL1xyXG5jb25zdCBnZXRCYXRjaEJ5SWQgPSBhc3luYyAoYmF0Y2hJZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhgXFxu8J+UjSBGRVRDSElORyBCQVRDSCAke2JhdGNoSWR9YCk7XHJcbiAgICBjb25zdCB1cmwgPSBgJHtCQVRDSF9BUElfRU5EUE9JTlR9LyR7YmF0Y2hJZH1gO1xyXG4gICAgY29uc29sZS5sb2coYFVSTDogJHt1cmx9YCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhg8J+TpSBSRVNQT05TRTogU3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk60gQmF0Y2ggbm90IGZvdW5kJyk7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbnVsbCB9O1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGJhdGNoOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIEJhdGNoIGZldGNoZWQgc3VjY2Vzc2Z1bGx5OicsIHJlc3VsdCk7XHJcbiAgICBcclxuICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgcmVzcG9uc2Ugc3RydWN0dXJlc1xyXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5kYXRhKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC5kYXRhIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChyZXN1bHQuZGF0YSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQuZGF0YSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocmVzdWx0LmlkKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdCB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIGJhdGNoOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgYWxsIGJhdGNoZXMgKEdFVClcclxuICovXHJcbmNvbnN0IGdldEFsbEJhdGNoZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdcXG7wn5SNIEZFVENISU5HIEFMTCBCQVRDSEVTJyk7XHJcbiAgICBjb25zb2xlLmxvZyhgVVJMOiAke0JBVENIX0FQSV9FTkRQT0lOVH1gKTtcclxuICAgIFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChCQVRDSF9BUElfRU5EUE9JTlQsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGDwn5OlIFJFU1BPTlNFOiBTdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBiYXRjaGVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIEJhdGNoZXMgZmV0Y2hlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGRpZmZlcmVudCByZXNwb25zZSBzdHJ1Y3R1cmVzXHJcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LmRhdGEgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHJlc3VsdC5kYXRhICYmIEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEpKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC5kYXRhIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgYmF0Y2hlczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogVXBkYXRlIGJhdGNoIHN0YXR1cyAoUFVUKSAtIFRoaXMgaXMgdGhlIGtleSBmdW5jdGlvbiBmb3IgdXBkYXRpbmcgcGxhaW5fYnVua2VyX21peGVkXHJcbiAqL1xyXG5jb25zdCB1cGRhdGVCYXRjaFN0YXR1cyA9IGFzeW5jIChiYXRjaElkLCBwbGFpbkJ1bmtlck1peGVkKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKGBcXG7wn5qAIFVQREFUSU5HIEJBVENIICR7YmF0Y2hJZH0gUExBSU4gQlVOS0VSIFNUQVRVUyBUTzogJHtwbGFpbkJ1bmtlck1peGVkfWApO1xyXG4gICAgY29uc3QgdXJsID0gYCR7QkFUQ0hfQVBJX0VORFBPSU5UfS8ke2JhdGNoSWR9YDtcclxuICAgIGNvbnNvbGUubG9nKGBVUkw6ICR7dXJsfWApO1xyXG4gICAgXHJcbiAgICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgICBwbGFpbl9idW5rZXJfbWl4ZWQ6IHBsYWluQnVua2VyTWl4ZWRcclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdQYXlsb2FkOicsIHBheWxvYWQpO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGDwn5OlIFJFU1BPTlNFOiBTdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgZGV0YWlsOiAnVW5rbm93biBlcnJvcicgfSkpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQVBJIEVycm9yIFJlc3BvbnNlOicsIGVycm9yRGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gYEZhaWxlZCB0byB1cGRhdGUgYmF0Y2ggc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xyXG4gICAgICBpZiAoZXJyb3JEYXRhLmRldGFpbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXJyb3JEYXRhLmRldGFpbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5kZXRhaWw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVycm9yRGF0YS5kZXRhaWwpKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZGV0YWlsLm1hcChlcnIgPT4gZXJyLm1zZykuam9pbignLCAnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZXJyb3JEYXRhLmRldGFpbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIEJhdGNoIHN0YXR1cyB1cGRhdGVkIHN1Y2Nlc3NmdWxseTonLCByZXN1bHQpO1xyXG4gICAgXHJcbiAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHJlc3BvbnNlIHN0cnVjdHVyZXNcclxuICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQuZGF0YSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQuZGF0YSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocmVzdWx0LmRhdGEpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LmRhdGEgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHJlc3VsdC5pZCkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0IH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciB1cGRhdGluZyBiYXRjaCBzdGF0dXM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ldyBiYXRjaCAoUE9TVCkgLSBpZiBuZWVkZWQgaW4gdGhlIGZ1dHVyZVxyXG4gKi9cclxuY29uc3QgY3JlYXRlQmF0Y2ggPSBhc3luYyAoYmF0Y2hEYXRhKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdcXG7wn5qAIENSRUFUSU5HIE5FVyBCQVRDSCcpO1xyXG4gICAgY29uc29sZS5sb2coYFVSTDogJHtCQVRDSF9BUElfRU5EUE9JTlR9YCk7XHJcbiAgICBjb25zb2xlLmxvZygnUGF5bG9hZDonLCBiYXRjaERhdGEpO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEJBVENIX0FQSV9FTkRQT0lOVCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJhdGNoRGF0YSlcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGDwn5OlIFJFU1BPTlNFOiBTdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgZGV0YWlsOiAnVW5rbm93biBlcnJvcicgfSkpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQVBJIEVycm9yIFJlc3BvbnNlOicsIGVycm9yRGF0YSk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBiYXRjaDogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBCYXRjaCBjcmVhdGVkIHN1Y2Nlc3NmdWxseTonLCByZXN1bHQpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0IH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBjcmVhdGluZyBiYXRjaDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSBFTkQgT0YgTkVXIEJBVENIIEFQSSBGVU5DVElPTlMgPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmNvbnN0IE1hdGVyaWFsVGFibGUgPSBSZWFjdC5tZW1vKCh7IG1hdGVyaWFsLCBvblVwZGF0ZSwgc2hvd1BsYWluQnVua2VyID0gZmFsc2UsIHJlYWRPbmx5ID0gZmFsc2UgfSkgPT4ge1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVEYXRlUmFuZ2UgPSAoc3Vic3RhZ2UsIGZpZWxkLCBuZXdWYWx1ZSwgY3VycmVudFN1YnN0YWdlLCBpc1BsYWluQnVua2VyID0gZmFsc2UpID0+IHtcclxuICAgIGlmIChmaWVsZCA9PT0gJ3N0YXJ0RGF0ZScgfHwgZmllbGQgPT09ICdzdGFydFRpbWUnKSB7XHJcbiAgICAgIGlmIChzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgICBjb25zdCBuZXdTdGFydERhdGVUaW1lID0gZmllbGQgPT09ICdzdGFydERhdGUnIFxyXG4gICAgICAgICAgPyBjb21iaW5lRGF0ZVRpbWUobmV3VmFsdWUsIHN1YnN0YWdlLnN0YXJ0VGltZSlcclxuICAgICAgICAgIDogY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLnN0YXJ0RGF0ZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLmVuZERhdGUsIHN1YnN0YWdlLmVuZFRpbWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChuZXdTdGFydERhdGVUaW1lICYmIGVuZERhdGVUaW1lICYmIG5ldyBEYXRlKG5ld1N0YXJ0RGF0ZVRpbWUpID4gbmV3IERhdGUoZW5kRGF0ZVRpbWUpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLSAke3N1YnN0YWdlLm5hbWV9OiBTdGFydCBkYXRlL3RpbWUgY2Fubm90IGJlIGFmdGVyIGVuZCBkYXRlL3RpbWVgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoZmllbGQgPT09ICdlbmREYXRlJyB8fCBmaWVsZCA9PT0gJ2VuZFRpbWUnKSB7XHJcbiAgICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IGNvbWJpbmVEYXRlVGltZShzdWJzdGFnZS5zdGFydERhdGUsIHN1YnN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICAgICAgY29uc3QgbmV3RW5kRGF0ZVRpbWUgPSBmaWVsZCA9PT0gJ2VuZERhdGUnXHJcbiAgICAgICAgICA/IGNvbWJpbmVEYXRlVGltZShuZXdWYWx1ZSwgc3Vic3RhZ2UuZW5kVGltZSlcclxuICAgICAgICAgIDogY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLmVuZERhdGUsIG5ld1ZhbHVlKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoc3RhcnREYXRlVGltZSAmJiBuZXdFbmREYXRlVGltZSAmJiBuZXcgRGF0ZShzdGFydERhdGVUaW1lKSA+IG5ldyBEYXRlKG5ld0VuZERhdGVUaW1lKSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IC0gJHtzdWJzdGFnZS5uYW1lfTogRW5kIGRhdGUvdGltZSBjYW5ub3QgYmUgYmVmb3JlIHN0YXJ0IGRhdGUvdGltZWApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVTdGFnZVNlcXVlbmNlID0gKGluZGV4LCBmaWVsZCwgdmFsdWUsIHVwZGF0ZWRNYXRlcmlhbCwgaXNQbGFpbkJ1bmtlciA9IGZhbHNlKSA9PiB7XHJcbiAgICBpZiAoaXNQbGFpbkJ1bmtlcikgcmV0dXJuIHRydWU7IC8vIE5vIHNlcXVlbmNlIHZhbGlkYXRpb24gZm9yIHBsYWluIGJ1bmtlclxyXG4gICAgXHJcbiAgICBjb25zdCBzdWJzdGFnZSA9IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdO1xyXG4gICAgY29uc3QgdGVtcFN1YnN0YWdlID0geyAuLi5zdWJzdGFnZSwgW2ZpZWxkXTogdmFsdWUgfTtcclxuICAgIGNvbnN0IHN0YWdlSW5kZXggPSBpbmRleDtcclxuICAgIFxyXG4gICAgaWYgKHN0YWdlSW5kZXggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHByZXZTdGFnZSA9IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXNbc3RhZ2VJbmRleCAtIDFdO1xyXG4gICAgICBpZiAocHJldlN0YWdlLmVuZERhdGUgJiYgcHJldlN0YWdlLmVuZFRpbWUgJiYgdGVtcFN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiB0ZW1wU3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgY29uc3QgcHJldkVuZCA9IGNvbWJpbmVEYXRlVGltZShwcmV2U3RhZ2UuZW5kRGF0ZSwgcHJldlN0YWdlLmVuZFRpbWUpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdGFydCA9IGNvbWJpbmVEYXRlVGltZSh0ZW1wU3Vic3RhZ2Uuc3RhcnREYXRlLCB0ZW1wU3Vic3RhZ2Uuc3RhcnRUaW1lKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAocHJldkVuZCAmJiBjdXJyZW50U3RhcnQgJiYgbmV3IERhdGUocHJldkVuZCkgPiBuZXcgRGF0ZShjdXJyZW50U3RhcnQpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06ICR7dGVtcFN1YnN0YWdlLm5hbWV9IG11c3Qgc3RhcnQgYWZ0ZXIgJHtwcmV2U3RhZ2UubmFtZX0gZW5kc2ApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3RhZ2VJbmRleCA8IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICBjb25zdCBuZXh0U3RhZ2UgPSB1cGRhdGVkTWF0ZXJpYWwuc3Vic3RhZ2VzW3N0YWdlSW5kZXggKyAxXTtcclxuICAgICAgaWYgKHRlbXBTdWJzdGFnZS5lbmREYXRlICYmIHRlbXBTdWJzdGFnZS5lbmRUaW1lICYmIG5leHRTdGFnZS5zdGFydERhdGUgJiYgbmV4dFN0YWdlLnN0YXJ0VGltZSkge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRFbmQgPSBjb21iaW5lRGF0ZVRpbWUodGVtcFN1YnN0YWdlLmVuZERhdGUsIHRlbXBTdWJzdGFnZS5lbmRUaW1lKTtcclxuICAgICAgICBjb25zdCBuZXh0U3RhcnQgPSBjb21iaW5lRGF0ZVRpbWUobmV4dFN0YWdlLnN0YXJ0RGF0ZSwgbmV4dFN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGN1cnJlbnRFbmQgJiYgbmV4dFN0YXJ0ICYmIG5ldyBEYXRlKGN1cnJlbnRFbmQpID4gbmV3IERhdGUobmV4dFN0YXJ0KSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiAke25leHRTdGFnZS5uYW1lfSBtdXN0IHN0YXJ0IGFmdGVyICR7dGVtcFN1YnN0YWdlLm5hbWV9IGVuZHNgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0TWluRW5kRGF0ZSA9IChzdWJzdGFnZSkgPT4ge1xyXG4gICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSkge1xyXG4gICAgICByZXR1cm4gc3Vic3RhZ2Uuc3RhcnREYXRlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRNaW5FbmRUaW1lID0gKHN1YnN0YWdlKSA9PiB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlID09PSBzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSkge1xyXG4gICAgICByZXR1cm4gc3Vic3RhZ2Uuc3RhcnRUaW1lO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9IChpbmRleCwgZmllbGQsIHZhbHVlLCBpc1BsYWluQnVua2VyID0gZmFsc2UpID0+IHtcclxuICAgIGlmIChyZWFkT25seSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCB1cGRhdGVkTWF0ZXJpYWwgPSB7IC4uLm1hdGVyaWFsIH07XHJcbiAgICBcclxuICAgIGlmIChpc1BsYWluQnVua2VyKSB7XHJcbiAgICAgIGNvbnN0IHN1YnN0YWdlID0gdXBkYXRlZE1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmllbGQgPT09ICdzdGFydERhdGUnIHx8IGZpZWxkID09PSAnc3RhcnRUaW1lJyB8fCBmaWVsZCA9PT0gJ2VuZERhdGUnIHx8IGZpZWxkID09PSAnZW5kVGltZScpIHtcclxuICAgICAgICBpZiAoIXZhbGlkYXRlRGF0ZVJhbmdlKHN1YnN0YWdlLCBmaWVsZCwgdmFsdWUsIHN1YnN0YWdlLCB0cnVlKSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc3Vic3RhZ2VbZmllbGRdID0gdmFsdWU7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSAmJiBzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2Uuc3RhcnREYXRlfVQke3N1YnN0YWdlLnN0YXJ0VGltZX1gKTtcclxuICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLmVuZERhdGV9VCR7c3Vic3RhZ2UuZW5kVGltZX1gKTtcclxuICAgICAgICBjb25zdCBkaWZmSG91cnMgPSAoZW5kRGF0ZVRpbWUgLSBzdGFydERhdGVUaW1lKSAvICgxMDAwICogNjAgKiA2MCk7XHJcbiAgICAgICAgc3Vic3RhZ2UudG90YWxIb3VycyA9IGRpZmZIb3Vycy50b0ZpeGVkKDEpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBzdWJzdGFnZSA9IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdO1xyXG4gICAgICBcclxuICAgICAgaWYgKGZpZWxkID09PSAnc3RhcnREYXRlJyB8fCBmaWVsZCA9PT0gJ3N0YXJ0VGltZScgfHwgZmllbGQgPT09ICdlbmREYXRlJyB8fCBmaWVsZCA9PT0gJ2VuZFRpbWUnKSB7XHJcbiAgICAgICAgaWYgKCF2YWxpZGF0ZURhdGVSYW5nZShzdWJzdGFnZSwgZmllbGQsIHZhbHVlLCBzdWJzdGFnZSkpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHN1YnN0YWdlW2ZpZWxkXSA9IHZhbHVlO1xyXG4gICAgICBcclxuICAgICAgaWYgKCF2YWxpZGF0ZVN0YWdlU2VxdWVuY2UoaW5kZXgsIGZpZWxkLCB2YWx1ZSwgdXBkYXRlZE1hdGVyaWFsKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiBzdWJzdGFnZS5zdGFydFRpbWUgJiYgc3Vic3RhZ2UuZW5kRGF0ZSAmJiBzdWJzdGFnZS5lbmRUaW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLnN0YXJ0RGF0ZX1UJHtzdWJzdGFnZS5zdGFydFRpbWV9YCk7XHJcbiAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5lbmREYXRlfVQke3N1YnN0YWdlLmVuZFRpbWV9YCk7XHJcbiAgICAgICAgY29uc3QgZGlmZkhvdXJzID0gKGVuZERhdGVUaW1lIC0gc3RhcnREYXRlVGltZSkgLyAoMTAwMCAqIDYwICogNjApO1xyXG4gICAgICAgIHN1YnN0YWdlLnRvdGFsSG91cnMgPSBkaWZmSG91cnMudG9GaXhlZCgxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvblVwZGF0ZSh1cGRhdGVkTWF0ZXJpYWwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldFRhYmxlVGl0bGUgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IFNvYWtpbmcgUHJvY2Vzc2A7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGUtc2VjdGlvblwiPlxyXG4gICAgICA8aDMgY2xhc3NOYW1lPVwidGFibGUtdGl0bGVcIj57Z2V0VGFibGVUaXRsZSgpfTwvaDM+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW50cnktdGFibGUtY29udGFpbmVyXCI+XHJcbiAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cImVudHJ5LXRhYmxlXCI+XHJcbiAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5TdWJzdGFnZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIGNvbFNwYW49XCIyXCI+U3RhcnQ8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCBjb2xTcGFuPVwiMlwiPkVuZDwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+VG90YWwgSG91cnM8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPlJlbWFya3M8L3RoPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgPHRoPkRhdGU8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aD5UaW1lPC90aD5cclxuICAgICAgICAgICAgICA8dGg+RGF0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoPlRpbWU8L3RoPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAge21hdGVyaWFsLnN1YnN0YWdlcy5tYXAoKHN1YnN0YWdlLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgIDx0ciBrZXk9e2luZGV4fT5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJzdWJzdGFnZS1uYW1lXCI+e3N1YnN0YWdlLm5hbWV9PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5zdGFydERhdGUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3N0YXJ0RGF0ZScsIGUudGFyZ2V0LnZhbHVlLCBmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtYXg9e3N1YnN0YWdlLmVuZERhdGUgfHwgdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRpbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5zdGFydFRpbWUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3N0YXJ0VGltZScsIGUudGFyZ2V0LnZhbHVlLCBmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtYXg9e3N1YnN0YWdlLnN0YXJ0RGF0ZSA9PT0gc3Vic3RhZ2UuZW5kRGF0ZSA/IHN1YnN0YWdlLmVuZFRpbWUgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLmVuZERhdGUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ2VuZERhdGUnLCBlLnRhcmdldC52YWx1ZSwgZmFsc2UpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWluPXtnZXRNaW5FbmREYXRlKHN1YnN0YWdlKX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0aW1lXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UuZW5kVGltZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnZW5kVGltZScsIGUudGFyZ2V0LnZhbHVlLCBmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtaW49e2dldE1pbkVuZFRpbWUoc3Vic3RhZ2UpfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS50b3RhbEhvdXJzIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQXV0by1jYWxjXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UucmVtYXJrcyB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAncmVtYXJrcycsIGUudGFyZ2V0LnZhbHVlLCBmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIHJlbWFya3MuLi5cIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIHtzaG93UGxhaW5CdW5rZXIgJiYgKFxyXG4gICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJwbGFpbi1idW5rZXItcm93XCI+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwic3Vic3RhZ2UtbmFtZSBwbGFpbi1idW5rZXJcIj5QbGFpbiBCdW5rZXI8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LnN0YXJ0RGF0ZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKG51bGwsICdzdGFydERhdGUnLCBlLnRhcmdldC52YWx1ZSwgdHJ1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtYXg9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LmVuZERhdGUgfHwgdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRpbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlPy5zdGFydFRpbWUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShudWxsLCAnc3RhcnRUaW1lJywgZS50YXJnZXQudmFsdWUsIHRydWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PXttYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlPy5zdGFydERhdGUgPT09IG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LmVuZERhdGUgPyBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlPy5lbmRUaW1lIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlPy5lbmREYXRlIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UobnVsbCwgJ2VuZERhdGUnLCBlLnRhcmdldC52YWx1ZSwgdHJ1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtaW49e2dldE1pbkVuZERhdGUobWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZSl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LmVuZFRpbWUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShudWxsLCAnZW5kVGltZScsIGUudGFyZ2V0LnZhbHVlLCB0cnVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj17Z2V0TWluRW5kVGltZShtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlKX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZT8udG90YWxIb3VycyB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkF1dG8tY2FsY1wiXHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LnJlbWFya3MgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShudWxsLCAncmVtYXJrcycsIGUudGFyZ2V0LnZhbHVlLCB0cnVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBZGQgcmVtYXJrcy4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0pO1xyXG5cclxuTWF0ZXJpYWxUYWJsZS5kaXNwbGF5TmFtZSA9ICdNYXRlcmlhbFRhYmxlJztcclxuXHJcbmZ1bmN0aW9uIEJhdGNoU2VsZWN0aW9uKHsgb25TZWxlY3RCYXRjaCwgbG9hZGluZywgZXJyb3IsIGluaXRpYWxCYXRjaE51bWJlciwgaW5pdGlhbEJhdGNoSWQgfSkge1xyXG4gIGNvbnN0IFtiYXRjaE51bWJlciwgc2V0QmF0Y2hOdW1iZXJdID0gdXNlU3RhdGUoaW5pdGlhbEJhdGNoTnVtYmVyIHx8ICcnKTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcclxuICBjb25zdCBoYXNMb2FkZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG5cclxuICAvLyBBdXRvLWxvYWQgYmF0Y2ggaWYgaW5pdGlhbEJhdGNoTnVtYmVyIGlzIHByb3ZpZGVkXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpbml0aWFsQmF0Y2hOdW1iZXIgJiYgIWhhc0xvYWRlZFJlZi5jdXJyZW50ICYmICFsb2FkaW5nKSB7XHJcbiAgICAgIHNldEJhdGNoTnVtYmVyKGluaXRpYWxCYXRjaE51bWJlcik7XHJcbiAgICAgIGhhbmRsZUxvYWRCYXRjaChpbml0aWFsQmF0Y2hOdW1iZXIsIGluaXRpYWxCYXRjaElkKTtcclxuICAgICAgaGFzTG9hZGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0sIFtpbml0aWFsQmF0Y2hOdW1iZXIsIGluaXRpYWxCYXRjaElkLCBsb2FkaW5nXSk7XHJcblxyXG4gIGNvbnN0IGdldE1hdGVyaWFsc0Zyb21CYXRjaCA9IChiYXRjaERhdGEpID0+IHtcclxuICAgIGNvbnN0IG1hdGVyaWFscyA9IG5ldyBTZXQoKTtcclxuICAgIFxyXG4gICAgaWYgKGJhdGNoRGF0YSAmJiBiYXRjaERhdGEuZm9ybXVsYXRpb25fZW50cmllcykge1xyXG4gICAgICBiYXRjaERhdGEuZm9ybXVsYXRpb25fZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcclxuICAgICAgICBjb25zdCBtYXRlcmlhbE5hbWUgPSBlbnRyeS5uYW1lLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKE1BVEVSSUFMX1RZUEVTW21hdGVyaWFsTmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgbWF0ZXJpYWxzLmFkZChtYXRlcmlhbE5hbWUpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk4wgRm91bmQgbWF0ZXJpYWw6ICR7bWF0ZXJpYWxOYW1lfSAtPiAke01BVEVSSUFMX1RZUEVTW21hdGVyaWFsTmFtZV19YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIEFycmF5LmZyb20obWF0ZXJpYWxzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVMb2FkQmF0Y2ggPSBhc3luYyAoYmF0Y2hOdW0sIGJhdGNoSWQpID0+IHtcclxuICAgIGlmICghYmF0Y2hOdW0udHJpbSgpKSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdQbGVhc2UgZW50ZXIgYSBiYXRjaCBudW1iZXInKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBGZXRjaGluZyBiYXRjaCBkZXRhaWxzIGZvcjogJHtiYXRjaE51bX0gd2l0aCBJRDogJHtiYXRjaElkIHx8ICd1bmtub3duJ31gKTtcclxuICAgICAgXHJcbiAgICAgIGxldCBzZWxlY3RlZEJhdGNoID0gbnVsbDtcclxuICAgICAgXHJcbiAgICAgIC8vIFRyeSB0byBmZXRjaCBieSBJRCBmaXJzdCBpZiBwcm92aWRlZFxyXG4gICAgICBpZiAoYmF0Y2hJZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OhIFVzaW5nIGdldEJhdGNoQnlJZCBBUEkgd2l0aCBJRDogJHtiYXRjaElkfWApO1xyXG4gICAgICAgIGNvbnN0IGJhdGNoUmVzdWx0ID0gYXdhaXQgZ2V0QmF0Y2hCeUlkKGJhdGNoSWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChiYXRjaFJlc3VsdC5zdWNjZXNzICYmIGJhdGNoUmVzdWx0LmRhdGEpIHtcclxuICAgICAgICAgIHNlbGVjdGVkQmF0Y2ggPSBiYXRjaFJlc3VsdC5kYXRhO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBGb3VuZCBiYXRjaCBieSBJRDonLCBzZWxlY3RlZEJhdGNoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFiYXRjaFJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pqg77iPIEZhaWxlZCB0byBmZXRjaCBieSBJRDogJHtiYXRjaFJlc3VsdC5lcnJvcn1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIElmIG5vdCBmb3VuZCBieSBJRCBvciBubyBJRCBwcm92aWRlZCwgdHJ5IHRvIGZpbmQgYnkgYmF0Y2ggbnVtYmVyXHJcbiAgICAgIGlmICghc2VsZWN0ZWRCYXRjaCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OhIEZldGNoaW5nIGFsbCBiYXRjaGVzIHRvIGZpbmQgYnkgYmF0Y2ggbnVtYmVyOiAke2JhdGNoTnVtfWApO1xyXG4gICAgICAgIGNvbnN0IGFsbEJhdGNoZXNSZXN1bHQgPSBhd2FpdCBnZXRBbGxCYXRjaGVzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGFsbEJhdGNoZXNSZXN1bHQuc3VjY2VzcyAmJiBhbGxCYXRjaGVzUmVzdWx0LmRhdGEpIHtcclxuICAgICAgICAgIGNvbnN0IGJhdGNoZXMgPSBhbGxCYXRjaGVzUmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICBzZWxlY3RlZEJhdGNoID0gYmF0Y2hlcy5maW5kKGIgPT4gYi5iYXRjaF9udW1iZXIgPT09IGJhdGNoTnVtLnRyaW0oKSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChzZWxlY3RlZEJhdGNoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgRm91bmQgYmF0Y2ggYnkgYmF0Y2ggbnVtYmVyOicsIHNlbGVjdGVkQmF0Y2gpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ0JhdGNoIG51bWJlciBub3QgZm91bmQnKTtcclxuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcignRmFpbGVkIHRvIGZldGNoIGJhdGNoZXMnKTtcclxuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNlbGVjdGVkQmF0Y2gpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcignQmF0Y2ggbm90IGZvdW5kJyk7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG1hdGVyaWFscyA9IGdldE1hdGVyaWFsc0Zyb21CYXRjaChzZWxlY3RlZEJhdGNoKTtcclxuXHJcbiAgICAgIGlmIChtYXRlcmlhbHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoJ05vIHN1aXRhYmxlIG1hdGVyaWFscyAoQmFnYXNzZSwgV2hlYXQgU3RyYXcsIG9yIFBhZGR5IFN0cmF3KSBmb3VuZCBpbiB0aGlzIGJhdGNoJyk7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OLIE1hdGVyaWFscyB0byBwcm9jZXNzOmAsIG1hdGVyaWFscyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OLIE51bWJlciBvZiBtYXRlcmlhbCB0YWJsZXM6ICR7bWF0ZXJpYWxzLmxlbmd0aH1gKTtcclxuXHJcbiAgICAgIGNvbnN0IG5ld0JhdGNoID0gY3JlYXRlRW1wdHlCYXRjaChiYXRjaE51bSwgbWF0ZXJpYWxzLCBzZWxlY3RlZEJhdGNoLmlkKTtcclxuICAgICAgbmV3QmF0Y2guYmF0Y2hEYXRhID0gc2VsZWN0ZWRCYXRjaDtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIEZldGNoaW5nIHN0cmF3IGRhdGEgZm9yIGJhdGNoIElEOicsIHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBjb25zdCBzdHJhd0RhdGFSZXN1bHQgPSBhd2FpdCBmZXRjaEJhdGNoRGF0YShzZWxlY3RlZEJhdGNoLmlkKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChzdHJhd0RhdGFSZXN1bHQuc3VjY2VzcyAmJiBzdHJhd0RhdGFSZXN1bHQuZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OmIFJhdyBBUEkgZGF0YTonLCBzdHJhd0RhdGFSZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgY29uc3QgcG9wdWxhdGVkQmF0Y2ggPSBjb252ZXJ0QXBpUmVzcG9uc2VUb1VJKHN0cmF3RGF0YVJlc3VsdC5kYXRhLCBuZXdCYXRjaCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBQb3B1bGF0ZWQgYmF0Y2g6JywgcG9wdWxhdGVkQmF0Y2gpO1xyXG4gICAgICAgIG9uU2VsZWN0QmF0Y2gocG9wdWxhdGVkQmF0Y2gpO1xyXG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYExvYWRlZCBiYXRjaCAke2JhdGNoTnVtfSB3aXRoIGV4aXN0aW5nIGRhdGEgKCR7bWF0ZXJpYWxzLmxlbmd0aH0gbWF0ZXJpYWwgdGFibGUke21hdGVyaWFscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9KWApO1xyXG4gICAgICB9IGVsc2UgaWYgKHN0cmF3RGF0YVJlc3VsdC5zdWNjZXNzICYmICFzdHJhd0RhdGFSZXN1bHQuZGF0YSkge1xyXG4gICAgICAgIG9uU2VsZWN0QmF0Y2gobmV3QmF0Y2gpO1xyXG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYExvYWRlZCBiYXRjaCAke2JhdGNoTnVtfSAoJHttYXRlcmlhbHMubGVuZ3RofSBtYXRlcmlhbCB0YWJsZSR7bWF0ZXJpYWxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gLSBubyBleGlzdGluZyBkYXRhKWApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvYXN0Lndhcm5pbmcoYExvYWRlZCBiYXRjaCAke2JhdGNoTnVtfSBidXQgZmFpbGVkIHRvIGZldGNoIGV4aXN0aW5nIGRhdGFgKTtcclxuICAgICAgICBvblNlbGVjdEJhdGNoKG5ld0JhdGNoKTtcclxuICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgbG9hZGluZyBiYXRjaDonLCBlcnIpO1xyXG4gICAgICB0b2FzdC5lcnJvcignRXJyb3IgbG9hZGluZyBiYXRjaCBkZXRhaWxzLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDcmVhdGVOZXcgPSAoKSA9PiB7XHJcbiAgICBpZiAoaXNMb2FkaW5nIHx8IGxvYWRpbmcpIHJldHVybjtcclxuICAgIGhhbmRsZUxvYWRCYXRjaChiYXRjaE51bWJlcik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQmFja0NsaWNrID0gKCkgPT4ge1xyXG4gICAgLy8gQ2xlYXIgdGhlIFVSTCBwYXJhbXMgd2hlbiBnb2luZyBiYWNrXHJcbiAgICByb3V0ZXIucHVzaCgnL3NvYWtpbmcnKTtcclxuICAgIC8vIENsZWFyIHRoZSBiYXRjaCBudW1iZXIgYW5kIGFsbG93IG5ldyBpbnB1dFxyXG4gICAgc2V0QmF0Y2hOdW1iZXIoJycpO1xyXG4gICAgaGFzTG9hZGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiYXRjaC1zZWxlY3Rpb25cIj5cclxuICAgICAgPGgyPlNvYWtpbmcgUHJvY2VzcyBFbnRyeTwvaDI+XHJcbiAgICAgIFxyXG4gICAgICB7ZXJyb3IgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiPlxyXG4gICAgICAgICAgRXJyb3I6IHtlcnJvcn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0aW9uLXBhbmVsXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctYmF0Y2gtc2VjdGlvblwiPlxyXG4gICAgICAgICAgPGgzPkVudGVyIEJhdGNoIE51bWJlcjwvaDM+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhdGNoLWlucHV0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIEJhdGNoIE51bWJlciAoZS5nLiwgQkFUQ0gtMDAxKVwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e2JhdGNoTnVtYmVyfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QmF0Y2hOdW1iZXIoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJhdGNoLWlucHV0XCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGxvYWRpbmd9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ3JlYXRlTmV3fSBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBsb2FkaW5nfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAge2lzTG9hZGluZyB8fCBsb2FkaW5nID8gJ0xvYWRpbmcuLi4nIDogJ0xvYWQgQmF0Y2gnfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNvYWtpbmdDb250ZW50KCkge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcclxuICBjb25zdCBbY3VycmVudEJhdGNoLCBzZXRDdXJyZW50QmF0Y2hdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW3NhdmVkQmF0Y2hlcywgc2V0U2F2ZWRCYXRjaGVzXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbaW5pdGlhbEJhdGNoTnVtYmVyLCBzZXRJbml0aWFsQmF0Y2hOdW1iZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW2luaXRpYWxCYXRjaElkLCBzZXRJbml0aWFsQmF0Y2hJZF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBpc1NhdmluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XHJcblxyXG4gIC8vIEdldCBiYXRjaCBudW1iZXIgYW5kIElEIGZyb20gVVJMIHBhcmFtc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBiYXRjaE51bSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2JhdGNoJyk7XHJcbiAgICBjb25zdCBiYXRjaElkID0gc2VhcmNoUGFyYW1zLmdldCgnYmF0Y2hJZCcpO1xyXG4gICAgXHJcbiAgICBpZiAoYmF0Y2hOdW0pIHtcclxuICAgICAgc2V0SW5pdGlhbEJhdGNoTnVtYmVyKGJhdGNoTnVtKTtcclxuICAgICAgc2V0SW5pdGlhbEJhdGNoSWQoYmF0Y2hJZCk7XHJcbiAgICB9XHJcbiAgfSwgW3NlYXJjaFBhcmFtc10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVTZWxlY3RCYXRjaCA9IChiYXRjaCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBTZXR0aW5nIGN1cnJlbnQgYmF0Y2g6JywgYmF0Y2gpO1xyXG4gICAgc2V0Q3VycmVudEJhdGNoKGJhdGNoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVVcGRhdGVNYXRlcmlhbCA9IHVzZUNhbGxiYWNrKChpbmRleCwgdXBkYXRlZE1hdGVyaWFsKSA9PiB7XHJcbiAgICBzZXRDdXJyZW50QmF0Y2gocHJldkJhdGNoID0+IHtcclxuICAgICAgaWYgKCFwcmV2QmF0Y2gpIHJldHVybiBwcmV2QmF0Y2g7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRNYXRlcmlhbHMgPSBbLi4ucHJldkJhdGNoLm1hdGVyaWFsc107XHJcbiAgICAgIHVwZGF0ZWRNYXRlcmlhbHNbaW5kZXhdID0gdXBkYXRlZE1hdGVyaWFsO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnByZXZCYXRjaCxcclxuICAgICAgICBtYXRlcmlhbHM6IHVwZGF0ZWRNYXRlcmlhbHNcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTW92ZVRvUGxhaW5CdW5rZXJDaGFuZ2UgPSAodmFsdWUpID0+IHtcclxuICAgIHNldEN1cnJlbnRCYXRjaChwcmV2QmF0Y2ggPT4gKHtcclxuICAgICAgLi4ucHJldkJhdGNoLFxyXG4gICAgICBtb3ZlVG9QbGFpbkJ1bmtlcjogdmFsdWUgPT09ICd5ZXMnXHJcbiAgICB9KSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVCYXRjaERhdGEgPSAoYmF0Y2gsIGluY2x1ZGVQbGFpbkJ1bmtlciA9IGZhbHNlKSA9PiB7XHJcbiAgICBmb3IgKGNvbnN0IG1hdGVyaWFsIG9mIGJhdGNoLm1hdGVyaWFscykge1xyXG4gICAgICAvLyBWYWxpZGF0ZSBtYWluIHN1YnN0YWdlc1xyXG4gICAgICBmb3IgKGNvbnN0IHN1YnN0YWdlIG9mIG1hdGVyaWFsLnN1YnN0YWdlcykge1xyXG4gICAgICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lICYmIHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLnN0YXJ0RGF0ZX1UJHtzdWJzdGFnZS5zdGFydFRpbWV9YCk7XHJcbiAgICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLmVuZERhdGV9VCR7c3Vic3RhZ2UuZW5kVGltZX1gKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUgPiBlbmREYXRlVGltZSkge1xyXG4gICAgICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLSAke3N1YnN0YWdlLm5hbWV9OiBFbmQgZGF0ZS90aW1lIGNhbm5vdCBiZSBiZWZvcmUgc3RhcnQgZGF0ZS90aW1lYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKChzdWJzdGFnZS5zdGFydERhdGUgfHwgc3Vic3RhZ2Uuc3RhcnRUaW1lKSAmJiAoIXN1YnN0YWdlLnN0YXJ0RGF0ZSB8fCAhc3Vic3RhZ2Uuc3RhcnRUaW1lKSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYFBsZWFzZSBjb21wbGV0ZSBib3RoIGRhdGUgYW5kIHRpbWUgZm9yICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IC0gJHtzdWJzdGFnZS5uYW1lfSBzdGFydGApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHN1YnN0YWdlLmVuZERhdGUgfHwgc3Vic3RhZ2UuZW5kVGltZSkgJiYgKCFzdWJzdGFnZS5lbmREYXRlIHx8ICFzdWJzdGFnZS5lbmRUaW1lKSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYFBsZWFzZSBjb21wbGV0ZSBib3RoIGRhdGUgYW5kIHRpbWUgZm9yICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IC0gJHtzdWJzdGFnZS5uYW1lfSBlbmRgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICghdmFsaWRhdGVTdGFnZVNlcXVlbmNpbmcobWF0ZXJpYWwsIHRvYXN0KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gVmFsaWRhdGUgcGxhaW4gYnVua2VyIGlmIGluY2x1ZGVkXHJcbiAgICAgIGlmIChpbmNsdWRlUGxhaW5CdW5rZXIgJiYgbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZSkge1xyXG4gICAgICAgIGNvbnN0IHBiID0gbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZTtcclxuICAgICAgICBjb25zdCBoYXNQYkRhdGEgPSBwYi5zdGFydERhdGUgfHwgcGIuc3RhcnRUaW1lIHx8IHBiLmVuZERhdGUgfHwgcGIuZW5kVGltZTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoaGFzUGJEYXRhKSB7XHJcbiAgICAgICAgICBpZiAoKHBiLnN0YXJ0RGF0ZSAmJiAhcGIuc3RhcnRUaW1lKSB8fCAocGIuc3RhcnRUaW1lICYmICFwYi5zdGFydERhdGUpKSB7XHJcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKGBQbGVhc2UgY29tcGxldGUgYm90aCBkYXRlIGFuZCB0aW1lIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtIFBsYWluIEJ1bmtlciBzdGFydGApO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoKHBiLmVuZERhdGUgJiYgIXBiLmVuZFRpbWUpIHx8IChwYi5lbmRUaW1lICYmICFwYi5lbmREYXRlKSkge1xyXG4gICAgICAgICAgICB0b2FzdC5lcnJvcihgUGxlYXNlIGNvbXBsZXRlIGJvdGggZGF0ZSBhbmQgdGltZSBmb3IgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLSBQbGFpbiBCdW5rZXIgZW5kYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChwYi5zdGFydERhdGUgJiYgcGIuc3RhcnRUaW1lICYmIHBiLmVuZERhdGUgJiYgcGIuZW5kVGltZSkge1xyXG4gICAgICAgICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gbmV3IERhdGUoYCR7cGIuc3RhcnREYXRlfVQke3BiLnN0YXJ0VGltZX1gKTtcclxuICAgICAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtwYi5lbmREYXRlfVQke3BiLmVuZFRpbWV9YCk7XHJcbiAgICAgICAgICAgIGlmIChzdGFydERhdGVUaW1lID4gZW5kRGF0ZVRpbWUpIHtcclxuICAgICAgICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLSBQbGFpbiBCdW5rZXI6IEVuZCBkYXRlL3RpbWUgY2Fubm90IGJlIGJlZm9yZSBzdGFydCBkYXRlL3RpbWVgKTtcclxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG5jb25zdCB2YWxpZGF0ZU1vdmVUb1BsYWluQnVua2VyID0gKGJhdGNoKSA9PiB7XHJcbiAgaWYgKGJhdGNoLm1vdmVUb1BsYWluQnVua2VyID09PSBmYWxzZSkge1xyXG4gICAgLy8gSWYgXCJOb1wiIGlzIHNlbGVjdGVkLCB2YWxpZGF0ZSB0aGF0IHBsYWluIGJ1bmtlciBkYXRhIGlzIGNvbXBsZXRlIGZvciBBTEwgbWF0ZXJpYWxzXHJcbiAgICBmb3IgKGNvbnN0IG1hdGVyaWFsIG9mIGJhdGNoLm1hdGVyaWFscykge1xyXG4gICAgICBjb25zdCBwYiA9IG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiBwbGFpbiBidW5rZXIgaGFzIGFsbCByZXF1aXJlZCBmaWVsZHMgKGV4Y2VwdCByZW1hcmtzKVxyXG4gICAgICBpZiAoIXBiLnN0YXJ0RGF0ZSkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogUGxhaW4gQnVua2VyIHJvdyBpcyByZXF1aXJlZCB3aGVuIHNlbGVjdGluZyBcIk5vXCJgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFwYi5zdGFydFRpbWUpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IFBsYWluIEJ1bmtlciBzdGFydCB0aW1lIGlzIHJlcXVpcmVkIHdoZW4gc2VsZWN0aW5nIFwiTm9cImApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXBiLmVuZERhdGUpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IFBsYWluIEJ1bmtlciBlbmQgZGF0ZSBpcyByZXF1aXJlZCB3aGVuIHNlbGVjdGluZyBcIk5vXCJgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFwYi5lbmRUaW1lKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBQbGFpbiBCdW5rZXIgZW5kIHRpbWUgaXMgcmVxdWlyZWQgd2hlbiBzZWxlY3RpbmcgXCJOb1wiYCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBWYWxpZGF0ZSBkYXRlIHJhbmdlXHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtwYi5zdGFydERhdGV9VCR7cGIuc3RhcnRUaW1lfWApO1xyXG4gICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3BiLmVuZERhdGV9VCR7cGIuZW5kVGltZX1gKTtcclxuICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUgPiBlbmREYXRlVGltZSkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogUGxhaW4gQnVua2VyIGVuZCBkYXRlL3RpbWUgY2Fubm90IGJlIGJlZm9yZSBzdGFydCBkYXRlL3RpbWVgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNhdmUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWN1cnJlbnRCYXRjaCB8fCBpc1NhdmluZ1JlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdcXG49PT09PT09PT09IPCfmoAgU0FWRSBTVEFSVEVEID09PT09PT09PT0nKTtcclxuICAgIGNvbnNvbGUubG9nKGBCYXRjaDogJHtjdXJyZW50QmF0Y2guYmF0Y2hOdW1iZXJ9IChJRDogJHtjdXJyZW50QmF0Y2guaWR9KWApO1xyXG4gICAgY29uc29sZS5sb2coYFRvdGFsIG1hdGVyaWFsczogJHtjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLmxlbmd0aH1gKTtcclxuXHJcbiAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuICAgICAgbGV0IGhhc0FueURhdGFUb1NhdmUgPSBmYWxzZTtcclxuICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XHJcbiAgICAgIGxldCBmYWlsQ291bnQgPSAwO1xyXG4gICAgICBcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBjdXJyZW50QmF0Y2gubWF0ZXJpYWxzW2ldO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBcXG4tLS0g8J+TnSBQcm9jZXNzaW5nIG1hdGVyaWFsICR7aSsxfS8ke2N1cnJlbnRCYXRjaC5tYXRlcmlhbHMubGVuZ3RofTogJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLS0tYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgbWF0ZXJpYWwgaGFzIGNvbXBsZXRlIGRhdGEgKGluY2x1ZGluZyBwbGFpbiBidW5rZXIgaWYgaXQncyB2aXNpYmxlKVxyXG4gICAgICAgIGNvbnN0IGluY2x1ZGVQbGFpbkJ1bmtlciA9IGN1cnJlbnRCYXRjaC5tb3ZlVG9QbGFpbkJ1bmtlciA9PT0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGhhc0NvbXBsZXRlTWF0ZXJpYWxEYXRhKG1hdGVyaWFsLCBpbmNsdWRlUGxhaW5CdW5rZXIpKSB7XHJcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gY29udmVydFRvQXBpUGF5bG9hZChjdXJyZW50QmF0Y2gsIG1hdGVyaWFsLCBmYWxzZSk7XHJcbiAgICAgICAgICBpZiAocGF5bG9hZCkge1xyXG4gICAgICAgICAgICBoYXNBbnlEYXRhVG9TYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk6QgTWFraW5nIEFQSSBjYWxsIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAoJHttYXRlcmlhbC50eXBlfSlgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRUb0FwaShwYXlsb2FkLCBtYXRlcmlhbC50eXBlLCBtYXRlcmlhbC5kaXNwbGF5TmFtZSk7XHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7IC4uLnJlc3VsdCwgbWF0ZXJpYWxJbmRleDogaSwgbWF0ZXJpYWxUeXBlOiBtYXRlcmlhbC50eXBlIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmRhdGEgJiYgcmVzdWx0LmRhdGEuZGF0YS5pZCkge1xyXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEJhdGNoKHByZXZCYXRjaCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRNYXRlcmlhbHMgPSBbLi4ucHJldkJhdGNoLm1hdGVyaWFsc107XHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRNYXRlcmlhbHNbaV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4udXBkYXRlZE1hdGVyaWFsc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICByZWNvcmRJZDogcmVzdWx0LmRhdGEuZGF0YS5pZCxcclxuICAgICAgICAgICAgICAgICAgICBoYXNFeGlzdGluZ0RhdGE6IHRydWVcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5wcmV2QmF0Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxzOiB1cGRhdGVkTWF0ZXJpYWxzXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gZGF0YSBzYXZlZCBzdWNjZXNzZnVsbHkhYCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgZmFpbENvdW50Kys7XHJcbiAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoYEZhaWxlZCB0byBzYXZlICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IGRhdGE6ICR7cmVzdWx0LmVycm9yfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDij63vuI8gJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gaGFzIGluY29tcGxldGUgZGF0YSwgc2tpcHBpbmdgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdcXG49PT09PT09PT09IPCfk4ogU0FWRSBTVU1NQVJZID09PT09PT09PT0nKTtcclxuICAgICAgY29uc29sZS5sb2coYFRvdGFsIEFQSSBjYWxscyBhdHRlbXB0ZWQ6ICR7cmVzdWx0cy5sZW5ndGh9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgU3VjY2Vzc2Z1bDogJHtzdWNjZXNzQ291bnR9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinYwgRmFpbGVkOiAke2ZhaWxDb3VudH1gKTtcclxuICAgICAgY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG4nKTtcclxuXHJcbiAgICAgIGlmICghaGFzQW55RGF0YVRvU2F2ZSkge1xyXG4gICAgICAgIHRvYXN0LmluZm8oJ05vIGNvbXBsZXRlIGRhdGEgdG8gc2F2ZS4gUGxlYXNlIGZpbGwgaW4gYWxsIHJlcXVpcmVkIGZpZWxkcyBmb3IgYXQgbGVhc3Qgb25lIG1hdGVyaWFsLicpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBzYXZlZEJhdGNoZXMuZmluZEluZGV4KGIgPT4gYi5pZCA9PT0gY3VycmVudEJhdGNoLmlkKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChleGlzdGluZ0luZGV4ID49IDApIHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnNhdmVkQmF0Y2hlc107XHJcbiAgICAgICAgdXBkYXRlZFtleGlzdGluZ0luZGV4XSA9IHsgLi4uY3VycmVudEJhdGNoLCBzdGF0dXM6ICdkcmFmdCcgfTtcclxuICAgICAgICBzZXRTYXZlZEJhdGNoZXModXBkYXRlZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0U2F2ZWRCYXRjaGVzKFsuLi5zYXZlZEJhdGNoZXMsIHsgLi4uY3VycmVudEJhdGNoLCBzdGF0dXM6ICdkcmFmdCcgfV0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBhbGxTdWNjZXNzID0gcmVzdWx0cy5ldmVyeShyID0+IHIuc3VjY2Vzcyk7XHJcbiAgICAgIGlmIChhbGxTdWNjZXNzKSB7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgQWxsICR7c3VjY2Vzc0NvdW50fSBtYXRlcmlhbCBkYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseSFgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b2FzdC53YXJuaW5nKGAke3N1Y2Nlc3NDb3VudH0gbWF0ZXJpYWwocykgc2F2ZWQgc3VjY2Vzc2Z1bGx5LCAke2ZhaWxDb3VudH0gZmFpbGVkYCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBiYXRjaCBkYXRhJyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTYXZlIGVycm9yOicsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5jb25zdCBoYW5kbGVNb3ZlVG9QbGFpbkJ1bmtlciA9IGFzeW5jICgpID0+IHtcclxuICBpZiAoIWN1cnJlbnRCYXRjaCB8fCBpc1NhdmluZ1JlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgXHJcbiAgY29uc3QgaGFzRGF0YSA9IGN1cnJlbnRCYXRjaC5tYXRlcmlhbHMuc29tZShtYXRlcmlhbCA9PlxyXG4gICAgbWF0ZXJpYWwuc3Vic3RhZ2VzLnNvbWUoaGFzU3Vic3RhZ2VEYXRhKVxyXG4gICk7XHJcbiAgXHJcbiAgaWYgKCFoYXNEYXRhKSB7XHJcbiAgICB0b2FzdC5lcnJvcignUGxlYXNlIGVudGVyIGF0IGxlYXN0IHNvbWUgZGF0YSBiZWZvcmUgbW92aW5nJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGF0ZSBiYXNlZCBvbiBkcm9wZG93biBzZWxlY3Rpb25cclxuICBpZiAoIXZhbGlkYXRlTW92ZVRvUGxhaW5CdW5rZXIoY3VycmVudEJhdGNoKSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaXNTYXZpbmdSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgc2V0TG9hZGluZyh0cnVlKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gRmlyc3Qgc2F2ZSBhbGwgbWF0ZXJpYWwgZGF0YVxyXG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xyXG4gICAgbGV0IGhhc0FueURhdGFUb1NhdmUgPSBmYWxzZTtcclxuICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xyXG4gICAgbGV0IGZhaWxDb3VudCA9IDA7XHJcbiAgICBcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudEJhdGNoLm1hdGVyaWFscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBtYXRlcmlhbCA9IGN1cnJlbnRCYXRjaC5tYXRlcmlhbHNbaV07XHJcbiAgICAgIGNvbnNvbGUubG9nKGBcXG4tLS0g8J+TnSBQcm9jZXNzaW5nIG1hdGVyaWFsICR7aSsxfS8ke2N1cnJlbnRCYXRjaC5tYXRlcmlhbHMubGVuZ3RofTogJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLS0tYCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBJbmNsdWRlIHBsYWluIGJ1bmtlciBpbiB2YWxpZGF0aW9uIHdoZW4gbW92aW5nXHJcbiAgICAgIGNvbnN0IGluY2x1ZGVQbGFpbkJ1bmtlciA9IGN1cnJlbnRCYXRjaC5tb3ZlVG9QbGFpbkJ1bmtlciA9PT0gZmFsc2U7XHJcbiAgICAgIFxyXG4gICAgICAvLyBGb3IgXCJOb1wiIHNlbGVjdGlvbiwgZW5zdXJlIHBsYWluIGJ1bmtlciBkYXRhIGlzIGNvbXBsZXRlXHJcbiAgICAgIGlmIChjdXJyZW50QmF0Y2gubW92ZVRvUGxhaW5CdW5rZXIgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgcGIgPSBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlO1xyXG4gICAgICAgIGlmICghcGIuc3RhcnREYXRlIHx8ICFwYi5zdGFydFRpbWUgfHwgIXBiLmVuZERhdGUgfHwgIXBiLmVuZFRpbWUpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogUGxlYXNlIGNvbXBsZXRlIGFsbCBkYXRlL3RpbWUgZmllbGRzIGZvciBQbGFpbiBCdW5rZXJgKTtcclxuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGhhc0NvbXBsZXRlTWF0ZXJpYWxEYXRhKG1hdGVyaWFsLCBpbmNsdWRlUGxhaW5CdW5rZXIpKSB7XHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGNvbnZlcnRUb0FwaVBheWxvYWQoY3VycmVudEJhdGNoLCBtYXRlcmlhbCwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKHBheWxvYWQpIHtcclxuICAgICAgICAgIGhhc0FueURhdGFUb1NhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk6QgTWFraW5nIEFQSSBjYWxsIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAoJHttYXRlcmlhbC50eXBlfSlgKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFRvQXBpKHBheWxvYWQsIG1hdGVyaWFsLnR5cGUsIG1hdGVyaWFsLmRpc3BsYXlOYW1lKTtcclxuICAgICAgICAgIHJlc3VsdHMucHVzaCh7IC4uLnJlc3VsdCwgbWF0ZXJpYWxJbmRleDogaSwgbWF0ZXJpYWxUeXBlOiBtYXRlcmlhbC50eXBlIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5kYXRhICYmIHJlc3VsdC5kYXRhLmRhdGEuaWQpIHtcclxuICAgICAgICAgICAgICBzZXRDdXJyZW50QmF0Y2gocHJldkJhdGNoID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRNYXRlcmlhbHMgPSBbLi4ucHJldkJhdGNoLm1hdGVyaWFsc107XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVkTWF0ZXJpYWxzW2ldID0ge1xyXG4gICAgICAgICAgICAgICAgICAuLi51cGRhdGVkTWF0ZXJpYWxzW2ldLFxyXG4gICAgICAgICAgICAgICAgICByZWNvcmRJZDogcmVzdWx0LmRhdGEuZGF0YS5pZCxcclxuICAgICAgICAgICAgICAgICAgaGFzRXhpc3RpbmdEYXRhOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgLi4ucHJldkJhdGNoLFxyXG4gICAgICAgICAgICAgICAgICBtYXRlcmlhbHM6IHVwZGF0ZWRNYXRlcmlhbHNcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZhaWxDb3VudCsrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhg4o+t77iPICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IGhhcyBpbmNvbXBsZXRlIGRhdGEsIHNraXBwaW5nYCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWhhc0FueURhdGFUb1NhdmUpIHtcclxuICAgICAgdG9hc3QuaW5mbygnTm8gY29tcGxldGUgZGF0YSB0byBzYXZlLiBQbGVhc2UgZmlsbCBpbiBhbGwgcmVxdWlyZWQgZmllbGRzIGZvciBhdCBsZWFzdCBvbmUgbWF0ZXJpYWwuJyk7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBhbnkgbWF0ZXJpYWwgc2F2ZSBmYWlsZWQsIHN0b3AgdGhlIHByb2Nlc3NcclxuICAgIGlmIChmYWlsQ291bnQgPiAwKSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gc2F2ZSAke2ZhaWxDb3VudH0gbWF0ZXJpYWwocykuIENhbm5vdCBwcm9jZWVkIHRvIFBsYWluIEJ1bmtlci5gKTtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBiYXRjaCBzdGF0dXMgdXNpbmcgdGhlIG5ldyB1cGRhdGVCYXRjaFN0YXR1cyBmdW5jdGlvblxyXG4gICAgLy8gQ29udmVydCB0aGUgYm9vbGVhbiB2YWx1ZSBjb3JyZWN0bHlcclxuICAgIGNvbnN0IHBsYWluQnVua2VyU3RhdHVzID0gY3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyID09PSB0cnVlO1xyXG4gICAgY29uc29sZS5sb2coYPCfk6QgVXBkYXRpbmcgYmF0Y2ggc3RhdHVzIHRvOiAke3BsYWluQnVua2VyU3RhdHVzfSAoZnJvbSBzZWxlY3Rpb246ICR7Y3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyfSlgKTtcclxuICAgIFxyXG4gICAgY29uc3QgYmF0Y2hVcGRhdGVSZXN1bHQgPSBhd2FpdCB1cGRhdGVCYXRjaFN0YXR1cyhcclxuICAgICAgY3VycmVudEJhdGNoLmlkLCBcclxuICAgICAgcGxhaW5CdW5rZXJTdGF0dXNcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGJhdGNoVXBkYXRlUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgdG9hc3Quc3VjY2VzcyhgQmF0Y2ggbW92ZWQgdG8gUGxhaW4gQnVua2VyIHN1Y2Nlc3NmdWxseSB3aXRoIHN0YXR1czogJHtwbGFpbkJ1bmtlclN0YXR1cyA/ICdZZXMnIDogJ05vJ31gKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENsZWFyIHRoZSBjdXJyZW50IGJhdGNoIGFuZCByZWRpcmVjdCB0byB1bmlmaWVkLXBsYXRmb3JtXHJcbiAgICAgIHNldEN1cnJlbnRCYXRjaChudWxsKTtcclxuICAgICAgcm91dGVyLnB1c2goJy91bmlmaWVkLXBsYXRmb3JtJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0b2FzdC5lcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSBiYXRjaCBzdGF0dXM6ICR7YmF0Y2hVcGRhdGVSZXN1bHQuZXJyb3J9YCk7XHJcbiAgICB9XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0b2FzdC5lcnJvcignRmFpbGVkIHRvIG1vdmUgYmF0Y2ggdG8gUGxhaW4gQnVua2VyJyk7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgTW92ZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgfSBmaW5hbGx5IHtcclxuICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgIH0sIDEwMDApO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUJhY2tUb1NlbGVjdGlvbiA9ICgpID0+IHtcclxuICAvLyBDbGVhciB0aGUgY3VycmVudCBiYXRjaCB0byBzaG93IHRoZSBzZWxlY3Rpb24gVUlcclxuICBzZXRDdXJyZW50QmF0Y2gobnVsbCk7XHJcbiAgLy8gQ2xlYXIgVVJMIHBhcmFtcyB3aGVuIGdvaW5nIGJhY2tcclxuICByb3V0ZXIucHVzaCgnL3NvYWtpbmcnKTtcclxuICAvLyBDbGVhciBhbnkgc2F2ZWQgc3RhdGVcclxuICBzZXRFcnJvcihudWxsKTtcclxuICAvLyBSZXNldCB0aGUgaW5pdGlhbCBiYXRjaCBudW1iZXIgc3RhdGUgaWYgbmVlZGVkXHJcbiAgc2V0SW5pdGlhbEJhdGNoTnVtYmVyKG51bGwpO1xyXG4gIHNldEluaXRpYWxCYXRjaElkKG51bGwpO1xyXG59O1xyXG5cclxuICBpZiAoIWN1cnJlbnRCYXRjaCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEFwcExheW91dCB0aXRsZT1cIlNvYWtpbmcgUHJvY2Vzc1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29ha2luZy1jb250YWluZXJcIj5cclxuICAgICAgICAgIDxCYXRjaFNlbGVjdGlvbiBcclxuICAgICAgICAgICAgb25TZWxlY3RCYXRjaD17aGFuZGxlU2VsZWN0QmF0Y2h9XHJcbiAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgIGVycm9yPXtlcnJvcn1cclxuICAgICAgICAgICAgaW5pdGlhbEJhdGNoTnVtYmVyPXtpbml0aWFsQmF0Y2hOdW1iZXJ9XHJcbiAgICAgICAgICAgIGluaXRpYWxCYXRjaElkPXtpbml0aWFsQmF0Y2hJZH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvQXBwTGF5b3V0PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8QXBwTGF5b3V0IHRpdGxlPVwiU29ha2luZyBQcm9jZXNzXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29ha2luZy1jb250YWluZXJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVudHJ5LWhlYWRlclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItbGVmdFwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUJhY2tUb1NlbGVjdGlvbn0gY2xhc3NOYW1lPVwiYmFjay1idXR0b25cIj5cclxuICAgICAgICAgICAgICA8QXJyb3dCYWNrSWNvbi8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8aDI+e2N1cnJlbnRCYXRjaC5iYXRjaE51bWJlcn08L2gyPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1jb3VudFwiPlxyXG4gICAgICAgICAgICAgICh7Y3VycmVudEJhdGNoLm1hdGVyaWFscy5sZW5ndGh9IG1hdGVyaWFsIHRhYmxle2N1cnJlbnRCYXRjaC5tYXRlcmlhbHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSlcclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlci1hY3Rpb25zXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW92ZS10by1wbGFpbi1idW5rZXItZHJvcGRvd25cIj5cclxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInBsYWluQnVua2VyU2VsZWN0XCI+TW92ZSB0byBQbGFpbiBCdW5rZXI6PC9sYWJlbD5cclxuICAgICAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgICAgICBpZD1cInBsYWluQnVua2VyU2VsZWN0XCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtjdXJyZW50QmF0Y2gubW92ZVRvUGxhaW5CdW5rZXIgPT09IHRydWUgPyAneWVzJyA6IGN1cnJlbnRCYXRjaC5tb3ZlVG9QbGFpbkJ1bmtlciA9PT0gZmFsc2UgPyAnbm8nIDogJyd9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZU1vdmVUb1BsYWluQnVua2VyQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBsYWluLWJ1bmtlci1zZWxlY3RcIlxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiIGRpc2FibGVkPlNlbGVjdDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInllc1wiPlllczwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm5vXCI+Tm88L29wdGlvbj5cclxuICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZX0gXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXNhdmVcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPFNhdmVJY29uIGZvbnRTaXplPVwic21hbGxcIiAvPlxyXG4gICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1NhdmluZy4uLicgOiAnU2F2ZSd9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU1vdmVUb1BsYWluQnVua2VyfSBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tbW92ZVwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgY3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyID09PSB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8QXJyb3dGb3J3YXJkSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz5cclxuICAgICAgICAgICAgICB7bG9hZGluZyA/ICdQcm9jZXNzaW5nLi4uJyA6ICdNb3ZlIHRvIFBsYWluIEJ1bmtlcid9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIHtjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLm1hcCgobWF0ZXJpYWwsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICA8TWF0ZXJpYWxUYWJsZSBcclxuICAgICAgICAgICAga2V5PXtgJHttYXRlcmlhbC50eXBlfS0ke2luZGV4fS0ke21hdGVyaWFsLnJlY29yZElkIHx8ICduZXcnfWB9XHJcbiAgICAgICAgICAgIG1hdGVyaWFsPXttYXRlcmlhbH1cclxuICAgICAgICAgICAgb25VcGRhdGU9eyh1cGRhdGVkKSA9PiBoYW5kbGVVcGRhdGVNYXRlcmlhbChpbmRleCwgdXBkYXRlZCl9XHJcbiAgICAgICAgICAgIHNob3dQbGFpbkJ1bmtlcj17Y3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyID09PSBmYWxzZX1cclxuICAgICAgICAgICAgcmVhZE9ubHk9e2ZhbHNlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L0FwcExheW91dD5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTb2FraW5nKCkge1xyXG4gIHJldHVybiAoXHJcbiAgICA8VG9hc3RQcm92aWRlcj5cclxuICAgICAgPFNvYWtpbmdDb250ZW50IC8+XHJcbiAgICA8L1RvYXN0UHJvdmlkZXI+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VSb3V0ZXIiLCJ1c2VTZWFyY2hQYXJhbXMiLCJBcHBMYXlvdXQiLCJUb2FzdFByb3ZpZGVyIiwidXNlVG9hc3QiLCJTYXZlSWNvbiIsIkFycm93Rm9yd2FyZEljb24iLCJBcnJvd0JhY2tJY29uIiwiTUFURVJJQUxfVFlQRVMiLCJNQVRFUklBTF9ESVNQTEFZX05BTUVTIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJBUElfRU5EUE9JTlQiLCJBUElfRkVUQ0hfRU5EUE9JTlQiLCJCQVRDSF9BUElfRU5EUE9JTlQiLCJTVEFHRV9OQU1FUyIsIlBMQUlOX0JVTktFUl9TVEFHRSIsImNyZWF0ZUVtcHR5U3Vic3RhZ2UiLCJuYW1lIiwic3RhcnREYXRlIiwic3RhcnRUaW1lIiwiZW5kRGF0ZSIsImVuZFRpbWUiLCJ0b3RhbEhvdXJzIiwicmVtYXJrcyIsImNyZWF0ZUVtcHR5QmF0Y2giLCJiYXRjaE51bWJlciIsIm1hdGVyaWFscyIsImJhdGNoSWQiLCJiYXRjaCIsImlkIiwiRGF0ZSIsIm5vdyIsImJhdGNoRGF0YSIsImV4aXN0aW5nUmVjb3JkcyIsIm1vdmVUb1BsYWluQnVua2VyIiwidW5kZWZpbmVkIiwiZm9yRWFjaCIsIm1hdGVyaWFsIiwiYXBpU3RyYXdUeXBlIiwicHVzaCIsInR5cGUiLCJkaXNwbGF5TmFtZSIsInJlY29yZElkIiwiaGFzRXhpc3RpbmdEYXRhIiwic3Vic3RhZ2VzIiwibWFwIiwicGxhaW5CdW5rZXJTdWJzdGFnZSIsInBhcnNlRGF0ZVRpbWUiLCJkYXRldGltZSIsImRhdGUiLCJ0aW1lIiwiaXNOYU4iLCJnZXRUaW1lIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJTdHJpbmciLCJnZXRNb250aCIsInBhZFN0YXJ0IiwiZGF5IiwiZ2V0RGF0ZSIsImhvdXJzIiwiZ2V0SG91cnMiLCJtaW51dGVzIiwiZ2V0TWludXRlcyIsImVycm9yIiwiY29uc29sZSIsImNhbGN1bGF0ZUhvdXJzIiwic3RhcnREYXRlVGltZSIsImVuZERhdGVUaW1lIiwic3RhcnQiLCJlbmQiLCJkaWZmSG91cnMiLCJ0b0ZpeGVkIiwiZmV0Y2hCYXRjaERhdGEiLCJsb2ciLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJzdGF0dXMiLCJzdWNjZXNzIiwiZGF0YSIsIkVycm9yIiwicmVzcG9uc2VEYXRhIiwianNvbiIsIml0ZW1zIiwiQXJyYXkiLCJpc0FycmF5IiwiYmF0Y2hfaWQiLCJtZXNzYWdlIiwiY29tYmluZURhdGVUaW1lIiwiZGF0ZVRpbWVTdHIiLCJ0b0lTT1N0cmluZyIsImhhc1N1YnN0YWdlRGF0YSIsInN1YnN0YWdlIiwidmFsaWRhdGVTdGFnZVNlcXVlbmNpbmciLCJ0b2FzdCIsImkiLCJsZW5ndGgiLCJjdXJyZW50U3RhZ2UiLCJuZXh0U3RhZ2UiLCJjdXJyZW50RW5kIiwibmV4dFN0YXJ0IiwiaGFzQ29tcGxldGVNYXRlcmlhbERhdGEiLCJpbmNsdWRlUGxhaW5CdW5rZXIiLCJoYXNNYWluRGF0YSIsInNvbWUiLCJwYiIsImhhc1BiRGF0YSIsInZhbGlkYXRlUGxhaW5CdW5rZXJEYXRhIiwiY29udmVydFRvQXBpUGF5bG9hZCIsImlzQ29tcGxldGVkIiwic29ha2luZyIsInNvYWtpbmdSZXN0IiwicmVzb2FraW5nT25lIiwicmVzb2FraW5nUmVzdCIsInJlc29ha2luZ1R3byIsInJlc29ha2luZ1R3b1Jlc3QiLCJwbGFpbkJ1bmtlciIsImZvcm1hdERhdGVUaW1lIiwic2Vjb25kcyIsImdldFNlY29uZHMiLCJzb2FraW5nX3N0YXJ0Iiwic29ha2luZ19lbmQiLCJzb2FraW5nX3Jlc3Rfc3RhcnQiLCJzb2FraW5nX3Jlc3RfZW5kIiwicmVzb2FraW5nX29uZV9zdGFydCIsInJlc29ha2luZ19vbmVfZW5kIiwicmVzb2FraW5nX3Jlc3Rfc3RhcnQiLCJyZXNvYWtpbmdfcmVzdF9lbmQiLCJyZXNvYWtpbmdfdHdvX3N0YXJ0IiwicmVzb2FraW5nX3R3b19lbmQiLCJyZXNvYWtpbmdfdHdvX3Jlc3Rfc3RhcnQiLCJyZXNvYWtpbmdfdHdvX3Jlc3RfZW5kIiwicGxhaW5fYnVua2VyX3N0YXJ0IiwicGxhaW5fYnVua2VyX2VuZCIsInBheWxvYWQiLCJzdHJhd190eXBlIiwic3RhcnRfdGltZSIsImVuZF90aW1lIiwiaXNjb21wbGV0ZWQiLCJzb2FraW5nX3Jlc3QiLCJyZXNvYWtpbmdfb25lIiwicmVzb2FraW5nX3Jlc3QiLCJyZXNvYWtpbmdfdHdvIiwicmVzb2FraW5nX3R3b19yZXN0IiwicGxhaW5fYnVua2VyIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsImhhc1ZhbGlkRmllbGQiLCJzdWJLZXkiLCJjb252ZXJ0QXBpUmVzcG9uc2VUb1VJIiwiYXBpRGF0YSIsIm1hdGVyaWFsRGF0YSIsImZpbmQiLCJkIiwic3Vic3RhZ2VNYXBwaW5nIiwibWFwcGluZyIsImluZGV4IiwiZHVyYXRpb25faG91cnMiLCJ0b1N0cmluZyIsInBiRGF0YSIsInNlbmRUb0FwaSIsIm1hdGVyaWFsVHlwZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsImVycm9yRGF0YSIsImNhdGNoIiwiZGV0YWlsIiwiZXJyb3JNZXNzYWdlIiwiZXJyIiwibXNnIiwiam9pbiIsInJlc3VsdCIsImdldEJhdGNoQnlJZCIsInVybCIsImdldEFsbEJhdGNoZXMiLCJ1cGRhdGVCYXRjaFN0YXR1cyIsInBsYWluQnVua2VyTWl4ZWQiLCJwbGFpbl9idW5rZXJfbWl4ZWQiLCJjcmVhdGVCYXRjaCIsIk1hdGVyaWFsVGFibGUiLCJtZW1vIiwib25VcGRhdGUiLCJzaG93UGxhaW5CdW5rZXIiLCJyZWFkT25seSIsInZhbGlkYXRlRGF0ZVJhbmdlIiwiZmllbGQiLCJuZXdWYWx1ZSIsImN1cnJlbnRTdWJzdGFnZSIsImlzUGxhaW5CdW5rZXIiLCJuZXdTdGFydERhdGVUaW1lIiwibmV3RW5kRGF0ZVRpbWUiLCJ2YWxpZGF0ZVN0YWdlU2VxdWVuY2UiLCJ2YWx1ZSIsInVwZGF0ZWRNYXRlcmlhbCIsInRlbXBTdWJzdGFnZSIsInN0YWdlSW5kZXgiLCJwcmV2U3RhZ2UiLCJwcmV2RW5kIiwiY3VycmVudFN0YXJ0IiwiZ2V0TWluRW5kRGF0ZSIsImdldE1pbkVuZFRpbWUiLCJoYW5kbGVJbnB1dENoYW5nZSIsImdldFRhYmxlVGl0bGUiLCJkaXYiLCJjbGFzc05hbWUiLCJoMyIsInRhYmxlIiwidGhlYWQiLCJ0ciIsInRoIiwicm93U3BhbiIsImNvbFNwYW4iLCJ0Ym9keSIsInRkIiwiaW5wdXQiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJkaXNhYmxlZCIsIm1heCIsIm1pbiIsInBsYWNlaG9sZGVyIiwiQmF0Y2hTZWxlY3Rpb24iLCJvblNlbGVjdEJhdGNoIiwibG9hZGluZyIsImluaXRpYWxCYXRjaE51bWJlciIsImluaXRpYWxCYXRjaElkIiwic2V0QmF0Y2hOdW1iZXIiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJyb3V0ZXIiLCJzZWFyY2hQYXJhbXMiLCJoYXNMb2FkZWRSZWYiLCJjdXJyZW50IiwiaGFuZGxlTG9hZEJhdGNoIiwiZ2V0TWF0ZXJpYWxzRnJvbUJhdGNoIiwiU2V0IiwiZm9ybXVsYXRpb25fZW50cmllcyIsImVudHJ5IiwibWF0ZXJpYWxOYW1lIiwidG9VcHBlckNhc2UiLCJhZGQiLCJmcm9tIiwiYmF0Y2hOdW0iLCJ0cmltIiwic2VsZWN0ZWRCYXRjaCIsImJhdGNoUmVzdWx0IiwiYWxsQmF0Y2hlc1Jlc3VsdCIsImJhdGNoZXMiLCJiIiwiYmF0Y2hfbnVtYmVyIiwibmV3QmF0Y2giLCJzdHJhd0RhdGFSZXN1bHQiLCJwb3B1bGF0ZWRCYXRjaCIsIndhcm5pbmciLCJoYW5kbGVDcmVhdGVOZXciLCJoYW5kbGVCYWNrQ2xpY2siLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJTb2FraW5nQ29udGVudCIsImN1cnJlbnRCYXRjaCIsInNldEN1cnJlbnRCYXRjaCIsInNhdmVkQmF0Y2hlcyIsInNldFNhdmVkQmF0Y2hlcyIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInNldEluaXRpYWxCYXRjaE51bWJlciIsInNldEluaXRpYWxCYXRjaElkIiwiaXNTYXZpbmdSZWYiLCJnZXQiLCJoYW5kbGVTZWxlY3RCYXRjaCIsImhhbmRsZVVwZGF0ZU1hdGVyaWFsIiwicHJldkJhdGNoIiwidXBkYXRlZE1hdGVyaWFscyIsImhhbmRsZU1vdmVUb1BsYWluQnVua2VyQ2hhbmdlIiwidmFsaWRhdGVCYXRjaERhdGEiLCJ2YWxpZGF0ZU1vdmVUb1BsYWluQnVua2VyIiwiaGFuZGxlU2F2ZSIsInJlc3VsdHMiLCJoYXNBbnlEYXRhVG9TYXZlIiwic3VjY2Vzc0NvdW50IiwiZmFpbENvdW50IiwibWF0ZXJpYWxJbmRleCIsImluZm8iLCJleGlzdGluZ0luZGV4IiwiZmluZEluZGV4IiwidXBkYXRlZCIsImFsbFN1Y2Nlc3MiLCJldmVyeSIsInIiLCJzZXRUaW1lb3V0IiwiaGFuZGxlTW92ZVRvUGxhaW5CdW5rZXIiLCJoYXNEYXRhIiwicGxhaW5CdW5rZXJTdGF0dXMiLCJiYXRjaFVwZGF0ZVJlc3VsdCIsImhhbmRsZUJhY2tUb1NlbGVjdGlvbiIsInRpdGxlIiwic3BhbiIsImxhYmVsIiwiaHRtbEZvciIsInNlbGVjdCIsIm9wdGlvbiIsImZvbnRTaXplIiwiU29ha2luZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(pages)/soaking/page.jsx\n"));

/***/ })

});