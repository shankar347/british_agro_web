"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(pages)/soaking/page",{

/***/ "(app-pages-browser)/./app/(pages)/soaking/page.jsx":
/*!**************************************!*\
  !*** ./app/(pages)/soaking/page.jsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Soaking)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/AppLayout */ \"(app-pages-browser)/./app/components/AppLayout.jsx\");\n/* harmony import */ var _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/common/Toaster */ \"(app-pages-browser)/./app/components/common/Toaster.jsx\");\n/* harmony import */ var _styles_pages_soaking_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../styles/pages/soaking.css */ \"(app-pages-browser)/./app/styles/pages/soaking.css\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/Save */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_ArrowForward__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/icons-material/ArrowForward */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowForward.js\");\n/* harmony import */ var _mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/ArrowBack */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowBack.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst MATERIAL_TYPES = {\n    'BAGASSE': 'BAGASSE',\n    'WHEAT STRAW': 'WHEAT',\n    'PADDY STRAW': 'PADDY'\n};\nconst MATERIAL_DISPLAY_NAMES = {\n    'BAGASSE': 'Bagasse',\n    'WHEAT': 'Wheat Straw',\n    'PADDY': 'Paddy Straw'\n};\nconst API_BASE_URL = \"http://192.168.1.148:8000\";\nconst API_ENDPOINT = \"\".concat(API_BASE_URL, \"/straw-preparation-log\");\nconst API_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/straw-preparation-log/straws\");\nconst BATCH_UPDATE_ENDPOINT = \"\".concat(API_BASE_URL, \"/batches\");\nconst STAGE_NAMES = [\n    \"Soaking\",\n    \"Soaking Rest\",\n    \"Re Soaking 1\",\n    \"Re Soaking 1 Rest\",\n    \"Re Soaking 2\",\n    \"Re Soaking 2 Rest\"\n];\nconst PLAIN_BUNKER_STAGE = \"Plain Bunker\";\nconst createEmptySubstage = (name)=>({\n        name: name,\n        startDate: '',\n        startTime: '',\n        endDate: '',\n        endTime: '',\n        totalHours: '',\n        remarks: ''\n    });\nconst createEmptyBatch = function(batchNumber) {\n    let materials = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], batchId = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n    const batch = {\n        id: batchId || Date.now(),\n        batchNumber: batchNumber,\n        materials: [],\n        batchData: null,\n        existingRecords: {},\n        moveToPlainBunker: undefined\n    };\n    materials.forEach((material)=>{\n        const apiStrawType = MATERIAL_TYPES[material];\n        if (apiStrawType !== undefined) {\n            batch.materials.push({\n                type: apiStrawType,\n                name: material,\n                displayName: MATERIAL_DISPLAY_NAMES[apiStrawType] || material,\n                recordId: null,\n                hasExistingData: false,\n                substages: STAGE_NAMES.map((name)=>createEmptySubstage(name)),\n                plainBunkerSubstage: createEmptySubstage(PLAIN_BUNKER_STAGE)\n            });\n        }\n    });\n    return batch;\n};\nconst parseDateTime = (datetime)=>{\n    if (!datetime) return {\n        date: '',\n        time: ''\n    };\n    try {\n        const date = new Date(datetime);\n        if (isNaN(date.getTime())) return {\n            date: '',\n            time: ''\n        };\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        const hours = String(date.getHours()).padStart(2, '0');\n        const minutes = String(date.getMinutes()).padStart(2, '0');\n        return {\n            date: \"\".concat(year, \"-\").concat(month, \"-\").concat(day),\n            time: \"\".concat(hours, \":\").concat(minutes)\n        };\n    } catch (error) {\n        console.error('Error parsing datetime:', error);\n        return {\n            date: '',\n            time: ''\n        };\n    }\n};\nconst calculateHours = (startDateTime, endDateTime)=>{\n    if (!startDateTime || !endDateTime) return '';\n    try {\n        const start = new Date(startDateTime);\n        const end = new Date(endDateTime);\n        if (isNaN(start.getTime()) || isNaN(end.getTime())) return '';\n        const diffHours = (end - start) / (1000 * 60 * 60);\n        return diffHours.toFixed(1);\n    } catch (error) {\n        return '';\n    }\n};\nconst fetchBatchData = async (batchId)=>{\n    try {\n        const response = await fetch(\"\".concat(API_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            if (response.status === 404) {\n                return {\n                    success: true,\n                    data: null\n                };\n            }\n            throw new Error(\"Failed to fetch batch data: \".concat(response.status));\n        }\n        const responseData = await response.json();\n        if (responseData.success && responseData.data && responseData.data.items) {\n            return {\n                success: true,\n                data: responseData.data.items\n            };\n        }\n        if (responseData.data && Array.isArray(responseData.data)) {\n            return {\n                success: true,\n                data: responseData.data\n            };\n        }\n        if (Array.isArray(responseData)) {\n            return {\n                success: true,\n                data: responseData\n            };\n        }\n        if (responseData.id || responseData.batch_id) {\n            return {\n                success: true,\n                data: [\n                    responseData\n                ]\n            };\n        }\n        return {\n            success: true,\n            data: null\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching batch data:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst combineDateTime = (date, time)=>{\n    if (!date || !time) return null;\n    try {\n        const dateTimeStr = \"\".concat(date, \"T\").concat(time, \":00\");\n        const datetime = new Date(dateTimeStr);\n        if (isNaN(datetime.getTime())) return null;\n        return datetime.toISOString();\n    } catch (error) {\n        console.error('Error combining datetime:', error);\n        return null;\n    }\n};\nconst hasSubstageData = (substage)=>{\n    return substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.remarks;\n};\nconst validateStageSequencing = (material, toast)=>{\n    for(let i = 0; i < material.substages.length - 1; i++){\n        const currentStage = material.substages[i];\n        const nextStage = material.substages[i + 1];\n        if (!currentStage.endDate || !currentStage.endTime || !nextStage.startDate || !nextStage.startTime) {\n            continue;\n        }\n        const currentEnd = combineDateTime(currentStage.endDate, currentStage.endTime);\n        const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n        if (currentEnd && nextStart) {\n            if (new Date(currentEnd) > new Date(nextStart)) {\n                toast.error(\"\".concat(material.displayName, \": \").concat(nextStage.name, \" must start after \").concat(currentStage.name, \" ends\"));\n                return false;\n            }\n        }\n    }\n    return true;\n};\nconst hasCompleteMaterialData = function(material) {\n    let includePlainBunker = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    const hasMainData = material.substages.some((substage)=>substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.remarks);\n    if (!hasMainData && !includePlainBunker) {\n        return false;\n    }\n    // Check main substages for completeness\n    for (const substage of material.substages){\n        if (substage.startDate && !substage.startTime) {\n            return false;\n        }\n        if (substage.startTime && !substage.startDate) {\n            return false;\n        }\n        if (substage.endDate && !substage.endTime) {\n            return false;\n        }\n        if (substage.endTime && !substage.endDate) {\n            return false;\n        }\n    }\n    if (includePlainBunker && material.plainBunkerSubstage) {\n        const pb = material.plainBunkerSubstage;\n        const hasPbData = pb.startDate || pb.startTime || pb.endDate || pb.endTime || pb.remarks;\n        if (hasPbData) {\n            if (pb.startDate && !pb.startTime) return false;\n            if (pb.startTime && !pb.startDate) return false;\n            if (pb.endDate && !pb.endTime) return false;\n            if (pb.endTime && !pb.endDate) return false;\n            if (pb.startDate && pb.startTime && pb.endDate && pb.endTime) {\n                const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n                const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n                if (startDateTime > endDateTime) return false;\n            }\n        }\n    }\n    return true;\n};\nconst validatePlainBunkerData = (material)=>{\n    const pb = material.plainBunkerSubstage;\n    if (!pb) return true;\n    const hasPbData = pb.startDate || pb.startTime || pb.endDate || pb.endTime;\n    if (hasPbData) {\n        if (pb.startDate && !pb.startTime) return false;\n        if (pb.startTime && !pb.startDate) return false;\n        if (pb.endDate && !pb.endTime) return false;\n        if (pb.endTime && !pb.endDate) return false;\n        if (pb.startDate && pb.startTime && pb.endDate && pb.endTime) {\n            const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n            const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n            if (startDateTime > endDateTime) return false;\n        }\n    }\n    return true;\n};\nconst convertToApiPayload = (batch, material, isCompleted)=>{\n    if (!material) return null;\n    const soaking = material.substages[0] || createEmptySubstage(\"Soaking\");\n    const soakingRest = material.substages[1] || createEmptySubstage(\"Soaking Rest\");\n    const resoakingOne = material.substages[2] || createEmptySubstage(\"Re Soaking 1\");\n    const resoakingRest = material.substages[3] || createEmptySubstage(\"Re Soaking 1 Rest\");\n    const resoakingTwo = material.substages[4] || createEmptySubstage(\"Re Soaking 2\");\n    const resoakingTwoRest = material.substages[5] || createEmptySubstage(\"Re Soaking 2 Rest\");\n    const plainBunker = material.plainBunkerSubstage || createEmptySubstage(\"Plain Bunker\");\n    const formatDateTime = (dateTimeStr)=>{\n        if (!dateTimeStr) return null;\n        try {\n            const date = new Date(dateTimeStr);\n            if (isNaN(date.getTime())) return null;\n            const year = date.getFullYear();\n            const month = String(date.getMonth() + 1).padStart(2, '0');\n            const day = String(date.getDate()).padStart(2, '0');\n            const hours = String(date.getHours()).padStart(2, '0');\n            const minutes = String(date.getMinutes()).padStart(2, '0');\n            const seconds = String(date.getSeconds()).padStart(2, '0');\n            return \"\".concat(year, \"-\").concat(month, \"-\").concat(day, \"T\").concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n        } catch (error) {\n            console.error('Error formatting datetime:', error);\n            return null;\n        }\n    };\n    const soaking_start = soaking.startDate && soaking.startTime ? combineDateTime(soaking.startDate, soaking.startTime) : null;\n    const soaking_end = soaking.endDate && soaking.endTime ? combineDateTime(soaking.endDate, soaking.endTime) : null;\n    const soaking_rest_start = soakingRest.startDate && soakingRest.startTime ? combineDateTime(soakingRest.startDate, soakingRest.startTime) : null;\n    const soaking_rest_end = soakingRest.endDate && soakingRest.endTime ? combineDateTime(soakingRest.endDate, soakingRest.endTime) : null;\n    const resoaking_one_start = resoakingOne.startDate && resoakingOne.startTime ? combineDateTime(resoakingOne.startDate, resoakingOne.startTime) : null;\n    const resoaking_one_end = resoakingOne.endDate && resoakingOne.endTime ? combineDateTime(resoakingOne.endDate, resoakingOne.endTime) : null;\n    const resoaking_rest_start = resoakingRest.startDate && resoakingRest.startTime ? combineDateTime(resoakingRest.startDate, resoakingRest.startTime) : null;\n    const resoaking_rest_end = resoakingRest.endDate && resoakingRest.endTime ? combineDateTime(resoakingRest.endDate, resoakingRest.endTime) : null;\n    const resoaking_two_start = resoakingTwo.startDate && resoakingTwo.startTime ? combineDateTime(resoakingTwo.startDate, resoakingTwo.startTime) : null;\n    const resoaking_two_end = resoakingTwo.endDate && resoakingTwo.endTime ? combineDateTime(resoakingTwo.endDate, resoakingTwo.endTime) : null;\n    const resoaking_two_rest_start = resoakingTwoRest.startDate && resoakingTwoRest.startTime ? combineDateTime(resoakingTwoRest.startDate, resoakingTwoRest.startTime) : null;\n    const resoaking_two_rest_end = resoakingTwoRest.endDate && resoakingTwoRest.endTime ? combineDateTime(resoakingTwoRest.endDate, resoakingTwoRest.endTime) : null;\n    const plain_bunker_start = plainBunker.startDate && plainBunker.startTime ? combineDateTime(plainBunker.startDate, plainBunker.startTime) : null;\n    const plain_bunker_end = plainBunker.endDate && plainBunker.endTime ? combineDateTime(plainBunker.endDate, plainBunker.endTime) : null;\n    const apiStrawType = material.type;\n    const payload = {\n        batch_id: batch.id,\n        straw_type: apiStrawType,\n        start_time: formatDateTime(soaking_start),\n        end_time: formatDateTime(resoaking_two_rest_end || plain_bunker_end),\n        iscompleted: isCompleted,\n        soaking: {\n            start_time: formatDateTime(soaking_start),\n            end_time: formatDateTime(soaking_end)\n        },\n        soaking_rest: {\n            start_time: formatDateTime(soaking_rest_start),\n            end_time: formatDateTime(soaking_rest_end)\n        },\n        resoaking_one: {\n            start_time: formatDateTime(resoaking_one_start),\n            end_time: formatDateTime(resoaking_one_end)\n        },\n        resoaking_rest: {\n            start_time: formatDateTime(resoaking_rest_start),\n            end_time: formatDateTime(resoaking_rest_end)\n        },\n        resoaking_two: {\n            start_time: formatDateTime(resoaking_two_start),\n            end_time: formatDateTime(resoaking_two_end)\n        },\n        resoaking_two_rest: {\n            start_time: formatDateTime(resoaking_two_rest_start),\n            end_time: formatDateTime(resoaking_two_rest_end)\n        },\n        plain_bunker: {\n            start_time: formatDateTime(plain_bunker_start),\n            end_time: formatDateTime(plain_bunker_end)\n        }\n    };\n    Object.keys(payload).forEach((key)=>{\n        if (payload[key] === null) {\n            delete payload[key];\n        } else if (typeof payload[key] === 'object' && payload[key] !== null && key !== 'batch_id' && key !== 'straw_type' && key !== 'iscompleted') {\n            let hasValidField = false;\n            Object.keys(payload[key]).forEach((subKey)=>{\n                if (payload[key][subKey] === null) {\n                    delete payload[key][subKey];\n                } else {\n                    hasValidField = true;\n                }\n            });\n            if (!hasValidField) {\n                delete payload[key];\n            }\n        }\n    });\n    return payload;\n};\nconst convertApiResponseToUI = (apiData, batch)=>{\n    if (!apiData || !Array.isArray(apiData)) {\n        return batch;\n    }\n    batch.materials.forEach((material)=>{\n        const materialData = apiData.find((d)=>d.straw_type && d.straw_type === material.type);\n        if (!materialData) {\n            return;\n        }\n        if (materialData.id) {\n            material.recordId = materialData.id;\n            material.hasExistingData = true;\n        }\n        const substageMapping = [\n            {\n                name: \"Soaking\",\n                data: materialData.soaking\n            },\n            {\n                name: \"Soaking Rest\",\n                data: materialData.soaking_rest\n            },\n            {\n                name: \"Re Soaking 1\",\n                data: materialData.resoaking_one\n            },\n            {\n                name: \"Re Soaking 1 Rest\",\n                data: materialData.resoaking_rest\n            },\n            {\n                name: \"Re Soaking 2\",\n                data: materialData.resoaking_two\n            },\n            {\n                name: \"Re Soaking 2 Rest\",\n                data: materialData.resoaking_two_rest\n            }\n        ];\n        substageMapping.forEach((mapping, index)=>{\n            if (mapping.data) {\n                if (mapping.data.start_time) {\n                    const { date: startDate, time: startTime } = parseDateTime(mapping.data.start_time);\n                    material.substages[index].startDate = startDate;\n                    material.substages[index].startTime = startTime;\n                }\n                if (mapping.data.end_time) {\n                    const { date: endDate, time: endTime } = parseDateTime(mapping.data.end_time);\n                    material.substages[index].endDate = endDate;\n                    material.substages[index].endTime = endTime;\n                }\n                if (mapping.data.duration_hours !== undefined && mapping.data.duration_hours !== null) {\n                    material.substages[index].totalHours = mapping.data.duration_hours.toString();\n                }\n                if (mapping.data.remarks) {\n                    material.substages[index].remarks = mapping.data.remarks;\n                }\n            } else {}\n        });\n        if (materialData.plain_bunker) {\n            const pbData = materialData.plain_bunker;\n            if (pbData.start_time) {\n                const { date: startDate, time: startTime } = parseDateTime(pbData.start_time);\n                material.plainBunkerSubstage.startDate = startDate;\n                material.plainBunkerSubstage.startTime = startTime;\n            }\n            if (pbData.end_time) {\n                const { date: endDate, time: endTime } = parseDateTime(pbData.end_time);\n                material.plainBunkerSubstage.endDate = endDate;\n                material.plainBunkerSubstage.endTime = endTime;\n            }\n            if (pbData.duration_hours !== undefined && pbData.duration_hours !== null) {\n                material.plainBunkerSubstage.totalHours = pbData.duration_hours.toString();\n            }\n            if (pbData.remarks) {\n                material.plainBunkerSubstage.remarks = pbData.remarks;\n            }\n        }\n    });\n    return batch;\n};\nconst sendToApi = async (payload, materialType, displayName)=>{\n    try {\n        const response = await fetch(API_ENDPOINT, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error(' API Error Response:', errorData);\n            let errorMessage = \"API error: \".concat(response.status);\n            if (errorData.detail) {\n                if (typeof errorData.detail === 'string') {\n                    errorMessage = errorData.detail;\n                } else if (Array.isArray(errorData.detail)) {\n                    errorMessage = errorData.detail.map((err)=>err.msg).join(', ');\n                } else if (typeof errorData.detail === 'object') {\n                    errorMessage = JSON.stringify(errorData.detail);\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        return {\n            success: true,\n            data: result,\n            materialType,\n            displayName\n        };\n    } catch (error) {\n        console.error(\" ERROR sending \".concat(displayName, \" data:\"), error);\n        return {\n            success: false,\n            error: error.message,\n            materialType,\n            displayName\n        };\n    }\n};\nconst updateBatchPlainBunkerStatus = async (batchId, status)=>{\n    try {\n        const url = \"\".concat(BATCH_UPDATE_ENDPOINT, \"/\").concat(batchId);\n        const response = await fetch(url, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                plain_bunker_mixed: status\n            })\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error(' API Error Response:', errorData);\n            throw new Error(\"Failed to update batch status: \".concat(response.status));\n        }\n        const result = await response.json();\n        return {\n            success: true,\n            data: result\n        };\n    } catch (error) {\n        console.error(' Error updating batch status:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst MaterialTable = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(_s((param)=>{\n    let { material, onUpdate, showPlainBunker = false, readOnly = false } = param;\n    var _material_plainBunkerSubstage, _material_plainBunkerSubstage1, _material_plainBunkerSubstage2, _material_plainBunkerSubstage3, _material_plainBunkerSubstage4, _material_plainBunkerSubstage5, _material_plainBunkerSubstage6, _material_plainBunkerSubstage7, _material_plainBunkerSubstage8, _material_plainBunkerSubstage9;\n    _s();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const validateDateRange = function(substage, field, newValue, currentSubstage) {\n        let isPlainBunker = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n        if (field === 'startDate' || field === 'startTime') {\n            if (substage.endDate && substage.endTime) {\n                const newStartDateTime = field === 'startDate' ? combineDateTime(newValue, substage.startTime) : combineDateTime(substage.startDate, newValue);\n                const endDateTime = combineDateTime(substage.endDate, substage.endTime);\n                if (newStartDateTime && endDateTime && new Date(newStartDateTime) > new Date(endDateTime)) {\n                    toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": Start date/time cannot be after end date/time\"));\n                    return false;\n                }\n            }\n        } else if (field === 'endDate' || field === 'endTime') {\n            if (substage.startDate && substage.startTime) {\n                const startDateTime = combineDateTime(substage.startDate, substage.startTime);\n                const newEndDateTime = field === 'endDate' ? combineDateTime(newValue, substage.endTime) : combineDateTime(substage.endDate, newValue);\n                if (startDateTime && newEndDateTime && new Date(startDateTime) > new Date(newEndDateTime)) {\n                    toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": End date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const validateStageSequence = function(index, field, value, updatedMaterial) {\n        let isPlainBunker = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n        if (isPlainBunker) return true;\n        const substage = updatedMaterial.substages[index];\n        const tempSubstage = {\n            ...substage,\n            [field]: value\n        };\n        const stageIndex = index;\n        if (stageIndex > 0) {\n            const prevStage = updatedMaterial.substages[stageIndex - 1];\n            if (prevStage.endDate && prevStage.endTime && tempSubstage.startDate && tempSubstage.startTime) {\n                const prevEnd = combineDateTime(prevStage.endDate, prevStage.endTime);\n                const currentStart = combineDateTime(tempSubstage.startDate, tempSubstage.startTime);\n                if (prevEnd && currentStart && new Date(prevEnd) > new Date(currentStart)) {\n                    toast.error(\"\".concat(material.displayName, \": \").concat(tempSubstage.name, \" must start after \").concat(prevStage.name, \" ends\"));\n                    return false;\n                }\n            }\n        }\n        if (stageIndex < updatedMaterial.substages.length - 1) {\n            const nextStage = updatedMaterial.substages[stageIndex + 1];\n            if (tempSubstage.endDate && tempSubstage.endTime && nextStage.startDate && nextStage.startTime) {\n                const currentEnd = combineDateTime(tempSubstage.endDate, tempSubstage.endTime);\n                const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n                if (currentEnd && nextStart && new Date(currentEnd) > new Date(nextStart)) {\n                    toast.error(\"\".concat(material.displayName, \": \").concat(nextStage.name, \" must start after \").concat(tempSubstage.name, \" ends\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const getMinEndDate = (substage)=>{\n        if (substage.startDate) {\n            return substage.startDate;\n        }\n        return undefined;\n    };\n    const getMinEndTime = (substage)=>{\n        if (substage.startDate === substage.endDate && substage.startTime) {\n            return substage.startTime;\n        }\n        return undefined;\n    };\n    const handleInputChange = function(index, field, value) {\n        let isPlainBunker = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;\n        if (readOnly) return;\n        const updatedMaterial = {\n            ...material\n        };\n        if (isPlainBunker) {\n            const substage = updatedMaterial.plainBunkerSubstage;\n            if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n                if (!validateDateRange(substage, field, value, substage, true)) {\n                    return;\n                }\n            }\n            substage[field] = value;\n            if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n                substage.totalHours = diffHours.toFixed(1);\n            }\n        } else {\n            const substage = updatedMaterial.substages[index];\n            if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n                if (!validateDateRange(substage, field, value, substage)) {\n                    return;\n                }\n            }\n            substage[field] = value;\n            if (!validateStageSequence(index, field, value, updatedMaterial)) {\n                return;\n            }\n            if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n                substage.totalHours = diffHours.toFixed(1);\n            }\n        }\n        onUpdate(updatedMaterial);\n    };\n    const getTableTitle = ()=>{\n        return \"\".concat(material.displayName, \" Soaking Process\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"table-section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"table-title\",\n                children: getTableTitle()\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 691,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"entry-table-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                    className: \"entry-table\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Substage\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 696,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"Start\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 697,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"End\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 698,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Total Hours\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 699,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Remarks\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 700,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 695,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 703,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 704,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 705,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 706,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 702,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 694,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                            children: [\n                                material.substages.map((substage, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                className: \"substage-name\",\n                                                children: substage.name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 712,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"date\",\n                                                    value: substage.startDate || '',\n                                                    onChange: (e)=>handleInputChange(index, 'startDate', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    max: substage.endDate || undefined\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 714,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 713,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"time\",\n                                                    value: substage.startTime || '',\n                                                    onChange: (e)=>handleInputChange(index, 'startTime', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    max: substage.startDate === substage.endDate ? substage.endTime : undefined\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 724,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 723,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"date\",\n                                                    value: substage.endDate || '',\n                                                    onChange: (e)=>handleInputChange(index, 'endDate', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    min: getMinEndDate(substage)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 734,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 733,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"time\",\n                                                    value: substage.endTime || '',\n                                                    onChange: (e)=>handleInputChange(index, 'endTime', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    min: getMinEndTime(substage)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 744,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 743,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: substage.totalHours || '',\n                                                    readOnly: true,\n                                                    className: \"table-input\",\n                                                    placeholder: \"Auto-calc\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 754,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 753,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: substage.remarks || '',\n                                                    onChange: (e)=>handleInputChange(index, 'remarks', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    placeholder: \"Add remarks...\",\n                                                    disabled: readOnly\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 763,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 762,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                        lineNumber: 711,\n                                        columnNumber: 15\n                                    }, undefined)),\n                                showPlainBunker && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    className: \"plain-bunker-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"substage-name plain-bunker\",\n                                            children: \"Plain Bunker\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 776,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: ((_material_plainBunkerSubstage = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage === void 0 ? void 0 : _material_plainBunkerSubstage.startDate) || '',\n                                                onChange: (e)=>handleInputChange(null, 'startDate', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: ((_material_plainBunkerSubstage1 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage1 === void 0 ? void 0 : _material_plainBunkerSubstage1.endDate) || undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 778,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 777,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: ((_material_plainBunkerSubstage2 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage2 === void 0 ? void 0 : _material_plainBunkerSubstage2.startTime) || '',\n                                                onChange: (e)=>handleInputChange(null, 'startTime', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: ((_material_plainBunkerSubstage3 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage3 === void 0 ? void 0 : _material_plainBunkerSubstage3.startDate) === ((_material_plainBunkerSubstage4 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage4 === void 0 ? void 0 : _material_plainBunkerSubstage4.endDate) ? (_material_plainBunkerSubstage5 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage5 === void 0 ? void 0 : _material_plainBunkerSubstage5.endTime : undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 788,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 787,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: ((_material_plainBunkerSubstage6 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage6 === void 0 ? void 0 : _material_plainBunkerSubstage6.endDate) || '',\n                                                onChange: (e)=>handleInputChange(null, 'endDate', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndDate(material.plainBunkerSubstage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 798,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 797,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: ((_material_plainBunkerSubstage7 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage7 === void 0 ? void 0 : _material_plainBunkerSubstage7.endTime) || '',\n                                                onChange: (e)=>handleInputChange(null, 'endTime', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndTime(material.plainBunkerSubstage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 808,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 807,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: ((_material_plainBunkerSubstage8 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage8 === void 0 ? void 0 : _material_plainBunkerSubstage8.totalHours) || '',\n                                                readOnly: true,\n                                                className: \"table-input\",\n                                                placeholder: \"Auto-calc\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 818,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 817,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: ((_material_plainBunkerSubstage9 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage9 === void 0 ? void 0 : _material_plainBunkerSubstage9.remarks) || '',\n                                                onChange: (e)=>handleInputChange(null, 'remarks', e.target.value, true),\n                                                className: \"table-input\",\n                                                placeholder: \"Add remarks...\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 827,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 826,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 775,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 709,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 693,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 692,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 690,\n        columnNumber: 5\n    }, undefined);\n}, \"WUU7e0p6AiTpvVrXhi50JBdcu+0=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast\n    ];\n}));\n_c = MaterialTable;\nMaterialTable.displayName = 'MaterialTable';\nfunction BatchSelection(param) {\n    let { onSelectBatch, loading, error, initialBatchNumber, initialBatchId } = param;\n    _s1();\n    const [batchNumber, setBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBatchNumber || '');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const hasLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BatchSelection.useEffect\": ()=>{\n            if (initialBatchNumber && !hasLoadedRef.current && !loading) {\n                setBatchNumber(initialBatchNumber);\n                handleLoadBatch(initialBatchNumber, initialBatchId);\n                hasLoadedRef.current = true;\n            }\n        }\n    }[\"BatchSelection.useEffect\"], [\n        initialBatchNumber,\n        initialBatchId,\n        loading\n    ]);\n    const getMaterialsFromBatch = (batchData)=>{\n        const materials = new Set();\n        if (batchData && batchData.formulation_entries) {\n            batchData.formulation_entries.forEach((entry)=>{\n                const materialName = entry.name.toUpperCase();\n                if (MATERIAL_TYPES[materialName] !== undefined) {\n                    materials.add(materialName);\n                }\n            });\n        }\n        return Array.from(materials);\n    };\n    const handleLoadBatch = async (batchNum, batchId)=>{\n        if (!batchNum.trim()) {\n            toast.error('Please enter a batch number');\n            return;\n        }\n        setIsLoading(true);\n        try {\n            let selectedBatch = null;\n            let batchIdToUse = batchId;\n            if (batchIdToUse) {\n                const batchResponse = await fetch(\"\".concat(API_BASE_URL, \"/batches\"));\n                if (!batchResponse.ok) {\n                    throw new Error('Failed to fetch batches');\n                }\n                const batchResult = await batchResponse.json();\n                let batches = [];\n                if (Array.isArray(batchResult)) {\n                    batches = batchResult;\n                } else if (batchResult.success) {\n                    batches = batchResult.data;\n                }\n                selectedBatch = batches.find((b)=>b.id === batchIdToUse);\n                if (!selectedBatch) {\n                    selectedBatch = batches.find((b)=>b.batch_number === batchNum.trim());\n                }\n            } else {\n                const batchResponse = await fetch(\"\".concat(API_BASE_URL, \"/batches\"));\n                if (!batchResponse.ok) {\n                    throw new Error('Failed to fetch batches');\n                }\n                const batchResult = await batchResponse.json();\n                let batches = [];\n                if (Array.isArray(batchResult)) {\n                    batches = batchResult;\n                } else if (batchResult.success) {\n                    batches = batchResult.data;\n                }\n                selectedBatch = batches.find((b)=>b.batch_number === batchNum.trim());\n            }\n            if (!selectedBatch) {\n                toast.error('Batch number not found');\n                setIsLoading(false);\n                return;\n            }\n            const materials = getMaterialsFromBatch(selectedBatch);\n            if (materials.length === 0) {\n                toast.error('No suitable materials (Bagasse, Wheat Straw, or Paddy Straw) found in this batch');\n                setIsLoading(false);\n                return;\n            }\n            const newBatch = createEmptyBatch(batchNum, materials, selectedBatch.id);\n            newBatch.batchData = selectedBatch;\n            const strawDataResult = await fetchBatchData(selectedBatch.id);\n            if (strawDataResult.success && strawDataResult.data) {\n                const populatedBatch = convertApiResponseToUI(strawDataResult.data, newBatch);\n                onSelectBatch(populatedBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" with existing data (\").concat(materials.length, \" material table\").concat(materials.length > 1 ? 's' : '', \")\"));\n            } else if (strawDataResult.success && !strawDataResult.data) {\n                onSelectBatch(newBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" (\").concat(materials.length, \" material table\").concat(materials.length > 1 ? 's' : '', \" - no existing data)\"));\n            } else {\n                toast.warning(\"Loaded batch \".concat(batchNum, \" but failed to fetch existing data\"));\n                onSelectBatch(newBatch);\n            }\n        } catch (err) {\n            toast.error('Error loading batch details. Please try again.');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleCreateNew = ()=>{\n        if (isLoading || loading) return;\n        handleLoadBatch(batchNumber);\n    };\n    const handleBackClick = ()=>{\n        router.push('/soaking');\n        setBatchNumber('');\n        hasLoadedRef.current = false;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"batch-selection\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Soaking Process Entry\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 984,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 987,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"selection-panel\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"new-batch-section\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Enter Batch Number\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 994,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"batch-input-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    placeholder: \"Enter Batch Number (e.g., BATCH-001)\",\n                                    value: batchNumber,\n                                    onChange: (e)=>setBatchNumber(e.target.value),\n                                    className: \"batch-input\",\n                                    disabled: isLoading || loading\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 996,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCreateNew,\n                                    className: \"btn-primary\",\n                                    disabled: isLoading || loading,\n                                    children: isLoading || loading ? 'Loading...' : 'Load Batch'\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1004,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 995,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 993,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 992,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 983,\n        columnNumber: 5\n    }, this);\n}\n_s1(BatchSelection, \"bSsv6SxcH5WNCl5iqtC1T5kE3FA=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c1 = BatchSelection;\nfunction SoakingContent() {\n    _s2();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [currentBatch, setCurrentBatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [savedBatches, setSavedBatches] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchNumber, setInitialBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchId, setInitialBatchId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isSavingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SoakingContent.useEffect\": ()=>{\n            const batchNum = searchParams.get('batch');\n            const batchId = searchParams.get('batchId');\n            if (batchNum) {\n                setInitialBatchNumber(batchNum);\n                setInitialBatchId(batchId);\n            }\n        }\n    }[\"SoakingContent.useEffect\"], [\n        searchParams\n    ]);\n    const handleSelectBatch = (batch)=>{\n        setCurrentBatch(batch);\n    };\n    const handleUpdateMaterial = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"SoakingContent.useCallback[handleUpdateMaterial]\": (index, updatedMaterial)=>{\n            setCurrentBatch({\n                \"SoakingContent.useCallback[handleUpdateMaterial]\": (prevBatch)=>{\n                    if (!prevBatch) return prevBatch;\n                    const updatedMaterials = [\n                        ...prevBatch.materials\n                    ];\n                    updatedMaterials[index] = updatedMaterial;\n                    return {\n                        ...prevBatch,\n                        materials: updatedMaterials\n                    };\n                }\n            }[\"SoakingContent.useCallback[handleUpdateMaterial]\"]);\n        }\n    }[\"SoakingContent.useCallback[handleUpdateMaterial]\"], []);\n    const handleMoveToPlainBunkerChange = (value)=>{\n        setCurrentBatch((prevBatch)=>({\n                ...prevBatch,\n                moveToPlainBunker: value === 'yes'\n            }));\n    };\n    const validateBatchData = function(batch) {\n        let includePlainBunker = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        for (const material of batch.materials){\n            for (const substage of material.substages){\n                if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                    const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                    const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                    if (startDateTime > endDateTime) {\n                        toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": End date/time cannot be before start date/time\"));\n                        return false;\n                    }\n                }\n                if ((substage.startDate || substage.startTime) && (!substage.startDate || !substage.startTime)) {\n                    toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - \").concat(substage.name, \" start\"));\n                    return false;\n                }\n                if ((substage.endDate || substage.endTime) && (!substage.endDate || !substage.endTime)) {\n                    toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - \").concat(substage.name, \" end\"));\n                    return false;\n                }\n            }\n            if (!validateStageSequencing(material, toast)) {\n                return false;\n            }\n            if (includePlainBunker && material.plainBunkerSubstage) {\n                const pb = material.plainBunkerSubstage;\n                const hasPbData = pb.startDate || pb.startTime || pb.endDate || pb.endTime;\n                if (hasPbData) {\n                    if (pb.startDate && !pb.startTime || pb.startTime && !pb.startDate) {\n                        toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - Plain Bunker start\"));\n                        return false;\n                    }\n                    if (pb.endDate && !pb.endTime || pb.endTime && !pb.endDate) {\n                        toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - Plain Bunker end\"));\n                        return false;\n                    }\n                    if (pb.startDate && pb.startTime && pb.endDate && pb.endTime) {\n                        const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n                        const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n                        if (startDateTime > endDateTime) {\n                            toast.error(\"\".concat(material.displayName, \" - Plain Bunker: End date/time cannot be before start date/time\"));\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    const validateMoveToPlainBunker = (batch)=>{\n        if (batch.moveToPlainBunker === false) {\n            for (const material of batch.materials){\n                const pb = material.plainBunkerSubstage;\n                if (!pb.startDate) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker row is required when selecting \"No\"'));\n                    return false;\n                }\n                if (!pb.startTime) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker start time is required when selecting \"No\"'));\n                    return false;\n                }\n                if (!pb.endDate) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker end date is required when selecting \"No\"'));\n                    return false;\n                }\n                if (!pb.endTime) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker end time is required when selecting \"No\"'));\n                    return false;\n                }\n                const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n                const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n                if (startDateTime > endDateTime) {\n                    toast.error(\"\".concat(material.displayName, \": Plain Bunker end date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const handleSave = async ()=>{\n        if (!currentBatch || isSavingRef.current) return;\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            for(let i = 0; i < currentBatch.materials.length; i++){\n                const material = currentBatch.materials[i];\n                const includePlainBunker = currentBatch.moveToPlainBunker === false;\n                if (hasCompleteMaterialData(material, includePlainBunker)) {\n                    const payload = convertToApiPayload(currentBatch, material, false);\n                    if (payload) {\n                        hasAnyDataToSave = true;\n                        const result = await sendToApi(payload, material.type, material.displayName);\n                        results.push({\n                            ...result,\n                            materialIndex: i,\n                            materialType: material.type\n                        });\n                        if (result.success) {\n                            successCount++;\n                            if (result.data && result.data.data && result.data.data.id) {\n                                setCurrentBatch((prevBatch)=>{\n                                    const updatedMaterials = [\n                                        ...prevBatch.materials\n                                    ];\n                                    updatedMaterials[i] = {\n                                        ...updatedMaterials[i],\n                                        recordId: result.data.data.id,\n                                        hasExistingData: true\n                                    };\n                                    return {\n                                        ...prevBatch,\n                                        materials: updatedMaterials\n                                    };\n                                });\n                            }\n                            toast.success(\"\".concat(material.displayName, \" data saved successfully!\"));\n                        } else {\n                            failCount++;\n                            toast.error(\"Failed to save \".concat(material.displayName, \" data: \").concat(result.error));\n                        }\n                    }\n                } else {}\n            }\n            if (!hasAnyDataToSave) {\n                toast.info('No complete data to save. Please fill in all required fields for at least one material.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            const existingIndex = savedBatches.findIndex((b)=>b.id === currentBatch.id);\n            if (existingIndex >= 0) {\n                const updated = [\n                    ...savedBatches\n                ];\n                updated[existingIndex] = {\n                    ...currentBatch,\n                    status: 'draft'\n                };\n                setSavedBatches(updated);\n            } else {\n                setSavedBatches([\n                    ...savedBatches,\n                    {\n                        ...currentBatch,\n                        status: 'draft'\n                    }\n                ]);\n            }\n            const allSuccess = results.every((r)=>r.success);\n            if (allSuccess) {\n                toast.success(\"All \".concat(successCount, \" material data saved successfully!\"));\n            } else {\n                toast.warning(\"\".concat(successCount, \" material(s) saved successfully, \").concat(failCount, \" failed\"));\n            }\n        } catch (error) {\n            toast.error('Failed to save batch data');\n            console.error(' Save error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleMoveToPlainBunker = async ()=>{\n        if (!currentBatch || isSavingRef.current) return;\n        const hasData = currentBatch.materials.some((material)=>material.substages.some(hasSubstageData));\n        if (!hasData) {\n            toast.error('Please enter at least some data before moving');\n            return;\n        }\n        if (!validateMoveToPlainBunker(currentBatch)) {\n            return;\n        }\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            for(let i = 0; i < currentBatch.materials.length; i++){\n                const material = currentBatch.materials[i];\n                const includePlainBunker = currentBatch.moveToPlainBunker === false;\n                if (currentBatch.moveToPlainBunker === false) {\n                    const pb = material.plainBunkerSubstage;\n                    if (!pb.startDate || !pb.startTime || !pb.endDate || !pb.endTime) {\n                        toast.error(\"\".concat(material.displayName, \": Please complete all date/time fields for Plain Bunker\"));\n                        setLoading(false);\n                        isSavingRef.current = false;\n                        return;\n                    }\n                }\n                if (hasCompleteMaterialData(material, includePlainBunker)) {\n                    const payload = convertToApiPayload(currentBatch, material, true);\n                    if (payload) {\n                        hasAnyDataToSave = true;\n                        const result = await sendToApi(payload, material.type, material.displayName);\n                        results.push({\n                            ...result,\n                            materialIndex: i,\n                            materialType: material.type\n                        });\n                        if (result.success) {\n                            successCount++;\n                            if (result.data && result.data.data && result.data.data.id) {\n                                setCurrentBatch((prevBatch)=>{\n                                    const updatedMaterials = [\n                                        ...prevBatch.materials\n                                    ];\n                                    updatedMaterials[i] = {\n                                        ...updatedMaterials[i],\n                                        recordId: result.data.data.id,\n                                        hasExistingData: true\n                                    };\n                                    return {\n                                        ...prevBatch,\n                                        materials: updatedMaterials\n                                    };\n                                });\n                            }\n                        } else {\n                            failCount++;\n                        }\n                    }\n                } else {\n                    console.log(\" \".concat(material.displayName, \" has incomplete data, skipping\"));\n                }\n            }\n            if (!hasAnyDataToSave) {\n                toast.info('No complete data to save. Please fill in all required fields for at least one material.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            if (failCount > 0) {\n                toast.error(\"Failed to save \".concat(failCount, \" material(s). Cannot proceed to Plain Bunker.\"));\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            const batchUpdateResult = await updateBatchPlainBunkerStatus(currentBatch.id, currentBatch.moveToPlainBunker);\n            if (batchUpdateResult.success) {\n                toast.success(\"Batch moved to Plain Bunker successfully with status: \".concat(currentBatch.moveToPlainBunker ? 'Yes' : 'No'));\n                setCurrentBatch(null);\n                router.push('/unified-platform');\n            } else {\n                toast.error(\"Failed to update batch status: \".concat(batchUpdateResult.error));\n            }\n        } catch (error) {\n            toast.error('Failed to move batch to Plain Bunker');\n            console.error('âŒ Move error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleBackToSelection = ()=>{\n        // Clear the current batch to show the selection UI\n        setCurrentBatch(null);\n        // Clear URL params when going back\n        router.push('/soaking');\n        // Clear any saved state\n        setError(null);\n        // Reset the initial batch number state if needed\n        setInitialBatchNumber(null);\n        setInitialBatchId(null);\n    };\n    if (!currentBatch) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            title: \"Soaking Process\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"soaking-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BatchSelection, {\n                    onSelectBatch: handleSelectBatch,\n                    loading: loading,\n                    error: error,\n                    initialBatchNumber: initialBatchNumber,\n                    initialBatchId: initialBatchId\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 1362,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 1361,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n            lineNumber: 1360,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Soaking Process\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"soaking-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"entry-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-left\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleBackToSelection,\n                                    className: \"back-button\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                        lineNumber: 1380,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1379,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: currentBatch.batchNumber\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1382,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-count\",\n                                    children: [\n                                        \"(\",\n                                        currentBatch.materials.length,\n                                        \" material table\",\n                                        currentBatch.materials.length > 1 ? 's' : '',\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1383,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 1378,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-actions\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"move-to-plain-bunker-dropdown\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"plainBunkerSelect\",\n                                            children: \"Move to Plain Bunker:\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1389,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            id: \"plainBunkerSelect\",\n                                            value: currentBatch.moveToPlainBunker === true ? 'yes' : currentBatch.moveToPlainBunker === false ? 'no' : '',\n                                            onChange: (e)=>handleMoveToPlainBunkerChange(e.target.value),\n                                            className: \"plain-bunker-select\",\n                                            disabled: loading,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"\",\n                                                    disabled: true,\n                                                    children: \"Select\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 1397,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"yes\",\n                                                    children: \"Yes\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 1398,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"no\",\n                                                    children: \"No\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 1399,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1390,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1388,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSave,\n                                    className: \"btn-save\",\n                                    disabled: loading,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                            fontSize: \"small\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1407,\n                                            columnNumber: 15\n                                        }, this),\n                                        loading ? 'Saving...' : 'Save'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1402,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleMoveToPlainBunker,\n                                    className: \"btn-move\",\n                                    disabled: loading || currentBatch.moveToPlainBunker === undefined,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowForward__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                            fontSize: \"small\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1415,\n                                            columnNumber: 15\n                                        }, this),\n                                        loading ? 'Processing...' : 'Move to Plain Bunker'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1410,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 1387,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 1377,\n                    columnNumber: 9\n                }, this),\n                currentBatch.materials.map((material, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MaterialTable, {\n                        material: material,\n                        onUpdate: (updated)=>handleUpdateMaterial(index, updated),\n                        showPlainBunker: currentBatch.moveToPlainBunker === false,\n                        readOnly: false\n                    }, \"\".concat(material.type, \"-\").concat(index, \"-\").concat(material.recordId || 'new'), false, {\n                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                        lineNumber: 1422,\n                        columnNumber: 11\n                    }, this))\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n            lineNumber: 1376,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 1375,\n        columnNumber: 5\n    }, this);\n}\n_s2(SoakingContent, \"rZKbJLDIlUtXNw4nU4EjzL8GEKM=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = SoakingContent;\nfunction Soaking() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.ToastProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SoakingContent, {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n            lineNumber: 1438,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 1437,\n        columnNumber: 5\n    }, this);\n}\n_c3 = Soaking;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"MaterialTable\");\n$RefreshReg$(_c1, \"BatchSelection\");\n$RefreshReg$(_c2, \"SoakingContent\");\n$RefreshReg$(_c3, \"Soaking\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocGFnZXMpL3NvYWtpbmcvcGFnZS5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUN3RTtBQUNYO0FBQ1Y7QUFDdUI7QUFDbEM7QUFFUTtBQUNnQjtBQUNOO0FBRTFELE1BQU1hLGlCQUFpQjtJQUNyQixXQUFXO0lBQ1gsZUFBZTtJQUNmLGVBQWU7QUFDakI7QUFFQSxNQUFNQyx5QkFBeUI7SUFDN0IsV0FBVztJQUNYLFNBQVM7SUFDVCxTQUFTO0FBQ1g7QUFFQSxNQUFNQyxlQUFlQywyQkFBK0I7QUFDcEQsTUFBTUcsZUFBZSxHQUFnQixPQUFiSixjQUFhO0FBQ3JDLE1BQU1LLHFCQUFxQixHQUFnQixPQUFiTCxjQUFhO0FBQzNDLE1BQU1NLHdCQUF3QixHQUFnQixPQUFiTixjQUFhO0FBRTlDLE1BQU1PLGNBQWM7SUFDbEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxNQUFNQyxxQkFBcUI7QUFFM0IsTUFBTUMsc0JBQXNCLENBQUNDLE9BQVU7UUFDckNBLE1BQU1BO1FBQ05DLFdBQVc7UUFDWEMsV0FBVztRQUNYQyxTQUFTO1FBQ1RDLFNBQVM7UUFDVEMsWUFBWTtRQUNaQyxTQUFTO0lBQ1g7QUFFQSxNQUFNQyxtQkFBbUIsU0FBQ0M7UUFBYUMsNkVBQVksRUFBRSxFQUFFQywyRUFBVTtJQUMvRCxNQUFNQyxRQUFRO1FBQ1pDLElBQUlGLFdBQVdHLEtBQUtDLEdBQUc7UUFDdkJOLGFBQWFBO1FBQ2JDLFdBQVcsRUFBRTtRQUNiTSxXQUFXO1FBQ1hDLGlCQUFpQixDQUFDO1FBQ2xCQyxtQkFBbUJDO0lBQ3JCO0lBRUFULFVBQVVVLE9BQU8sQ0FBQ0MsQ0FBQUE7UUFDaEIsTUFBTUMsZUFBZWpDLGNBQWMsQ0FBQ2dDLFNBQVM7UUFDN0MsSUFBSUMsaUJBQWlCSCxXQUFXO1lBQzlCUCxNQUFNRixTQUFTLENBQUNhLElBQUksQ0FBQztnQkFDbkJDLE1BQU1GO2dCQUNOckIsTUFBTW9C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SSxVQUFVQTt3QkFDVmlKLFVBQVUsQ0FBQzJHLFVBQVlmLHFCQUFxQnBILE9BQU9tSTt3QkFDbkQxRyxpQkFBaUJnRixhQUFhck8saUJBQWlCLEtBQUs7d0JBQ3BEc0osVUFBVTt1QkFKTCxHQUFvQjFCLE9BQWpCekgsU0FBU0csSUFBSSxFQUFDLEtBQVlILE9BQVR5SCxPQUFNLEtBQThCLE9BQTNCekgsU0FBU0ssUUFBUSxJQUFJOzs7Ozs7Ozs7Ozs7Ozs7O0FBVW5FO0lBL1pTNE47O1FBQ1F6USxzREFBU0E7UUFDVkksZ0VBQVFBO1FBQ0RILDREQUFlQTs7O01BSDdCd1E7QUFpYU0sU0FBUzRDO0lBQ3RCLHFCQUNFLDhEQUFDbFQscUVBQWFBO2tCQUNaLDRFQUFDc1E7Ozs7Ozs7Ozs7QUFHUDtNQU53QjRDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEFkbWluXFxEb3dubG9hZHNcXGJyaXRpc2hhZ3JvLWFkbWluLXBhbmVsXFxicml0aXNoYWdyb1xcYXBwXFwocGFnZXMpXFxzb2FraW5nXFxwYWdlLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XHJcbmltcG9ydCBBcHBMYXlvdXQgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQXBwTGF5b3V0XCI7XHJcbmltcG9ydCB7IFRvYXN0UHJvdmlkZXIsIHVzZVRvYXN0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvY29tbW9uL1RvYXN0ZXJcIjtcclxuaW1wb3J0IFwiLi4vLi4vc3R5bGVzL3BhZ2VzL3NvYWtpbmcuY3NzXCI7XHJcblxyXG5pbXBvcnQgU2F2ZUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TYXZlJztcclxuaW1wb3J0IEFycm93Rm9yd2FyZEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9BcnJvd0ZvcndhcmQnO1xyXG5pbXBvcnQgQXJyb3dCYWNrSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Fycm93QmFjayc7XHJcblxyXG5jb25zdCBNQVRFUklBTF9UWVBFUyA9IHtcclxuICAnQkFHQVNTRSc6ICdCQUdBU1NFJyxcclxuICAnV0hFQVQgU1RSQVcnOiAnV0hFQVQnLFxyXG4gICdQQUREWSBTVFJBVyc6ICdQQUREWSdcclxufTtcclxuXHJcbmNvbnN0IE1BVEVSSUFMX0RJU1BMQVlfTkFNRVMgPSB7XHJcbiAgJ0JBR0FTU0UnOiAnQmFnYXNzZScsXHJcbiAgJ1dIRUFUJzogJ1doZWF0IFN0cmF3JyxcclxuICAnUEFERFknOiAnUGFkZHkgU3RyYXcnXHJcbn07XHJcblxyXG5jb25zdCBBUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMO1xyXG5jb25zdCBBUElfRU5EUE9JTlQgPSBgJHtBUElfQkFTRV9VUkx9L3N0cmF3LXByZXBhcmF0aW9uLWxvZ2A7XHJcbmNvbnN0IEFQSV9GRVRDSF9FTkRQT0lOVCA9IGAke0FQSV9CQVNFX1VSTH0vc3RyYXctcHJlcGFyYXRpb24tbG9nL3N0cmF3c2A7XHJcbmNvbnN0IEJBVENIX1VQREFURV9FTkRQT0lOVCA9IGAke0FQSV9CQVNFX1VSTH0vYmF0Y2hlc2A7XHJcblxyXG5jb25zdCBTVEFHRV9OQU1FUyA9IFtcclxuICBcIlNvYWtpbmdcIixcclxuICBcIlNvYWtpbmcgUmVzdFwiLCBcclxuICBcIlJlIFNvYWtpbmcgMVwiLFxyXG4gIFwiUmUgU29ha2luZyAxIFJlc3RcIixcclxuICBcIlJlIFNvYWtpbmcgMlwiLFxyXG4gIFwiUmUgU29ha2luZyAyIFJlc3RcIlxyXG5dO1xyXG5cclxuY29uc3QgUExBSU5fQlVOS0VSX1NUQUdFID0gXCJQbGFpbiBCdW5rZXJcIjtcclxuXHJcbmNvbnN0IGNyZWF0ZUVtcHR5U3Vic3RhZ2UgPSAobmFtZSkgPT4gKHtcclxuICBuYW1lOiBuYW1lLFxyXG4gIHN0YXJ0RGF0ZTogJycsXHJcbiAgc3RhcnRUaW1lOiAnJyxcclxuICBlbmREYXRlOiAnJyxcclxuICBlbmRUaW1lOiAnJyxcclxuICB0b3RhbEhvdXJzOiAnJyxcclxuICByZW1hcmtzOiAnJ1xyXG59KTtcclxuXHJcbmNvbnN0IGNyZWF0ZUVtcHR5QmF0Y2ggPSAoYmF0Y2hOdW1iZXIsIG1hdGVyaWFscyA9IFtdLCBiYXRjaElkID0gbnVsbCkgPT4ge1xyXG4gIGNvbnN0IGJhdGNoID0ge1xyXG4gICAgaWQ6IGJhdGNoSWQgfHwgRGF0ZS5ub3coKSxcclxuICAgIGJhdGNoTnVtYmVyOiBiYXRjaE51bWJlcixcclxuICAgIG1hdGVyaWFsczogW10sXHJcbiAgICBiYXRjaERhdGE6IG51bGwsXHJcbiAgICBleGlzdGluZ1JlY29yZHM6IHt9LFxyXG4gICAgbW92ZVRvUGxhaW5CdW5rZXI6IHVuZGVmaW5lZCBcclxuICB9O1xyXG5cclxuICBtYXRlcmlhbHMuZm9yRWFjaChtYXRlcmlhbCA9PiB7XHJcbiAgICBjb25zdCBhcGlTdHJhd1R5cGUgPSBNQVRFUklBTF9UWVBFU1ttYXRlcmlhbF07XHJcbiAgICBpZiAoYXBpU3RyYXdUeXBlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgYmF0Y2gubWF0ZXJpYWxzLnB1c2goe1xyXG4gICAgICAgIHR5cGU6IGFwaVN0cmF3VHlwZSxcclxuICAgICAgICBuYW1lOiBtYXRlcmlhbCxcclxuICAgICAgICBkaXNwbGF5TmFtZTogTUFURVJJQUxfRElTUExBWV9OQU1FU1thcGlTdHJhd1R5cGVdIHx8IG1hdGVyaWFsLFxyXG4gICAgICAgIHJlY29yZElkOiBudWxsLFxyXG4gICAgICAgIGhhc0V4aXN0aW5nRGF0YTogZmFsc2UsXHJcbiAgICAgICAgc3Vic3RhZ2VzOiBTVEFHRV9OQU1FUy5tYXAobmFtZSA9PiBjcmVhdGVFbXB0eVN1YnN0YWdlKG5hbWUpKSxcclxuICAgICAgICBwbGFpbkJ1bmtlclN1YnN0YWdlOiBjcmVhdGVFbXB0eVN1YnN0YWdlKFBMQUlOX0JVTktFUl9TVEFHRSkgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gYmF0Y2g7XHJcbn07XHJcblxyXG5jb25zdCBwYXJzZURhdGVUaW1lID0gKGRhdGV0aW1lKSA9PiB7XHJcbiAgaWYgKCFkYXRldGltZSkgcmV0dXJuIHsgZGF0ZTogJycsIHRpbWU6ICcnIH07XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRldGltZSk7XHJcbiAgICBpZiAoaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSByZXR1cm4geyBkYXRlOiAnJywgdGltZTogJycgfTtcclxuICAgIFxyXG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBob3VycyA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBtaW51dGVzID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRlOiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gLFxyXG4gICAgICB0aW1lOiBgJHtob3Vyc306JHttaW51dGVzfWBcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0ZTogJycsIHRpbWU6ICcnIH07XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY2FsY3VsYXRlSG91cnMgPSAoc3RhcnREYXRlVGltZSwgZW5kRGF0ZVRpbWUpID0+IHtcclxuICBpZiAoIXN0YXJ0RGF0ZVRpbWUgfHwgIWVuZERhdGVUaW1lKSByZXR1cm4gJyc7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoc3RhcnREYXRlVGltZSk7XHJcbiAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZShlbmREYXRlVGltZSk7XHJcbiAgICBpZiAoaXNOYU4oc3RhcnQuZ2V0VGltZSgpKSB8fCBpc05hTihlbmQuZ2V0VGltZSgpKSkgcmV0dXJuICcnO1xyXG4gICAgXHJcbiAgICBjb25zdCBkaWZmSG91cnMgPSAoZW5kIC0gc3RhcnQpIC8gKDEwMDAgKiA2MCAqIDYwKTtcclxuICAgIHJldHVybiBkaWZmSG91cnMudG9GaXhlZCgxKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGZldGNoQmF0Y2hEYXRhID0gYXN5bmMgKGJhdGNoSWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfRkVUQ0hfRU5EUE9JTlR9LyR7YmF0Y2hJZH1gKTtcclxuICAgIFxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBudWxsIH07XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggYmF0Y2ggZGF0YTogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIFxyXG4gICAgaWYgKHJlc3BvbnNlRGF0YS5zdWNjZXNzICYmIHJlc3BvbnNlRGF0YS5kYXRhICYmIHJlc3BvbnNlRGF0YS5kYXRhLml0ZW1zKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3BvbnNlRGF0YS5kYXRhLml0ZW1zIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChyZXNwb25zZURhdGEuZGF0YSAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlRGF0YS5kYXRhKSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXNwb25zZURhdGEuZGF0YSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNwb25zZURhdGEpKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3BvbnNlRGF0YSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocmVzcG9uc2VEYXRhLmlkIHx8IHJlc3BvbnNlRGF0YS5iYXRjaF9pZCkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbcmVzcG9uc2VEYXRhXSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmZXRjaGluZyBiYXRjaCBkYXRhOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNvbWJpbmVEYXRlVGltZSA9IChkYXRlLCB0aW1lKSA9PiB7XHJcbiAgaWYgKCFkYXRlIHx8ICF0aW1lKSByZXR1cm4gbnVsbDtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0ZVRpbWVTdHIgPSBgJHtkYXRlfVQke3RpbWV9OjAwYDtcclxuICAgIGNvbnN0IGRhdGV0aW1lID0gbmV3IERhdGUoZGF0ZVRpbWVTdHIpO1xyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oZGF0ZXRpbWUuZ2V0VGltZSgpKSkgcmV0dXJuIG51bGw7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRldGltZS50b0lTT1N0cmluZygpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb21iaW5pbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFzU3Vic3RhZ2VEYXRhID0gKHN1YnN0YWdlKSA9PiB7XHJcbiAgcmV0dXJuIHN1YnN0YWdlLnN0YXJ0RGF0ZSB8fCBzdWJzdGFnZS5zdGFydFRpbWUgfHwgc3Vic3RhZ2UuZW5kRGF0ZSB8fCBzdWJzdGFnZS5lbmRUaW1lIHx8IHN1YnN0YWdlLnJlbWFya3M7XHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0ZVN0YWdlU2VxdWVuY2luZyA9IChtYXRlcmlhbCwgdG9hc3QpID0+IHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGVyaWFsLnN1YnN0YWdlcy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgIGNvbnN0IGN1cnJlbnRTdGFnZSA9IG1hdGVyaWFsLnN1YnN0YWdlc1tpXTtcclxuICAgIGNvbnN0IG5leHRTdGFnZSA9IG1hdGVyaWFsLnN1YnN0YWdlc1tpICsgMV07XHJcbiAgICBcclxuICAgIGlmICghY3VycmVudFN0YWdlLmVuZERhdGUgfHwgIWN1cnJlbnRTdGFnZS5lbmRUaW1lIHx8ICFuZXh0U3RhZ2Uuc3RhcnREYXRlIHx8ICFuZXh0U3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBjdXJyZW50RW5kID0gY29tYmluZURhdGVUaW1lKGN1cnJlbnRTdGFnZS5lbmREYXRlLCBjdXJyZW50U3RhZ2UuZW5kVGltZSk7XHJcbiAgICBjb25zdCBuZXh0U3RhcnQgPSBjb21iaW5lRGF0ZVRpbWUobmV4dFN0YWdlLnN0YXJ0RGF0ZSwgbmV4dFN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICBcclxuICAgIGlmIChjdXJyZW50RW5kICYmIG5leHRTdGFydCkge1xyXG4gICAgICBpZiAobmV3IERhdGUoY3VycmVudEVuZCkgPiBuZXcgRGF0ZShuZXh0U3RhcnQpKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiAke25leHRTdGFnZS5uYW1lfSBtdXN0IHN0YXJ0IGFmdGVyICR7Y3VycmVudFN0YWdlLm5hbWV9IGVuZHNgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5jb25zdCBoYXNDb21wbGV0ZU1hdGVyaWFsRGF0YSA9IChtYXRlcmlhbCwgaW5jbHVkZVBsYWluQnVua2VyID0gZmFsc2UpID0+IHtcclxuICBjb25zdCBoYXNNYWluRGF0YSA9IG1hdGVyaWFsLnN1YnN0YWdlcy5zb21lKHN1YnN0YWdlID0+IFxyXG4gICAgc3Vic3RhZ2Uuc3RhcnREYXRlIHx8IHN1YnN0YWdlLnN0YXJ0VGltZSB8fCBzdWJzdGFnZS5lbmREYXRlIHx8IHN1YnN0YWdlLmVuZFRpbWUgfHwgc3Vic3RhZ2UucmVtYXJrc1xyXG4gICk7XHJcbiAgXHJcbiAgaWYgKCFoYXNNYWluRGF0YSAmJiAhaW5jbHVkZVBsYWluQnVua2VyKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIENoZWNrIG1haW4gc3Vic3RhZ2VzIGZvciBjb21wbGV0ZW5lc3NcclxuICBmb3IgKGNvbnN0IHN1YnN0YWdlIG9mIG1hdGVyaWFsLnN1YnN0YWdlcykge1xyXG4gICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiAhc3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHN1YnN0YWdlLnN0YXJ0VGltZSAmJiAhc3Vic3RhZ2Uuc3RhcnREYXRlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHN1YnN0YWdlLmVuZERhdGUgJiYgIXN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2UuZW5kVGltZSAmJiAhc3Vic3RhZ2UuZW5kRGF0ZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChpbmNsdWRlUGxhaW5CdW5rZXIgJiYgbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZSkge1xyXG4gICAgY29uc3QgcGIgPSBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlO1xyXG4gICAgXHJcbiAgICBjb25zdCBoYXNQYkRhdGEgPSBwYi5zdGFydERhdGUgfHwgcGIuc3RhcnRUaW1lIHx8IHBiLmVuZERhdGUgfHwgcGIuZW5kVGltZSB8fCBwYi5yZW1hcmtzO1xyXG4gICAgXHJcbiAgICBpZiAoaGFzUGJEYXRhKSB7XHJcbiAgICAgIGlmIChwYi5zdGFydERhdGUgJiYgIXBiLnN0YXJ0VGltZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBpZiAocGIuc3RhcnRUaW1lICYmICFwYi5zdGFydERhdGUpIHJldHVybiBmYWxzZTtcclxuICAgICAgaWYgKHBiLmVuZERhdGUgJiYgIXBiLmVuZFRpbWUpIHJldHVybiBmYWxzZTtcclxuICAgICAgaWYgKHBiLmVuZFRpbWUgJiYgIXBiLmVuZERhdGUpIHJldHVybiBmYWxzZTtcclxuICAgICAgXHJcbiAgICAgIGlmIChwYi5zdGFydERhdGUgJiYgcGIuc3RhcnRUaW1lICYmIHBiLmVuZERhdGUgJiYgcGIuZW5kVGltZSkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtwYi5zdGFydERhdGV9VCR7cGIuc3RhcnRUaW1lfWApO1xyXG4gICAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7cGIuZW5kRGF0ZX1UJHtwYi5lbmRUaW1lfWApO1xyXG4gICAgICAgIGlmIChzdGFydERhdGVUaW1lID4gZW5kRGF0ZVRpbWUpIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlUGxhaW5CdW5rZXJEYXRhID0gKG1hdGVyaWFsKSA9PiB7XHJcbiAgY29uc3QgcGIgPSBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlO1xyXG4gIGlmICghcGIpIHJldHVybiB0cnVlO1xyXG4gIFxyXG4gIGNvbnN0IGhhc1BiRGF0YSA9IHBiLnN0YXJ0RGF0ZSB8fCBwYi5zdGFydFRpbWUgfHwgcGIuZW5kRGF0ZSB8fCBwYi5lbmRUaW1lO1xyXG4gIFxyXG4gIGlmIChoYXNQYkRhdGEpIHtcclxuICAgIGlmIChwYi5zdGFydERhdGUgJiYgIXBiLnN0YXJ0VGltZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHBiLnN0YXJ0VGltZSAmJiAhcGIuc3RhcnREYXRlKSByZXR1cm4gZmFsc2U7XHJcbiAgICBcclxuICAgIGlmIChwYi5lbmREYXRlICYmICFwYi5lbmRUaW1lKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAocGIuZW5kVGltZSAmJiAhcGIuZW5kRGF0ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgXHJcbiAgICBpZiAocGIuc3RhcnREYXRlICYmIHBiLnN0YXJ0VGltZSAmJiBwYi5lbmREYXRlICYmIHBiLmVuZFRpbWUpIHtcclxuICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3BiLnN0YXJ0RGF0ZX1UJHtwYi5zdGFydFRpbWV9YCk7XHJcbiAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7cGIuZW5kRGF0ZX1UJHtwYi5lbmRUaW1lfWApO1xyXG4gICAgICBpZiAoc3RhcnREYXRlVGltZSA+IGVuZERhdGVUaW1lKSByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuY29uc3QgY29udmVydFRvQXBpUGF5bG9hZCA9IChiYXRjaCwgbWF0ZXJpYWwsIGlzQ29tcGxldGVkKSA9PiB7XHJcbiAgaWYgKCFtYXRlcmlhbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IHNvYWtpbmcgPSBtYXRlcmlhbC5zdWJzdGFnZXNbMF0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlNvYWtpbmdcIik7XHJcbiAgY29uc3Qgc29ha2luZ1Jlc3QgPSBtYXRlcmlhbC5zdWJzdGFnZXNbMV0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlNvYWtpbmcgUmVzdFwiKTtcclxuICBjb25zdCByZXNvYWtpbmdPbmUgPSBtYXRlcmlhbC5zdWJzdGFnZXNbMl0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlJlIFNvYWtpbmcgMVwiKTtcclxuICBjb25zdCByZXNvYWtpbmdSZXN0ID0gbWF0ZXJpYWwuc3Vic3RhZ2VzWzNdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJSZSBTb2FraW5nIDEgUmVzdFwiKTtcclxuICBjb25zdCByZXNvYWtpbmdUd28gPSBtYXRlcmlhbC5zdWJzdGFnZXNbNF0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlJlIFNvYWtpbmcgMlwiKTtcclxuICBjb25zdCByZXNvYWtpbmdUd29SZXN0ID0gbWF0ZXJpYWwuc3Vic3RhZ2VzWzVdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJSZSBTb2FraW5nIDIgUmVzdFwiKTtcclxuICBjb25zdCBwbGFpbkJ1bmtlciA9IG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2UgfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIlBsYWluIEJ1bmtlclwiKTtcclxuXHJcbiAgY29uc3QgZm9ybWF0RGF0ZVRpbWUgPSAoZGF0ZVRpbWVTdHIpID0+IHtcclxuICAgIGlmICghZGF0ZVRpbWVTdHIpIHJldHVybiBudWxsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVUaW1lU3RyKTtcclxuICAgICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuIG51bGw7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3Qgc2Vjb25kcyA9IFN0cmluZyhkYXRlLmdldFNlY29uZHMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1UJHtob3Vyc306JHttaW51dGVzfToke3NlY29uZHN9YDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZvcm1hdHRpbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBzb2FraW5nX3N0YXJ0ID0gKHNvYWtpbmcuc3RhcnREYXRlICYmIHNvYWtpbmcuc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHNvYWtpbmcuc3RhcnREYXRlLCBzb2FraW5nLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3Qgc29ha2luZ19lbmQgPSAoc29ha2luZy5lbmREYXRlICYmIHNvYWtpbmcuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShzb2FraW5nLmVuZERhdGUsIHNvYWtpbmcuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3Qgc29ha2luZ19yZXN0X3N0YXJ0ID0gKHNvYWtpbmdSZXN0LnN0YXJ0RGF0ZSAmJiBzb2FraW5nUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoc29ha2luZ1Jlc3Quc3RhcnREYXRlLCBzb2FraW5nUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IHNvYWtpbmdfcmVzdF9lbmQgPSAoc29ha2luZ1Jlc3QuZW5kRGF0ZSAmJiBzb2FraW5nUmVzdC5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHNvYWtpbmdSZXN0LmVuZERhdGUsIHNvYWtpbmdSZXN0LmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIFxyXG4gIGNvbnN0IHJlc29ha2luZ19vbmVfc3RhcnQgPSAocmVzb2FraW5nT25lLnN0YXJ0RGF0ZSAmJiByZXNvYWtpbmdPbmUuc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHJlc29ha2luZ09uZS5zdGFydERhdGUsIHJlc29ha2luZ09uZS5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IHJlc29ha2luZ19vbmVfZW5kID0gKHJlc29ha2luZ09uZS5lbmREYXRlICYmIHJlc29ha2luZ09uZS5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHJlc29ha2luZ09uZS5lbmREYXRlLCByZXNvYWtpbmdPbmUuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3QgcmVzb2FraW5nX3Jlc3Rfc3RhcnQgPSAocmVzb2FraW5nUmVzdC5zdGFydERhdGUgJiYgcmVzb2FraW5nUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nUmVzdC5zdGFydERhdGUsIHJlc29ha2luZ1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCByZXNvYWtpbmdfcmVzdF9lbmQgPSAocmVzb2FraW5nUmVzdC5lbmREYXRlICYmIHJlc29ha2luZ1Jlc3QuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShyZXNvYWtpbmdSZXN0LmVuZERhdGUsIHJlc29ha2luZ1Jlc3QuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3QgcmVzb2FraW5nX3R3b19zdGFydCA9IChyZXNvYWtpbmdUd28uc3RhcnREYXRlICYmIHJlc29ha2luZ1R3by5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nVHdvLnN0YXJ0RGF0ZSwgcmVzb2FraW5nVHdvLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgcmVzb2FraW5nX3R3b19lbmQgPSAocmVzb2FraW5nVHdvLmVuZERhdGUgJiYgcmVzb2FraW5nVHdvLmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nVHdvLmVuZERhdGUsIHJlc29ha2luZ1R3by5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBcclxuICBjb25zdCByZXNvYWtpbmdfdHdvX3Jlc3Rfc3RhcnQgPSAocmVzb2FraW5nVHdvUmVzdC5zdGFydERhdGUgJiYgcmVzb2FraW5nVHdvUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nVHdvUmVzdC5zdGFydERhdGUsIHJlc29ha2luZ1R3b1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCByZXNvYWtpbmdfdHdvX3Jlc3RfZW5kID0gKHJlc29ha2luZ1R3b1Jlc3QuZW5kRGF0ZSAmJiByZXNvYWtpbmdUd29SZXN0LmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nVHdvUmVzdC5lbmREYXRlLCByZXNvYWtpbmdUd29SZXN0LmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG5cclxuICBjb25zdCBwbGFpbl9idW5rZXJfc3RhcnQgPSAocGxhaW5CdW5rZXIuc3RhcnREYXRlICYmIHBsYWluQnVua2VyLnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShwbGFpbkJ1bmtlci5zdGFydERhdGUsIHBsYWluQnVua2VyLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgcGxhaW5fYnVua2VyX2VuZCA9IChwbGFpbkJ1bmtlci5lbmREYXRlICYmIHBsYWluQnVua2VyLmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocGxhaW5CdW5rZXIuZW5kRGF0ZSwgcGxhaW5CdW5rZXIuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcblxyXG4gIGNvbnN0IGFwaVN0cmF3VHlwZSA9IG1hdGVyaWFsLnR5cGU7XHJcblxyXG4gIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICBiYXRjaF9pZDogYmF0Y2guaWQsXHJcbiAgICBzdHJhd190eXBlOiBhcGlTdHJhd1R5cGUsXHJcbiAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShzb2FraW5nX3N0YXJ0KSxcclxuICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShyZXNvYWtpbmdfdHdvX3Jlc3RfZW5kIHx8IHBsYWluX2J1bmtlcl9lbmQpLFxyXG4gICAgaXNjb21wbGV0ZWQ6IGlzQ29tcGxldGVkLFxyXG4gICAgc29ha2luZzoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShzb2FraW5nX3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKHNvYWtpbmdfZW5kKVxyXG4gICAgfSxcclxuICAgIHNvYWtpbmdfcmVzdDoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShzb2FraW5nX3Jlc3Rfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoc29ha2luZ19yZXN0X2VuZClcclxuICAgIH0sXHJcbiAgICByZXNvYWtpbmdfb25lOiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKHJlc29ha2luZ19vbmVfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUocmVzb2FraW5nX29uZV9lbmQpXHJcbiAgICB9LFxyXG4gICAgcmVzb2FraW5nX3Jlc3Q6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUocmVzb2FraW5nX3Jlc3Rfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUocmVzb2FraW5nX3Jlc3RfZW5kKVxyXG4gICAgfSxcclxuICAgIHJlc29ha2luZ190d286IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUocmVzb2FraW5nX3R3b19zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShyZXNvYWtpbmdfdHdvX2VuZClcclxuICAgIH0sXHJcbiAgICByZXNvYWtpbmdfdHdvX3Jlc3Q6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUocmVzb2FraW5nX3R3b19yZXN0X3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKHJlc29ha2luZ190d29fcmVzdF9lbmQpXHJcbiAgICB9LFxyXG4gICAgcGxhaW5fYnVua2VyOiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKHBsYWluX2J1bmtlcl9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShwbGFpbl9idW5rZXJfZW5kKVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIE9iamVjdC5rZXlzKHBheWxvYWQpLmZvckVhY2goa2V5ID0+IHtcclxuICAgIGlmIChwYXlsb2FkW2tleV0gPT09IG51bGwpIHtcclxuICAgICAgZGVsZXRlIHBheWxvYWRba2V5XTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBheWxvYWRba2V5XSA9PT0gJ29iamVjdCcgJiYgcGF5bG9hZFtrZXldICE9PSBudWxsICYmIGtleSAhPT0gJ2JhdGNoX2lkJyAmJiBrZXkgIT09ICdzdHJhd190eXBlJyAmJiBrZXkgIT09ICdpc2NvbXBsZXRlZCcpIHtcclxuICAgICAgbGV0IGhhc1ZhbGlkRmllbGQgPSBmYWxzZTtcclxuICAgICAgT2JqZWN0LmtleXMocGF5bG9hZFtrZXldKS5mb3JFYWNoKHN1YktleSA9PiB7XHJcbiAgICAgICAgaWYgKHBheWxvYWRba2V5XVtzdWJLZXldID09PSBudWxsKSB7XHJcbiAgICAgICAgICBkZWxldGUgcGF5bG9hZFtrZXldW3N1YktleV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGhhc1ZhbGlkRmllbGQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIWhhc1ZhbGlkRmllbGQpIHtcclxuICAgICAgICBkZWxldGUgcGF5bG9hZFtrZXldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBwYXlsb2FkO1xyXG59O1xyXG5cclxuY29uc3QgY29udmVydEFwaVJlc3BvbnNlVG9VSSA9IChhcGlEYXRhLCBiYXRjaCkgPT4ge1xyXG4gIGlmICghYXBpRGF0YSB8fCAhQXJyYXkuaXNBcnJheShhcGlEYXRhKSkge1xyXG4gICAgcmV0dXJuIGJhdGNoO1xyXG4gIH1cclxuXHJcblxyXG4gIGJhdGNoLm1hdGVyaWFscy5mb3JFYWNoKG1hdGVyaWFsID0+IHtcclxuICAgIGNvbnN0IG1hdGVyaWFsRGF0YSA9IGFwaURhdGEuZmluZChkID0+IFxyXG4gICAgICBkLnN0cmF3X3R5cGUgJiYgZC5zdHJhd190eXBlID09PSBtYXRlcmlhbC50eXBlXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBpZiAoIW1hdGVyaWFsRGF0YSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBpZiAobWF0ZXJpYWxEYXRhLmlkKSB7XHJcbiAgICAgIG1hdGVyaWFsLnJlY29yZElkID0gbWF0ZXJpYWxEYXRhLmlkO1xyXG4gICAgICBtYXRlcmlhbC5oYXNFeGlzdGluZ0RhdGEgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN1YnN0YWdlTWFwcGluZyA9IFtcclxuICAgICAgeyBuYW1lOiBcIlNvYWtpbmdcIiwgZGF0YTogbWF0ZXJpYWxEYXRhLnNvYWtpbmcgfSxcclxuICAgICAgeyBuYW1lOiBcIlNvYWtpbmcgUmVzdFwiLCBkYXRhOiBtYXRlcmlhbERhdGEuc29ha2luZ19yZXN0IH0sXHJcbiAgICAgIHsgbmFtZTogXCJSZSBTb2FraW5nIDFcIiwgZGF0YTogbWF0ZXJpYWxEYXRhLnJlc29ha2luZ19vbmUgfSxcclxuICAgICAgeyBuYW1lOiBcIlJlIFNvYWtpbmcgMSBSZXN0XCIsIGRhdGE6IG1hdGVyaWFsRGF0YS5yZXNvYWtpbmdfcmVzdCB9LFxyXG4gICAgICB7IG5hbWU6IFwiUmUgU29ha2luZyAyXCIsIGRhdGE6IG1hdGVyaWFsRGF0YS5yZXNvYWtpbmdfdHdvIH0sXHJcbiAgICAgIHsgbmFtZTogXCJSZSBTb2FraW5nIDIgUmVzdFwiLCBkYXRhOiBtYXRlcmlhbERhdGEucmVzb2FraW5nX3R3b19yZXN0IH1cclxuICAgIF07XHJcblxyXG4gICAgc3Vic3RhZ2VNYXBwaW5nLmZvckVhY2goKG1hcHBpbmcsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChtYXBwaW5nLmRhdGEpIHtcclxuICAgICAgICBcclxuICAgICAgICBpZiAobWFwcGluZy5kYXRhLnN0YXJ0X3RpbWUpIHtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0ZTogc3RhcnREYXRlLCB0aW1lOiBzdGFydFRpbWUgfSA9IHBhcnNlRGF0ZVRpbWUobWFwcGluZy5kYXRhLnN0YXJ0X3RpbWUpO1xyXG4gICAgICAgICAgbWF0ZXJpYWwuc3Vic3RhZ2VzW2luZGV4XS5zdGFydERhdGUgPSBzdGFydERhdGU7XHJcbiAgICAgICAgICBtYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG1hcHBpbmcuZGF0YS5lbmRfdGltZSkge1xyXG4gICAgICAgICAgY29uc3QgeyBkYXRlOiBlbmREYXRlLCB0aW1lOiBlbmRUaW1lIH0gPSBwYXJzZURhdGVUaW1lKG1hcHBpbmcuZGF0YS5lbmRfdGltZSk7XHJcbiAgICAgICAgICBtYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdLmVuZERhdGUgPSBlbmREYXRlO1xyXG4gICAgICAgICAgbWF0ZXJpYWwuc3Vic3RhZ2VzW2luZGV4XS5lbmRUaW1lID0gZW5kVGltZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG1hcHBpbmcuZGF0YS5kdXJhdGlvbl9ob3VycyAhPT0gdW5kZWZpbmVkICYmIG1hcHBpbmcuZGF0YS5kdXJhdGlvbl9ob3VycyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgbWF0ZXJpYWwuc3Vic3RhZ2VzW2luZGV4XS50b3RhbEhvdXJzID0gbWFwcGluZy5kYXRhLmR1cmF0aW9uX2hvdXJzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChtYXBwaW5nLmRhdGEucmVtYXJrcykge1xyXG4gICAgICAgICAgbWF0ZXJpYWwuc3Vic3RhZ2VzW2luZGV4XS5yZW1hcmtzID0gbWFwcGluZy5kYXRhLnJlbWFya3M7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAobWF0ZXJpYWxEYXRhLnBsYWluX2J1bmtlcikge1xyXG4gICAgICBjb25zdCBwYkRhdGEgPSBtYXRlcmlhbERhdGEucGxhaW5fYnVua2VyO1xyXG4gICAgICBcclxuICAgICAgaWYgKHBiRGF0YS5zdGFydF90aW1lKSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRlOiBzdGFydERhdGUsIHRpbWU6IHN0YXJ0VGltZSB9ID0gcGFyc2VEYXRlVGltZShwYkRhdGEuc3RhcnRfdGltZSk7XHJcbiAgICAgICAgbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZS5zdGFydERhdGUgPSBzdGFydERhdGU7XHJcbiAgICAgICAgbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZS5zdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChwYkRhdGEuZW5kX3RpbWUpIHtcclxuICAgICAgICBjb25zdCB7IGRhdGU6IGVuZERhdGUsIHRpbWU6IGVuZFRpbWUgfSA9IHBhcnNlRGF0ZVRpbWUocGJEYXRhLmVuZF90aW1lKTtcclxuICAgICAgICBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlLmVuZERhdGUgPSBlbmREYXRlO1xyXG4gICAgICAgIG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2UuZW5kVGltZSA9IGVuZFRpbWU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChwYkRhdGEuZHVyYXRpb25faG91cnMgIT09IHVuZGVmaW5lZCAmJiBwYkRhdGEuZHVyYXRpb25faG91cnMgIT09IG51bGwpIHtcclxuICAgICAgICBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlLnRvdGFsSG91cnMgPSBwYkRhdGEuZHVyYXRpb25faG91cnMudG9TdHJpbmcoKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHBiRGF0YS5yZW1hcmtzKSB7XHJcbiAgICAgICAgbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZS5yZW1hcmtzID0gcGJEYXRhLnJlbWFya3M7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGJhdGNoO1xyXG59O1xyXG5cclxuY29uc3Qgc2VuZFRvQXBpID0gYXN5bmMgKHBheWxvYWQsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUpID0+IHtcclxuICB0cnkge1xyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFQSV9FTkRQT0lOVCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBkZXRhaWw6ICdVbmtub3duIGVycm9yJyB9KSk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyBBUEkgRXJyb3IgUmVzcG9uc2U6JywgZXJyb3JEYXRhKTtcclxuICAgICAgXHJcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xyXG4gICAgICBpZiAoZXJyb3JEYXRhLmRldGFpbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXJyb3JEYXRhLmRldGFpbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5kZXRhaWw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVycm9yRGF0YS5kZXRhaWwpKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZGV0YWlsLm1hcChlcnIgPT4gZXJyLm1zZykuam9pbignLCAnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlcnJvckRhdGEuZGV0YWlsID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZXJyb3JEYXRhLmRldGFpbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihgIEVSUk9SIHNlbmRpbmcgJHtkaXNwbGF5TmFtZX0gZGF0YTpgLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVCYXRjaFBsYWluQnVua2VyU3RhdHVzID0gYXN5bmMgKGJhdGNoSWQsIHN0YXR1cykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1cmwgPSBgJHtCQVRDSF9VUERBVEVfRU5EUE9JTlR9LyR7YmF0Y2hJZH1gO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIHBsYWluX2J1bmtlcl9taXhlZDogc3RhdHVzXHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgZGV0YWlsOiAnVW5rbm93biBlcnJvcicgfSkpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCcgQVBJIEVycm9yIFJlc3BvbnNlOicsIGVycm9yRGF0YSk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSBiYXRjaCBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCcgRXJyb3IgdXBkYXRpbmcgYmF0Y2ggc3RhdHVzOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IE1hdGVyaWFsVGFibGUgPSBSZWFjdC5tZW1vKCh7IG1hdGVyaWFsLCBvblVwZGF0ZSwgc2hvd1BsYWluQnVua2VyID0gZmFsc2UsIHJlYWRPbmx5ID0gZmFsc2UgfSkgPT4ge1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVEYXRlUmFuZ2UgPSAoc3Vic3RhZ2UsIGZpZWxkLCBuZXdWYWx1ZSwgY3VycmVudFN1YnN0YWdlLCBpc1BsYWluQnVua2VyID0gZmFsc2UpID0+IHtcclxuICAgIGlmIChmaWVsZCA9PT0gJ3N0YXJ0RGF0ZScgfHwgZmllbGQgPT09ICdzdGFydFRpbWUnKSB7XHJcbiAgICAgIGlmIChzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgICBjb25zdCBuZXdTdGFydERhdGVUaW1lID0gZmllbGQgPT09ICdzdGFydERhdGUnIFxyXG4gICAgICAgICAgPyBjb21iaW5lRGF0ZVRpbWUobmV3VmFsdWUsIHN1YnN0YWdlLnN0YXJ0VGltZSlcclxuICAgICAgICAgIDogY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLnN0YXJ0RGF0ZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLmVuZERhdGUsIHN1YnN0YWdlLmVuZFRpbWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChuZXdTdGFydERhdGVUaW1lICYmIGVuZERhdGVUaW1lICYmIG5ldyBEYXRlKG5ld1N0YXJ0RGF0ZVRpbWUpID4gbmV3IERhdGUoZW5kRGF0ZVRpbWUpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLSAke3N1YnN0YWdlLm5hbWV9OiBTdGFydCBkYXRlL3RpbWUgY2Fubm90IGJlIGFmdGVyIGVuZCBkYXRlL3RpbWVgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoZmllbGQgPT09ICdlbmREYXRlJyB8fCBmaWVsZCA9PT0gJ2VuZFRpbWUnKSB7XHJcbiAgICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IGNvbWJpbmVEYXRlVGltZShzdWJzdGFnZS5zdGFydERhdGUsIHN1YnN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICAgICAgY29uc3QgbmV3RW5kRGF0ZVRpbWUgPSBmaWVsZCA9PT0gJ2VuZERhdGUnXHJcbiAgICAgICAgICA/IGNvbWJpbmVEYXRlVGltZShuZXdWYWx1ZSwgc3Vic3RhZ2UuZW5kVGltZSlcclxuICAgICAgICAgIDogY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLmVuZERhdGUsIG5ld1ZhbHVlKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoc3RhcnREYXRlVGltZSAmJiBuZXdFbmREYXRlVGltZSAmJiBuZXcgRGF0ZShzdGFydERhdGVUaW1lKSA+IG5ldyBEYXRlKG5ld0VuZERhdGVUaW1lKSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IC0gJHtzdWJzdGFnZS5uYW1lfTogRW5kIGRhdGUvdGltZSBjYW5ub3QgYmUgYmVmb3JlIHN0YXJ0IGRhdGUvdGltZWApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVTdGFnZVNlcXVlbmNlID0gKGluZGV4LCBmaWVsZCwgdmFsdWUsIHVwZGF0ZWRNYXRlcmlhbCwgaXNQbGFpbkJ1bmtlciA9IGZhbHNlKSA9PiB7XHJcbiAgICBpZiAoaXNQbGFpbkJ1bmtlcikgcmV0dXJuIHRydWU7IFxyXG4gICAgXHJcbiAgICBjb25zdCBzdWJzdGFnZSA9IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdO1xyXG4gICAgY29uc3QgdGVtcFN1YnN0YWdlID0geyAuLi5zdWJzdGFnZSwgW2ZpZWxkXTogdmFsdWUgfTtcclxuICAgIGNvbnN0IHN0YWdlSW5kZXggPSBpbmRleDtcclxuICAgIFxyXG4gICAgaWYgKHN0YWdlSW5kZXggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHByZXZTdGFnZSA9IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXNbc3RhZ2VJbmRleCAtIDFdO1xyXG4gICAgICBpZiAocHJldlN0YWdlLmVuZERhdGUgJiYgcHJldlN0YWdlLmVuZFRpbWUgJiYgdGVtcFN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiB0ZW1wU3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgY29uc3QgcHJldkVuZCA9IGNvbWJpbmVEYXRlVGltZShwcmV2U3RhZ2UuZW5kRGF0ZSwgcHJldlN0YWdlLmVuZFRpbWUpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdGFydCA9IGNvbWJpbmVEYXRlVGltZSh0ZW1wU3Vic3RhZ2Uuc3RhcnREYXRlLCB0ZW1wU3Vic3RhZ2Uuc3RhcnRUaW1lKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAocHJldkVuZCAmJiBjdXJyZW50U3RhcnQgJiYgbmV3IERhdGUocHJldkVuZCkgPiBuZXcgRGF0ZShjdXJyZW50U3RhcnQpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06ICR7dGVtcFN1YnN0YWdlLm5hbWV9IG11c3Qgc3RhcnQgYWZ0ZXIgJHtwcmV2U3RhZ2UubmFtZX0gZW5kc2ApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3RhZ2VJbmRleCA8IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICBjb25zdCBuZXh0U3RhZ2UgPSB1cGRhdGVkTWF0ZXJpYWwuc3Vic3RhZ2VzW3N0YWdlSW5kZXggKyAxXTtcclxuICAgICAgaWYgKHRlbXBTdWJzdGFnZS5lbmREYXRlICYmIHRlbXBTdWJzdGFnZS5lbmRUaW1lICYmIG5leHRTdGFnZS5zdGFydERhdGUgJiYgbmV4dFN0YWdlLnN0YXJ0VGltZSkge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRFbmQgPSBjb21iaW5lRGF0ZVRpbWUodGVtcFN1YnN0YWdlLmVuZERhdGUsIHRlbXBTdWJzdGFnZS5lbmRUaW1lKTtcclxuICAgICAgICBjb25zdCBuZXh0U3RhcnQgPSBjb21iaW5lRGF0ZVRpbWUobmV4dFN0YWdlLnN0YXJ0RGF0ZSwgbmV4dFN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGN1cnJlbnRFbmQgJiYgbmV4dFN0YXJ0ICYmIG5ldyBEYXRlKGN1cnJlbnRFbmQpID4gbmV3IERhdGUobmV4dFN0YXJ0KSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiAke25leHRTdGFnZS5uYW1lfSBtdXN0IHN0YXJ0IGFmdGVyICR7dGVtcFN1YnN0YWdlLm5hbWV9IGVuZHNgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0TWluRW5kRGF0ZSA9IChzdWJzdGFnZSkgPT4ge1xyXG4gICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSkge1xyXG4gICAgICByZXR1cm4gc3Vic3RhZ2Uuc3RhcnREYXRlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRNaW5FbmRUaW1lID0gKHN1YnN0YWdlKSA9PiB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlID09PSBzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSkge1xyXG4gICAgICByZXR1cm4gc3Vic3RhZ2Uuc3RhcnRUaW1lO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9IChpbmRleCwgZmllbGQsIHZhbHVlLCBpc1BsYWluQnVua2VyID0gZmFsc2UpID0+IHtcclxuICAgIGlmIChyZWFkT25seSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCB1cGRhdGVkTWF0ZXJpYWwgPSB7IC4uLm1hdGVyaWFsIH07XHJcbiAgICBcclxuICAgIGlmIChpc1BsYWluQnVua2VyKSB7XHJcbiAgICAgIGNvbnN0IHN1YnN0YWdlID0gdXBkYXRlZE1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmllbGQgPT09ICdzdGFydERhdGUnIHx8IGZpZWxkID09PSAnc3RhcnRUaW1lJyB8fCBmaWVsZCA9PT0gJ2VuZERhdGUnIHx8IGZpZWxkID09PSAnZW5kVGltZScpIHtcclxuICAgICAgICBpZiAoIXZhbGlkYXRlRGF0ZVJhbmdlKHN1YnN0YWdlLCBmaWVsZCwgdmFsdWUsIHN1YnN0YWdlLCB0cnVlKSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc3Vic3RhZ2VbZmllbGRdID0gdmFsdWU7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSAmJiBzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2Uuc3RhcnREYXRlfVQke3N1YnN0YWdlLnN0YXJ0VGltZX1gKTtcclxuICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLmVuZERhdGV9VCR7c3Vic3RhZ2UuZW5kVGltZX1gKTtcclxuICAgICAgICBjb25zdCBkaWZmSG91cnMgPSAoZW5kRGF0ZVRpbWUgLSBzdGFydERhdGVUaW1lKSAvICgxMDAwICogNjAgKiA2MCk7XHJcbiAgICAgICAgc3Vic3RhZ2UudG90YWxIb3VycyA9IGRpZmZIb3Vycy50b0ZpeGVkKDEpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBzdWJzdGFnZSA9IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdO1xyXG4gICAgICBcclxuICAgICAgaWYgKGZpZWxkID09PSAnc3RhcnREYXRlJyB8fCBmaWVsZCA9PT0gJ3N0YXJ0VGltZScgfHwgZmllbGQgPT09ICdlbmREYXRlJyB8fCBmaWVsZCA9PT0gJ2VuZFRpbWUnKSB7XHJcbiAgICAgICAgaWYgKCF2YWxpZGF0ZURhdGVSYW5nZShzdWJzdGFnZSwgZmllbGQsIHZhbHVlLCBzdWJzdGFnZSkpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHN1YnN0YWdlW2ZpZWxkXSA9IHZhbHVlO1xyXG4gICAgICBcclxuICAgICAgaWYgKCF2YWxpZGF0ZVN0YWdlU2VxdWVuY2UoaW5kZXgsIGZpZWxkLCB2YWx1ZSwgdXBkYXRlZE1hdGVyaWFsKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiBzdWJzdGFnZS5zdGFydFRpbWUgJiYgc3Vic3RhZ2UuZW5kRGF0ZSAmJiBzdWJzdGFnZS5lbmRUaW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLnN0YXJ0RGF0ZX1UJHtzdWJzdGFnZS5zdGFydFRpbWV9YCk7XHJcbiAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5lbmREYXRlfVQke3N1YnN0YWdlLmVuZFRpbWV9YCk7XHJcbiAgICAgICAgY29uc3QgZGlmZkhvdXJzID0gKGVuZERhdGVUaW1lIC0gc3RhcnREYXRlVGltZSkgLyAoMTAwMCAqIDYwICogNjApO1xyXG4gICAgICAgIHN1YnN0YWdlLnRvdGFsSG91cnMgPSBkaWZmSG91cnMudG9GaXhlZCgxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvblVwZGF0ZSh1cGRhdGVkTWF0ZXJpYWwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldFRhYmxlVGl0bGUgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IFNvYWtpbmcgUHJvY2Vzc2A7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGUtc2VjdGlvblwiPlxyXG4gICAgICA8aDMgY2xhc3NOYW1lPVwidGFibGUtdGl0bGVcIj57Z2V0VGFibGVUaXRsZSgpfTwvaDM+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW50cnktdGFibGUtY29udGFpbmVyXCI+XHJcbiAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cImVudHJ5LXRhYmxlXCI+XHJcbiAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5TdWJzdGFnZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIGNvbFNwYW49XCIyXCI+U3RhcnQ8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCBjb2xTcGFuPVwiMlwiPkVuZDwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+VG90YWwgSG91cnM8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPlJlbWFya3M8L3RoPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgPHRoPkRhdGU8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aD5UaW1lPC90aD5cclxuICAgICAgICAgICAgICA8dGg+RGF0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoPlRpbWU8L3RoPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAge21hdGVyaWFsLnN1YnN0YWdlcy5tYXAoKHN1YnN0YWdlLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgIDx0ciBrZXk9e2luZGV4fT5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJzdWJzdGFnZS1uYW1lXCI+e3N1YnN0YWdlLm5hbWV9PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5zdGFydERhdGUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3N0YXJ0RGF0ZScsIGUudGFyZ2V0LnZhbHVlLCBmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtYXg9e3N1YnN0YWdlLmVuZERhdGUgfHwgdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRpbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5zdGFydFRpbWUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3N0YXJ0VGltZScsIGUudGFyZ2V0LnZhbHVlLCBmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtYXg9e3N1YnN0YWdlLnN0YXJ0RGF0ZSA9PT0gc3Vic3RhZ2UuZW5kRGF0ZSA/IHN1YnN0YWdlLmVuZFRpbWUgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLmVuZERhdGUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ2VuZERhdGUnLCBlLnRhcmdldC52YWx1ZSwgZmFsc2UpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWluPXtnZXRNaW5FbmREYXRlKHN1YnN0YWdlKX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0aW1lXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UuZW5kVGltZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnZW5kVGltZScsIGUudGFyZ2V0LnZhbHVlLCBmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtaW49e2dldE1pbkVuZFRpbWUoc3Vic3RhZ2UpfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS50b3RhbEhvdXJzIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQXV0by1jYWxjXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UucmVtYXJrcyB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAncmVtYXJrcycsIGUudGFyZ2V0LnZhbHVlLCBmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIHJlbWFya3MuLi5cIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIHtzaG93UGxhaW5CdW5rZXIgJiYgKFxyXG4gICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJwbGFpbi1idW5rZXItcm93XCI+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwic3Vic3RhZ2UtbmFtZSBwbGFpbi1idW5rZXJcIj5QbGFpbiBCdW5rZXI8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LnN0YXJ0RGF0ZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKG51bGwsICdzdGFydERhdGUnLCBlLnRhcmdldC52YWx1ZSwgdHJ1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtYXg9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LmVuZERhdGUgfHwgdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRpbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlPy5zdGFydFRpbWUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShudWxsLCAnc3RhcnRUaW1lJywgZS50YXJnZXQudmFsdWUsIHRydWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PXttYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlPy5zdGFydERhdGUgPT09IG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LmVuZERhdGUgPyBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlPy5lbmRUaW1lIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlPy5lbmREYXRlIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UobnVsbCwgJ2VuZERhdGUnLCBlLnRhcmdldC52YWx1ZSwgdHJ1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtaW49e2dldE1pbkVuZERhdGUobWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZSl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LmVuZFRpbWUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShudWxsLCAnZW5kVGltZScsIGUudGFyZ2V0LnZhbHVlLCB0cnVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj17Z2V0TWluRW5kVGltZShtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlKX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZT8udG90YWxIb3VycyB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkF1dG8tY2FsY1wiXHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LnJlbWFya3MgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShudWxsLCAncmVtYXJrcycsIGUudGFyZ2V0LnZhbHVlLCB0cnVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBZGQgcmVtYXJrcy4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0pO1xyXG5cclxuTWF0ZXJpYWxUYWJsZS5kaXNwbGF5TmFtZSA9ICdNYXRlcmlhbFRhYmxlJztcclxuXHJcbmZ1bmN0aW9uIEJhdGNoU2VsZWN0aW9uKHsgb25TZWxlY3RCYXRjaCwgbG9hZGluZywgZXJyb3IsIGluaXRpYWxCYXRjaE51bWJlciwgaW5pdGlhbEJhdGNoSWQgfSkge1xyXG4gIGNvbnN0IFtiYXRjaE51bWJlciwgc2V0QmF0Y2hOdW1iZXJdID0gdXNlU3RhdGUoaW5pdGlhbEJhdGNoTnVtYmVyIHx8ICcnKTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcclxuICBjb25zdCBoYXNMb2FkZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGluaXRpYWxCYXRjaE51bWJlciAmJiAhaGFzTG9hZGVkUmVmLmN1cnJlbnQgJiYgIWxvYWRpbmcpIHtcclxuICAgICAgc2V0QmF0Y2hOdW1iZXIoaW5pdGlhbEJhdGNoTnVtYmVyKTtcclxuICAgICAgaGFuZGxlTG9hZEJhdGNoKGluaXRpYWxCYXRjaE51bWJlciwgaW5pdGlhbEJhdGNoSWQpO1xyXG4gICAgICBoYXNMb2FkZWRSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfSwgW2luaXRpYWxCYXRjaE51bWJlciwgaW5pdGlhbEJhdGNoSWQsIGxvYWRpbmddKTtcclxuXHJcbiAgY29uc3QgZ2V0TWF0ZXJpYWxzRnJvbUJhdGNoID0gKGJhdGNoRGF0YSkgPT4ge1xyXG4gICAgY29uc3QgbWF0ZXJpYWxzID0gbmV3IFNldCgpO1xyXG4gICAgXHJcbiAgICBpZiAoYmF0Y2hEYXRhICYmIGJhdGNoRGF0YS5mb3JtdWxhdGlvbl9lbnRyaWVzKSB7XHJcbiAgICAgIGJhdGNoRGF0YS5mb3JtdWxhdGlvbl9lbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsTmFtZSA9IGVudHJ5Lm5hbWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICBpZiAoTUFURVJJQUxfVFlQRVNbbWF0ZXJpYWxOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBtYXRlcmlhbHMuYWRkKG1hdGVyaWFsTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIEFycmF5LmZyb20obWF0ZXJpYWxzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVMb2FkQmF0Y2ggPSBhc3luYyAoYmF0Y2hOdW0sIGJhdGNoSWQpID0+IHtcclxuICAgIGlmICghYmF0Y2hOdW0udHJpbSgpKSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdQbGVhc2UgZW50ZXIgYSBiYXRjaCBudW1iZXInKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBcclxuICAgICAgbGV0IHNlbGVjdGVkQmF0Y2ggPSBudWxsO1xyXG4gICAgICBsZXQgYmF0Y2hJZFRvVXNlID0gYmF0Y2hJZDtcclxuICAgICAgXHJcbiAgICAgIGlmIChiYXRjaElkVG9Vc2UpIHtcclxuICAgICAgICBjb25zdCBiYXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9iYXRjaGVzYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFiYXRjaFJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBiYXRjaGVzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJhdGNoUmVzdWx0ID0gYXdhaXQgYmF0Y2hSZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGJhdGNoZXMgPSBbXTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShiYXRjaFJlc3VsdCkpIHtcclxuICAgICAgICAgIGJhdGNoZXMgPSBiYXRjaFJlc3VsdDtcclxuICAgICAgICB9IGVsc2UgaWYgKGJhdGNoUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgIGJhdGNoZXMgPSBiYXRjaFJlc3VsdC5kYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZWN0ZWRCYXRjaCA9IGJhdGNoZXMuZmluZChiID0+IGIuaWQgPT09IGJhdGNoSWRUb1VzZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFzZWxlY3RlZEJhdGNoKSB7XHJcbiAgICAgICAgICBzZWxlY3RlZEJhdGNoID0gYmF0Y2hlcy5maW5kKGIgPT4gYi5iYXRjaF9udW1iZXIgPT09IGJhdGNoTnVtLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGJhdGNoUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2JhdGNoZXNgKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWJhdGNoUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGJhdGNoZXMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYmF0Y2hSZXN1bHQgPSBhd2FpdCBiYXRjaFJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgYmF0Y2hlcyA9IFtdO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJhdGNoUmVzdWx0KSkge1xyXG4gICAgICAgICAgYmF0Y2hlcyA9IGJhdGNoUmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmF0Y2hSZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgYmF0Y2hlcyA9IGJhdGNoUmVzdWx0LmRhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxlY3RlZEJhdGNoID0gYmF0Y2hlcy5maW5kKGIgPT4gYi5iYXRjaF9udW1iZXIgPT09IGJhdGNoTnVtLnRyaW0oKSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICghc2VsZWN0ZWRCYXRjaCkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKCdCYXRjaCBudW1iZXIgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICBjb25zdCBtYXRlcmlhbHMgPSBnZXRNYXRlcmlhbHNGcm9tQmF0Y2goc2VsZWN0ZWRCYXRjaCk7XHJcblxyXG4gICAgICBpZiAobWF0ZXJpYWxzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKCdObyBzdWl0YWJsZSBtYXRlcmlhbHMgKEJhZ2Fzc2UsIFdoZWF0IFN0cmF3LCBvciBQYWRkeSBTdHJhdykgZm91bmQgaW4gdGhpcyBiYXRjaCcpO1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgY29uc3QgbmV3QmF0Y2ggPSBjcmVhdGVFbXB0eUJhdGNoKGJhdGNoTnVtLCBtYXRlcmlhbHMsIHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBuZXdCYXRjaC5iYXRjaERhdGEgPSBzZWxlY3RlZEJhdGNoO1xyXG5cclxuICAgICAgY29uc3Qgc3RyYXdEYXRhUmVzdWx0ID0gYXdhaXQgZmV0Y2hCYXRjaERhdGEoc2VsZWN0ZWRCYXRjaC5pZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoc3RyYXdEYXRhUmVzdWx0LnN1Y2Nlc3MgJiYgc3RyYXdEYXRhUmVzdWx0LmRhdGEpIHtcclxuICAgICAgICBjb25zdCBwb3B1bGF0ZWRCYXRjaCA9IGNvbnZlcnRBcGlSZXNwb25zZVRvVUkoc3RyYXdEYXRhUmVzdWx0LmRhdGEsIG5ld0JhdGNoKTtcclxuICAgICAgICBvblNlbGVjdEJhdGNoKHBvcHVsYXRlZEJhdGNoKTtcclxuICAgICAgICB0b2FzdC5zdWNjZXNzKGBMb2FkZWQgYmF0Y2ggJHtiYXRjaE51bX0gd2l0aCBleGlzdGluZyBkYXRhICgke21hdGVyaWFscy5sZW5ndGh9IG1hdGVyaWFsIHRhYmxlJHttYXRlcmlhbHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSlgKTtcclxuICAgICAgfSBlbHNlIGlmIChzdHJhd0RhdGFSZXN1bHQuc3VjY2VzcyAmJiAhc3RyYXdEYXRhUmVzdWx0LmRhdGEpIHtcclxuICAgICAgICBvblNlbGVjdEJhdGNoKG5ld0JhdGNoKTtcclxuICAgICAgICB0b2FzdC5zdWNjZXNzKGBMb2FkZWQgYmF0Y2ggJHtiYXRjaE51bX0gKCR7bWF0ZXJpYWxzLmxlbmd0aH0gbWF0ZXJpYWwgdGFibGUke21hdGVyaWFscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IC0gbm8gZXhpc3RpbmcgZGF0YSlgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b2FzdC53YXJuaW5nKGBMb2FkZWQgYmF0Y2ggJHtiYXRjaE51bX0gYnV0IGZhaWxlZCB0byBmZXRjaCBleGlzdGluZyBkYXRhYCk7XHJcbiAgICAgICAgb25TZWxlY3RCYXRjaChuZXdCYXRjaCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgdG9hc3QuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgYmF0Y2ggZGV0YWlscy4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTmV3ID0gKCkgPT4ge1xyXG4gICAgaWYgKGlzTG9hZGluZyB8fCBsb2FkaW5nKSByZXR1cm47XHJcbiAgICBoYW5kbGVMb2FkQmF0Y2goYmF0Y2hOdW1iZXIpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUJhY2tDbGljayA9ICgpID0+IHtcclxuICAgIHJvdXRlci5wdXNoKCcvc29ha2luZycpO1xyXG4gICAgc2V0QmF0Y2hOdW1iZXIoJycpO1xyXG4gICAgaGFzTG9hZGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiYXRjaC1zZWxlY3Rpb25cIj5cclxuICAgICAgPGgyPlNvYWtpbmcgUHJvY2VzcyBFbnRyeTwvaDI+XHJcbiAgICAgIFxyXG4gICAgICB7ZXJyb3IgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiPlxyXG4gICAgICAgICAgRXJyb3I6IHtlcnJvcn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0aW9uLXBhbmVsXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctYmF0Y2gtc2VjdGlvblwiPlxyXG4gICAgICAgICAgPGgzPkVudGVyIEJhdGNoIE51bWJlcjwvaDM+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhdGNoLWlucHV0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIEJhdGNoIE51bWJlciAoZS5nLiwgQkFUQ0gtMDAxKVwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e2JhdGNoTnVtYmVyfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QmF0Y2hOdW1iZXIoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJhdGNoLWlucHV0XCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGxvYWRpbmd9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ3JlYXRlTmV3fSBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBsb2FkaW5nfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAge2lzTG9hZGluZyB8fCBsb2FkaW5nID8gJ0xvYWRpbmcuLi4nIDogJ0xvYWQgQmF0Y2gnfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNvYWtpbmdDb250ZW50KCkge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcclxuICBjb25zdCBbY3VycmVudEJhdGNoLCBzZXRDdXJyZW50QmF0Y2hdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW3NhdmVkQmF0Y2hlcywgc2V0U2F2ZWRCYXRjaGVzXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbaW5pdGlhbEJhdGNoTnVtYmVyLCBzZXRJbml0aWFsQmF0Y2hOdW1iZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW2luaXRpYWxCYXRjaElkLCBzZXRJbml0aWFsQmF0Y2hJZF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBpc1NhdmluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBiYXRjaE51bSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2JhdGNoJyk7XHJcbiAgICBjb25zdCBiYXRjaElkID0gc2VhcmNoUGFyYW1zLmdldCgnYmF0Y2hJZCcpO1xyXG4gICAgXHJcbiAgICBpZiAoYmF0Y2hOdW0pIHtcclxuICAgICAgc2V0SW5pdGlhbEJhdGNoTnVtYmVyKGJhdGNoTnVtKTtcclxuICAgICAgc2V0SW5pdGlhbEJhdGNoSWQoYmF0Y2hJZCk7XHJcbiAgICB9XHJcbiAgfSwgW3NlYXJjaFBhcmFtc10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVTZWxlY3RCYXRjaCA9IChiYXRjaCkgPT4ge1xyXG4gICAgc2V0Q3VycmVudEJhdGNoKGJhdGNoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVVcGRhdGVNYXRlcmlhbCA9IHVzZUNhbGxiYWNrKChpbmRleCwgdXBkYXRlZE1hdGVyaWFsKSA9PiB7XHJcbiAgICBzZXRDdXJyZW50QmF0Y2gocHJldkJhdGNoID0+IHtcclxuICAgICAgaWYgKCFwcmV2QmF0Y2gpIHJldHVybiBwcmV2QmF0Y2g7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRNYXRlcmlhbHMgPSBbLi4ucHJldkJhdGNoLm1hdGVyaWFsc107XHJcbiAgICAgIHVwZGF0ZWRNYXRlcmlhbHNbaW5kZXhdID0gdXBkYXRlZE1hdGVyaWFsO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnByZXZCYXRjaCxcclxuICAgICAgICBtYXRlcmlhbHM6IHVwZGF0ZWRNYXRlcmlhbHNcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTW92ZVRvUGxhaW5CdW5rZXJDaGFuZ2UgPSAodmFsdWUpID0+IHtcclxuICAgIHNldEN1cnJlbnRCYXRjaChwcmV2QmF0Y2ggPT4gKHtcclxuICAgICAgLi4ucHJldkJhdGNoLFxyXG4gICAgICBtb3ZlVG9QbGFpbkJ1bmtlcjogdmFsdWUgPT09ICd5ZXMnXHJcbiAgICB9KSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVCYXRjaERhdGEgPSAoYmF0Y2gsIGluY2x1ZGVQbGFpbkJ1bmtlciA9IGZhbHNlKSA9PiB7XHJcbiAgICBmb3IgKGNvbnN0IG1hdGVyaWFsIG9mIGJhdGNoLm1hdGVyaWFscykge1xyXG4gICAgICBmb3IgKGNvbnN0IHN1YnN0YWdlIG9mIG1hdGVyaWFsLnN1YnN0YWdlcykge1xyXG4gICAgICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lICYmIHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLnN0YXJ0RGF0ZX1UJHtzdWJzdGFnZS5zdGFydFRpbWV9YCk7XHJcbiAgICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLmVuZERhdGV9VCR7c3Vic3RhZ2UuZW5kVGltZX1gKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUgPiBlbmREYXRlVGltZSkge1xyXG4gICAgICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLSAke3N1YnN0YWdlLm5hbWV9OiBFbmQgZGF0ZS90aW1lIGNhbm5vdCBiZSBiZWZvcmUgc3RhcnQgZGF0ZS90aW1lYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKChzdWJzdGFnZS5zdGFydERhdGUgfHwgc3Vic3RhZ2Uuc3RhcnRUaW1lKSAmJiAoIXN1YnN0YWdlLnN0YXJ0RGF0ZSB8fCAhc3Vic3RhZ2Uuc3RhcnRUaW1lKSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYFBsZWFzZSBjb21wbGV0ZSBib3RoIGRhdGUgYW5kIHRpbWUgZm9yICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IC0gJHtzdWJzdGFnZS5uYW1lfSBzdGFydGApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHN1YnN0YWdlLmVuZERhdGUgfHwgc3Vic3RhZ2UuZW5kVGltZSkgJiYgKCFzdWJzdGFnZS5lbmREYXRlIHx8ICFzdWJzdGFnZS5lbmRUaW1lKSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYFBsZWFzZSBjb21wbGV0ZSBib3RoIGRhdGUgYW5kIHRpbWUgZm9yICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IC0gJHtzdWJzdGFnZS5uYW1lfSBlbmRgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICghdmFsaWRhdGVTdGFnZVNlcXVlbmNpbmcobWF0ZXJpYWwsIHRvYXN0KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGluY2x1ZGVQbGFpbkJ1bmtlciAmJiBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlKSB7XHJcbiAgICAgICAgY29uc3QgcGIgPSBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlO1xyXG4gICAgICAgIGNvbnN0IGhhc1BiRGF0YSA9IHBiLnN0YXJ0RGF0ZSB8fCBwYi5zdGFydFRpbWUgfHwgcGIuZW5kRGF0ZSB8fCBwYi5lbmRUaW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChoYXNQYkRhdGEpIHtcclxuICAgICAgICAgIGlmICgocGIuc3RhcnREYXRlICYmICFwYi5zdGFydFRpbWUpIHx8IChwYi5zdGFydFRpbWUgJiYgIXBiLnN0YXJ0RGF0ZSkpIHtcclxuICAgICAgICAgICAgdG9hc3QuZXJyb3IoYFBsZWFzZSBjb21wbGV0ZSBib3RoIGRhdGUgYW5kIHRpbWUgZm9yICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IC0gUGxhaW4gQnVua2VyIHN0YXJ0YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICgocGIuZW5kRGF0ZSAmJiAhcGIuZW5kVGltZSkgfHwgKHBiLmVuZFRpbWUgJiYgIXBiLmVuZERhdGUpKSB7XHJcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKGBQbGVhc2UgY29tcGxldGUgYm90aCBkYXRlIGFuZCB0aW1lIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtIFBsYWluIEJ1bmtlciBlbmRgKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHBiLnN0YXJ0RGF0ZSAmJiBwYi5zdGFydFRpbWUgJiYgcGIuZW5kRGF0ZSAmJiBwYi5lbmRUaW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtwYi5zdGFydERhdGV9VCR7cGIuc3RhcnRUaW1lfWApO1xyXG4gICAgICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3BiLmVuZERhdGV9VCR7cGIuZW5kVGltZX1gKTtcclxuICAgICAgICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUgPiBlbmREYXRlVGltZSkge1xyXG4gICAgICAgICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtIFBsYWluIEJ1bmtlcjogRW5kIGRhdGUvdGltZSBjYW5ub3QgYmUgYmVmb3JlIHN0YXJ0IGRhdGUvdGltZWApO1xyXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlTW92ZVRvUGxhaW5CdW5rZXIgPSAoYmF0Y2gpID0+IHtcclxuICBpZiAoYmF0Y2gubW92ZVRvUGxhaW5CdW5rZXIgPT09IGZhbHNlKSB7XHJcbiAgICBmb3IgKGNvbnN0IG1hdGVyaWFsIG9mIGJhdGNoLm1hdGVyaWFscykge1xyXG4gICAgICBjb25zdCBwYiA9IG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXBiLnN0YXJ0RGF0ZSkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogUGxhaW4gQnVua2VyIHJvdyBpcyByZXF1aXJlZCB3aGVuIHNlbGVjdGluZyBcIk5vXCJgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFwYi5zdGFydFRpbWUpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IFBsYWluIEJ1bmtlciBzdGFydCB0aW1lIGlzIHJlcXVpcmVkIHdoZW4gc2VsZWN0aW5nIFwiTm9cImApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXBiLmVuZERhdGUpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IFBsYWluIEJ1bmtlciBlbmQgZGF0ZSBpcyByZXF1aXJlZCB3aGVuIHNlbGVjdGluZyBcIk5vXCJgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFwYi5lbmRUaW1lKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBQbGFpbiBCdW5rZXIgZW5kIHRpbWUgaXMgcmVxdWlyZWQgd2hlbiBzZWxlY3RpbmcgXCJOb1wiYCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gbmV3IERhdGUoYCR7cGIuc3RhcnREYXRlfVQke3BiLnN0YXJ0VGltZX1gKTtcclxuICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtwYi5lbmREYXRlfVQke3BiLmVuZFRpbWV9YCk7XHJcbiAgICAgIGlmIChzdGFydERhdGVUaW1lID4gZW5kRGF0ZVRpbWUpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IFBsYWluIEJ1bmtlciBlbmQgZGF0ZS90aW1lIGNhbm5vdCBiZSBiZWZvcmUgc3RhcnQgZGF0ZS90aW1lYCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuICBjb25zdCBoYW5kbGVTYXZlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFjdXJyZW50QmF0Y2ggfHwgaXNTYXZpbmdSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuICAgICAgbGV0IGhhc0FueURhdGFUb1NhdmUgPSBmYWxzZTtcclxuICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XHJcbiAgICAgIGxldCBmYWlsQ291bnQgPSAwO1xyXG4gICAgICBcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBjdXJyZW50QmF0Y2gubWF0ZXJpYWxzW2ldO1xyXG5cclxuICAgICAgICBjb25zdCBpbmNsdWRlUGxhaW5CdW5rZXIgPSBjdXJyZW50QmF0Y2gubW92ZVRvUGxhaW5CdW5rZXIgPT09IGZhbHNlO1xyXG4gICAgICAgIGlmIChoYXNDb21wbGV0ZU1hdGVyaWFsRGF0YShtYXRlcmlhbCwgaW5jbHVkZVBsYWluQnVua2VyKSkge1xyXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGNvbnZlcnRUb0FwaVBheWxvYWQoY3VycmVudEJhdGNoLCBtYXRlcmlhbCwgZmFsc2UpO1xyXG4gICAgICAgICAgaWYgKHBheWxvYWQpIHtcclxuICAgICAgICAgICAgaGFzQW55RGF0YVRvU2F2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kVG9BcGkocGF5bG9hZCwgbWF0ZXJpYWwudHlwZSwgbWF0ZXJpYWwuZGlzcGxheU5hbWUpO1xyXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goeyAuLi5yZXN1bHQsIG1hdGVyaWFsSW5kZXg6IGksIG1hdGVyaWFsVHlwZTogbWF0ZXJpYWwudHlwZSB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xyXG4gICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5kYXRhICYmIHJlc3VsdC5kYXRhLmRhdGEuaWQpIHtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRCYXRjaChwcmV2QmF0Y2ggPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkTWF0ZXJpYWxzID0gWy4uLnByZXZCYXRjaC5tYXRlcmlhbHNdO1xyXG4gICAgICAgICAgICAgICAgICB1cGRhdGVkTWF0ZXJpYWxzW2ldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnVwZGF0ZWRNYXRlcmlhbHNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkSWQ6IHJlc3VsdC5kYXRhLmRhdGEuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzRXhpc3RpbmdEYXRhOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJldkJhdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsczogdXBkYXRlZE1hdGVyaWFsc1xyXG4gICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IGRhdGEgc2F2ZWQgc3VjY2Vzc2Z1bGx5IWApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGZhaWxDb3VudCsrO1xyXG4gICAgICAgICAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gc2F2ZSAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSBkYXRhOiAke3Jlc3VsdC5lcnJvcn1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWhhc0FueURhdGFUb1NhdmUpIHtcclxuICAgICAgICB0b2FzdC5pbmZvKCdObyBjb21wbGV0ZSBkYXRhIHRvIHNhdmUuIFBsZWFzZSBmaWxsIGluIGFsbCByZXF1aXJlZCBmaWVsZHMgZm9yIGF0IGxlYXN0IG9uZSBtYXRlcmlhbC4nKTtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gc2F2ZWRCYXRjaGVzLmZpbmRJbmRleChiID0+IGIuaWQgPT09IGN1cnJlbnRCYXRjaC5pZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5zYXZlZEJhdGNoZXNdO1xyXG4gICAgICAgIHVwZGF0ZWRbZXhpc3RpbmdJbmRleF0gPSB7IC4uLmN1cnJlbnRCYXRjaCwgc3RhdHVzOiAnZHJhZnQnIH07XHJcbiAgICAgICAgc2V0U2F2ZWRCYXRjaGVzKHVwZGF0ZWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldFNhdmVkQmF0Y2hlcyhbLi4uc2F2ZWRCYXRjaGVzLCB7IC4uLmN1cnJlbnRCYXRjaCwgc3RhdHVzOiAnZHJhZnQnIH1dKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgYWxsU3VjY2VzcyA9IHJlc3VsdHMuZXZlcnkociA9PiByLnN1Y2Nlc3MpO1xyXG4gICAgICBpZiAoYWxsU3VjY2Vzcykge1xyXG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYEFsbCAke3N1Y2Nlc3NDb3VudH0gbWF0ZXJpYWwgZGF0YSBzYXZlZCBzdWNjZXNzZnVsbHkhYCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9hc3Qud2FybmluZyhgJHtzdWNjZXNzQ291bnR9IG1hdGVyaWFsKHMpIHNhdmVkIHN1Y2Nlc3NmdWxseSwgJHtmYWlsQ291bnR9IGZhaWxlZGApO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0b2FzdC5lcnJvcignRmFpbGVkIHRvIHNhdmUgYmF0Y2ggZGF0YScpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCcgU2F2ZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuY29uc3QgaGFuZGxlTW92ZVRvUGxhaW5CdW5rZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgaWYgKCFjdXJyZW50QmF0Y2ggfHwgaXNTYXZpbmdSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gIFxyXG4gIGNvbnN0IGhhc0RhdGEgPSBjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLnNvbWUobWF0ZXJpYWwgPT5cclxuICAgIG1hdGVyaWFsLnN1YnN0YWdlcy5zb21lKGhhc1N1YnN0YWdlRGF0YSlcclxuICApO1xyXG4gIFxyXG4gIGlmICghaGFzRGF0YSkge1xyXG4gICAgdG9hc3QuZXJyb3IoJ1BsZWFzZSBlbnRlciBhdCBsZWFzdCBzb21lIGRhdGEgYmVmb3JlIG1vdmluZycpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaWYgKCF2YWxpZGF0ZU1vdmVUb1BsYWluQnVua2VyKGN1cnJlbnRCYXRjaCkpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuICAgIGxldCBoYXNBbnlEYXRhVG9TYXZlID0gZmFsc2U7XHJcbiAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcclxuICAgIGxldCBmYWlsQ291bnQgPSAwO1xyXG4gICAgXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRCYXRjaC5tYXRlcmlhbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgbWF0ZXJpYWwgPSBjdXJyZW50QmF0Y2gubWF0ZXJpYWxzW2ldO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgaW5jbHVkZVBsYWluQnVua2VyID0gY3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyID09PSBmYWxzZTtcclxuICAgICAgXHJcbiAgICAgIGlmIChjdXJyZW50QmF0Y2gubW92ZVRvUGxhaW5CdW5rZXIgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgcGIgPSBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlO1xyXG4gICAgICAgIGlmICghcGIuc3RhcnREYXRlIHx8ICFwYi5zdGFydFRpbWUgfHwgIXBiLmVuZERhdGUgfHwgIXBiLmVuZFRpbWUpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogUGxlYXNlIGNvbXBsZXRlIGFsbCBkYXRlL3RpbWUgZmllbGRzIGZvciBQbGFpbiBCdW5rZXJgKTtcclxuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGhhc0NvbXBsZXRlTWF0ZXJpYWxEYXRhKG1hdGVyaWFsLCBpbmNsdWRlUGxhaW5CdW5rZXIpKSB7XHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGNvbnZlcnRUb0FwaVBheWxvYWQoY3VycmVudEJhdGNoLCBtYXRlcmlhbCwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKHBheWxvYWQpIHtcclxuICAgICAgICAgIGhhc0FueURhdGFUb1NhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kVG9BcGkocGF5bG9hZCwgbWF0ZXJpYWwudHlwZSwgbWF0ZXJpYWwuZGlzcGxheU5hbWUpO1xyXG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHsgLi4ucmVzdWx0LCBtYXRlcmlhbEluZGV4OiBpLCBtYXRlcmlhbFR5cGU6IG1hdGVyaWFsLnR5cGUgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmRhdGEgJiYgcmVzdWx0LmRhdGEuZGF0YS5pZCkge1xyXG4gICAgICAgICAgICAgIHNldEN1cnJlbnRCYXRjaChwcmV2QmF0Y2ggPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZE1hdGVyaWFscyA9IFsuLi5wcmV2QmF0Y2gubWF0ZXJpYWxzXTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWRNYXRlcmlhbHNbaV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgIC4uLnVwZGF0ZWRNYXRlcmlhbHNbaV0sXHJcbiAgICAgICAgICAgICAgICAgIHJlY29yZElkOiByZXN1bHQuZGF0YS5kYXRhLmlkLFxyXG4gICAgICAgICAgICAgICAgICBoYXNFeGlzdGluZ0RhdGE6IHRydWVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAuLi5wcmV2QmF0Y2gsXHJcbiAgICAgICAgICAgICAgICAgIG1hdGVyaWFsczogdXBkYXRlZE1hdGVyaWFsc1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmFpbENvdW50Kys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gaGFzIGluY29tcGxldGUgZGF0YSwgc2tpcHBpbmdgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghaGFzQW55RGF0YVRvU2F2ZSkge1xyXG4gICAgICB0b2FzdC5pbmZvKCdObyBjb21wbGV0ZSBkYXRhIHRvIHNhdmUuIFBsZWFzZSBmaWxsIGluIGFsbCByZXF1aXJlZCBmaWVsZHMgZm9yIGF0IGxlYXN0IG9uZSBtYXRlcmlhbC4nKTtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChmYWlsQ291bnQgPiAwKSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gc2F2ZSAke2ZhaWxDb3VudH0gbWF0ZXJpYWwocykuIENhbm5vdCBwcm9jZWVkIHRvIFBsYWluIEJ1bmtlci5gKTtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJhdGNoVXBkYXRlUmVzdWx0ID0gYXdhaXQgdXBkYXRlQmF0Y2hQbGFpbkJ1bmtlclN0YXR1cyhcclxuICAgICAgY3VycmVudEJhdGNoLmlkLCBcclxuICAgICAgY3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChiYXRjaFVwZGF0ZVJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoYEJhdGNoIG1vdmVkIHRvIFBsYWluIEJ1bmtlciBzdWNjZXNzZnVsbHkgd2l0aCBzdGF0dXM6ICR7Y3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyID8gJ1llcycgOiAnTm8nfWApO1xyXG4gICAgICBcclxuICAgICAgc2V0Q3VycmVudEJhdGNoKG51bGwpO1xyXG4gICAgICByb3V0ZXIucHVzaCgnL3VuaWZpZWQtcGxhdGZvcm0nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIGJhdGNoIHN0YXR1czogJHtiYXRjaFVwZGF0ZVJlc3VsdC5lcnJvcn1gKTtcclxuICAgIH1cclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRvYXN0LmVycm9yKCdGYWlsZWQgdG8gbW92ZSBiYXRjaCB0byBQbGFpbiBCdW5rZXInKTtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBNb3ZlIGVycm9yOicsIGVycm9yKTtcclxuICB9IGZpbmFsbHkge1xyXG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgfSwgMTAwMCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQmFja1RvU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gIC8vIENsZWFyIHRoZSBjdXJyZW50IGJhdGNoIHRvIHNob3cgdGhlIHNlbGVjdGlvbiBVSVxyXG4gIHNldEN1cnJlbnRCYXRjaChudWxsKTtcclxuICAvLyBDbGVhciBVUkwgcGFyYW1zIHdoZW4gZ29pbmcgYmFja1xyXG4gIHJvdXRlci5wdXNoKCcvc29ha2luZycpO1xyXG4gIC8vIENsZWFyIGFueSBzYXZlZCBzdGF0ZVxyXG4gIHNldEVycm9yKG51bGwpO1xyXG4gIC8vIFJlc2V0IHRoZSBpbml0aWFsIGJhdGNoIG51bWJlciBzdGF0ZSBpZiBuZWVkZWRcclxuICBzZXRJbml0aWFsQmF0Y2hOdW1iZXIobnVsbCk7XHJcbiAgc2V0SW5pdGlhbEJhdGNoSWQobnVsbCk7XHJcbn07XHJcblxyXG4gIGlmICghY3VycmVudEJhdGNoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8QXBwTGF5b3V0IHRpdGxlPVwiU29ha2luZyBQcm9jZXNzXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzb2FraW5nLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgPEJhdGNoU2VsZWN0aW9uIFxyXG4gICAgICAgICAgICBvblNlbGVjdEJhdGNoPXtoYW5kbGVTZWxlY3RCYXRjaH1cclxuICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cclxuICAgICAgICAgICAgZXJyb3I9e2Vycm9yfVxyXG4gICAgICAgICAgICBpbml0aWFsQmF0Y2hOdW1iZXI9e2luaXRpYWxCYXRjaE51bWJlcn1cclxuICAgICAgICAgICAgaW5pdGlhbEJhdGNoSWQ9e2luaXRpYWxCYXRjaElkfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9BcHBMYXlvdXQ+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxBcHBMYXlvdXQgdGl0bGU9XCJTb2FraW5nIFByb2Nlc3NcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzb2FraW5nLWNvbnRhaW5lclwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW50cnktaGVhZGVyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlci1sZWZ0XCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQmFja1RvU2VsZWN0aW9ufSBjbGFzc05hbWU9XCJiYWNrLWJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgIDxBcnJvd0JhY2tJY29uLz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxoMj57Y3VycmVudEJhdGNoLmJhdGNoTnVtYmVyfTwvaDI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWNvdW50XCI+XHJcbiAgICAgICAgICAgICAgKHtjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLmxlbmd0aH0gbWF0ZXJpYWwgdGFibGV7Y3VycmVudEJhdGNoLm1hdGVyaWFscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9KVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWFjdGlvbnNcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb3ZlLXRvLXBsYWluLWJ1bmtlci1kcm9wZG93blwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicGxhaW5CdW5rZXJTZWxlY3RcIj5Nb3ZlIHRvIFBsYWluIEJ1bmtlcjo8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgICAgIGlkPVwicGxhaW5CdW5rZXJTZWxlY3RcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e2N1cnJlbnRCYXRjaC5tb3ZlVG9QbGFpbkJ1bmtlciA9PT0gdHJ1ZSA/ICd5ZXMnIDogY3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyID09PSBmYWxzZSA/ICdubycgOiAnJ31cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlTW92ZVRvUGxhaW5CdW5rZXJDaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGxhaW4tYnVua2VyLXNlbGVjdFwiXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCIgZGlzYWJsZWQ+U2VsZWN0PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwieWVzXCI+WWVzPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibm9cIj5Obzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlfSBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tc2F2ZVwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJzbWFsbFwiIC8+XHJcbiAgICAgICAgICAgICAge2xvYWRpbmcgPyAnU2F2aW5nLi4uJyA6ICdTYXZlJ31cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTW92ZVRvUGxhaW5CdW5rZXJ9IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1tb3ZlXCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZyB8fCBjdXJyZW50QmF0Y2gubW92ZVRvUGxhaW5CdW5rZXIgPT09IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxBcnJvd0ZvcndhcmRJY29uIGZvbnRTaXplPVwic21hbGxcIiAvPlxyXG4gICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1Byb2Nlc3NpbmcuLi4nIDogJ01vdmUgdG8gUGxhaW4gQnVua2VyJ31cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAge2N1cnJlbnRCYXRjaC5tYXRlcmlhbHMubWFwKChtYXRlcmlhbCwgaW5kZXgpID0+IChcclxuICAgICAgICAgIDxNYXRlcmlhbFRhYmxlIFxyXG4gICAgICAgICAgICBrZXk9e2Ake21hdGVyaWFsLnR5cGV9LSR7aW5kZXh9LSR7bWF0ZXJpYWwucmVjb3JkSWQgfHwgJ25ldyd9YH1cclxuICAgICAgICAgICAgbWF0ZXJpYWw9e21hdGVyaWFsfVxyXG4gICAgICAgICAgICBvblVwZGF0ZT17KHVwZGF0ZWQpID0+IGhhbmRsZVVwZGF0ZU1hdGVyaWFsKGluZGV4LCB1cGRhdGVkKX1cclxuICAgICAgICAgICAgc2hvd1BsYWluQnVua2VyPXtjdXJyZW50QmF0Y2gubW92ZVRvUGxhaW5CdW5rZXIgPT09IGZhbHNlfVxyXG4gICAgICAgICAgICByZWFkT25seT17ZmFsc2V9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICkpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvQXBwTGF5b3V0PlxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNvYWtpbmcoKSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxUb2FzdFByb3ZpZGVyPlxyXG4gICAgICA8U29ha2luZ0NvbnRlbnQgLz5cclxuICAgIDwvVG9hc3RQcm92aWRlcj5cclxuICApO1xyXG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZVJvdXRlciIsInVzZVNlYXJjaFBhcmFtcyIsIkFwcExheW91dCIsIlRvYXN0UHJvdmlkZXIiLCJ1c2VUb2FzdCIsIlNhdmVJY29uIiwiQXJyb3dGb3J3YXJkSWNvbiIsIkFycm93QmFja0ljb24iLCJNQVRFUklBTF9UWVBFUyIsIk1BVEVSSUFMX0RJU1BMQVlfTkFNRVMiLCJBUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkFQSV9FTkRQT0lOVCIsIkFQSV9GRVRDSF9FTkRQT0lOVCIsIkJBVENIX1VQREFURV9FTkRQT0lOVCIsIlNUQUdFX05BTUVTIiwiUExBSU5fQlVOS0VSX1NUQUdFIiwiY3JlYXRlRW1wdHlTdWJzdGFnZSIsIm5hbWUiLCJzdGFydERhdGUiLCJzdGFydFRpbWUiLCJlbmREYXRlIiwiZW5kVGltZSIsInRvdGFsSG91cnMiLCJyZW1hcmtzIiwiY3JlYXRlRW1wdHlCYXRjaCIsImJhdGNoTnVtYmVyIiwibWF0ZXJpYWxzIiwiYmF0Y2hJZCIsImJhdGNoIiwiaWQiLCJEYXRlIiwibm93IiwiYmF0Y2hEYXRhIiwiZXhpc3RpbmdSZWNvcmRzIiwibW92ZVRvUGxhaW5CdW5rZXIiLCJ1bmRlZmluZWQiLCJmb3JFYWNoIiwibWF0ZXJpYWwiLCJhcGlTdHJhd1R5cGUiLCJwdXNoIiwidHlwZSIsImRpc3BsYXlOYW1lIiwicmVjb3JkSWQiLCJoYXNFeGlzdGluZ0RhdGEiLCJzdWJzdGFnZXMiLCJtYXAiLCJwbGFpbkJ1bmtlclN1YnN0YWdlIiwicGFyc2VEYXRlVGltZSIsImRhdGV0aW1lIiwiZGF0ZSIsInRpbWUiLCJpc05hTiIsImdldFRpbWUiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aCIsIlN0cmluZyIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJnZXREYXRlIiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnV0ZXMiLCJnZXRNaW51dGVzIiwiZXJyb3IiLCJjb25zb2xlIiwiY2FsY3VsYXRlSG91cnMiLCJzdGFydERhdGVUaW1lIiwiZW5kRGF0ZVRpbWUiLCJzdGFydCIsImVuZCIsImRpZmZIb3VycyIsInRvRml4ZWQiLCJmZXRjaEJhdGNoRGF0YSIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInN0YXR1cyIsInN1Y2Nlc3MiLCJkYXRhIiwiRXJyb3IiLCJyZXNwb25zZURhdGEiLCJqc29uIiwiaXRlbXMiLCJBcnJheSIsImlzQXJyYXkiLCJiYXRjaF9pZCIsIm1lc3NhZ2UiLCJjb21iaW5lRGF0ZVRpbWUiLCJkYXRlVGltZVN0ciIsInRvSVNPU3RyaW5nIiwiaGFzU3Vic3RhZ2VEYXRhIiwic3Vic3RhZ2UiLCJ2YWxpZGF0ZVN0YWdlU2VxdWVuY2luZyIsInRvYXN0IiwiaSIsImxlbmd0aCIsImN1cnJlbnRTdGFnZSIsIm5leHRTdGFnZSIsImN1cnJlbnRFbmQiLCJuZXh0U3RhcnQiLCJoYXNDb21wbGV0ZU1hdGVyaWFsRGF0YSIsImluY2x1ZGVQbGFpbkJ1bmtlciIsImhhc01haW5EYXRhIiwic29tZSIsInBiIiwiaGFzUGJEYXRhIiwidmFsaWRhdGVQbGFpbkJ1bmtlckRhdGEiLCJjb252ZXJ0VG9BcGlQYXlsb2FkIiwiaXNDb21wbGV0ZWQiLCJzb2FraW5nIiwic29ha2luZ1Jlc3QiLCJyZXNvYWtpbmdPbmUiLCJyZXNvYWtpbmdSZXN0IiwicmVzb2FraW5nVHdvIiwicmVzb2FraW5nVHdvUmVzdCIsInBsYWluQnVua2VyIiwiZm9ybWF0RGF0ZVRpbWUiLCJzZWNvbmRzIiwiZ2V0U2Vjb25kcyIsInNvYWtpbmdfc3RhcnQiLCJzb2FraW5nX2VuZCIsInNvYWtpbmdfcmVzdF9zdGFydCIsInNvYWtpbmdfcmVzdF9lbmQiLCJyZXNvYWtpbmdfb25lX3N0YXJ0IiwicmVzb2FraW5nX29uZV9lbmQiLCJyZXNvYWtpbmdfcmVzdF9zdGFydCIsInJlc29ha2luZ19yZXN0X2VuZCIsInJlc29ha2luZ190d29fc3RhcnQiLCJyZXNvYWtpbmdfdHdvX2VuZCIsInJlc29ha2luZ190d29fcmVzdF9zdGFydCIsInJlc29ha2luZ190d29fcmVzdF9lbmQiLCJwbGFpbl9idW5rZXJfc3RhcnQiLCJwbGFpbl9idW5rZXJfZW5kIiwicGF5bG9hZCIsInN0cmF3X3R5cGUiLCJzdGFydF90aW1lIiwiZW5kX3RpbWUiLCJpc2NvbXBsZXRlZCIsInNvYWtpbmdfcmVzdCIsInJlc29ha2luZ19vbmUiLCJyZXNvYWtpbmdfcmVzdCIsInJlc29ha2luZ190d28iLCJyZXNvYWtpbmdfdHdvX3Jlc3QiLCJwbGFpbl9idW5rZXIiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiaGFzVmFsaWRGaWVsZCIsInN1YktleSIsImNvbnZlcnRBcGlSZXNwb25zZVRvVUkiLCJhcGlEYXRhIiwibWF0ZXJpYWxEYXRhIiwiZmluZCIsImQiLCJzdWJzdGFnZU1hcHBpbmciLCJtYXBwaW5nIiwiaW5kZXgiLCJkdXJhdGlvbl9ob3VycyIsInRvU3RyaW5nIiwicGJEYXRhIiwic2VuZFRvQXBpIiwibWF0ZXJpYWxUeXBlIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3JEYXRhIiwiY2F0Y2giLCJkZXRhaWwiLCJlcnJvck1lc3NhZ2UiLCJlcnIiLCJtc2ciLCJqb2luIiwicmVzdWx0IiwidXBkYXRlQmF0Y2hQbGFpbkJ1bmtlclN0YXR1cyIsInVybCIsInBsYWluX2J1bmtlcl9taXhlZCIsIk1hdGVyaWFsVGFibGUiLCJtZW1vIiwib25VcGRhdGUiLCJzaG93UGxhaW5CdW5rZXIiLCJyZWFkT25seSIsInZhbGlkYXRlRGF0ZVJhbmdlIiwiZmllbGQiLCJuZXdWYWx1ZSIsImN1cnJlbnRTdWJzdGFnZSIsImlzUGxhaW5CdW5rZXIiLCJuZXdTdGFydERhdGVUaW1lIiwibmV3RW5kRGF0ZVRpbWUiLCJ2YWxpZGF0ZVN0YWdlU2VxdWVuY2UiLCJ2YWx1ZSIsInVwZGF0ZWRNYXRlcmlhbCIsInRlbXBTdWJzdGFnZSIsInN0YWdlSW5kZXgiLCJwcmV2U3RhZ2UiLCJwcmV2RW5kIiwiY3VycmVudFN0YXJ0IiwiZ2V0TWluRW5kRGF0ZSIsImdldE1pbkVuZFRpbWUiLCJoYW5kbGVJbnB1dENoYW5nZSIsImdldFRhYmxlVGl0bGUiLCJkaXYiLCJjbGFzc05hbWUiLCJoMyIsInRhYmxlIiwidGhlYWQiLCJ0ciIsInRoIiwicm93U3BhbiIsImNvbFNwYW4iLCJ0Ym9keSIsInRkIiwiaW5wdXQiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJkaXNhYmxlZCIsIm1heCIsIm1pbiIsInBsYWNlaG9sZGVyIiwiQmF0Y2hTZWxlY3Rpb24iLCJvblNlbGVjdEJhdGNoIiwibG9hZGluZyIsImluaXRpYWxCYXRjaE51bWJlciIsImluaXRpYWxCYXRjaElkIiwic2V0QmF0Y2hOdW1iZXIiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJyb3V0ZXIiLCJzZWFyY2hQYXJhbXMiLCJoYXNMb2FkZWRSZWYiLCJjdXJyZW50IiwiaGFuZGxlTG9hZEJhdGNoIiwiZ2V0TWF0ZXJpYWxzRnJvbUJhdGNoIiwiU2V0IiwiZm9ybXVsYXRpb25fZW50cmllcyIsImVudHJ5IiwibWF0ZXJpYWxOYW1lIiwidG9VcHBlckNhc2UiLCJhZGQiLCJmcm9tIiwiYmF0Y2hOdW0iLCJ0cmltIiwic2VsZWN0ZWRCYXRjaCIsImJhdGNoSWRUb1VzZSIsImJhdGNoUmVzcG9uc2UiLCJiYXRjaFJlc3VsdCIsImJhdGNoZXMiLCJiIiwiYmF0Y2hfbnVtYmVyIiwibmV3QmF0Y2giLCJzdHJhd0RhdGFSZXN1bHQiLCJwb3B1bGF0ZWRCYXRjaCIsIndhcm5pbmciLCJoYW5kbGVDcmVhdGVOZXciLCJoYW5kbGVCYWNrQ2xpY2siLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJTb2FraW5nQ29udGVudCIsImN1cnJlbnRCYXRjaCIsInNldEN1cnJlbnRCYXRjaCIsInNhdmVkQmF0Y2hlcyIsInNldFNhdmVkQmF0Y2hlcyIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInNldEluaXRpYWxCYXRjaE51bWJlciIsInNldEluaXRpYWxCYXRjaElkIiwiaXNTYXZpbmdSZWYiLCJnZXQiLCJoYW5kbGVTZWxlY3RCYXRjaCIsImhhbmRsZVVwZGF0ZU1hdGVyaWFsIiwicHJldkJhdGNoIiwidXBkYXRlZE1hdGVyaWFscyIsImhhbmRsZU1vdmVUb1BsYWluQnVua2VyQ2hhbmdlIiwidmFsaWRhdGVCYXRjaERhdGEiLCJ2YWxpZGF0ZU1vdmVUb1BsYWluQnVua2VyIiwiaGFuZGxlU2F2ZSIsInJlc3VsdHMiLCJoYXNBbnlEYXRhVG9TYXZlIiwic3VjY2Vzc0NvdW50IiwiZmFpbENvdW50IiwibWF0ZXJpYWxJbmRleCIsImluZm8iLCJleGlzdGluZ0luZGV4IiwiZmluZEluZGV4IiwidXBkYXRlZCIsImFsbFN1Y2Nlc3MiLCJldmVyeSIsInIiLCJzZXRUaW1lb3V0IiwiaGFuZGxlTW92ZVRvUGxhaW5CdW5rZXIiLCJoYXNEYXRhIiwibG9nIiwiYmF0Y2hVcGRhdGVSZXN1bHQiLCJoYW5kbGVCYWNrVG9TZWxlY3Rpb24iLCJ0aXRsZSIsInNwYW4iLCJsYWJlbCIsImh0bWxGb3IiLCJzZWxlY3QiLCJvcHRpb24iLCJmb250U2l6ZSIsIlNvYWtpbmciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(pages)/soaking/page.jsx\n"));

/***/ })

});