"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(pages)/soaking/page",{

/***/ "(app-pages-browser)/./app/(pages)/soaking/page.jsx":
/*!**************************************!*\
  !*** ./app/(pages)/soaking/page.jsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Soaking)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/AppLayout */ \"(app-pages-browser)/./app/components/AppLayout.jsx\");\n/* harmony import */ var _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/common/Toaster */ \"(app-pages-browser)/./app/components/common/Toaster.jsx\");\n/* harmony import */ var _styles_pages_soaking_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../styles/pages/soaking.css */ \"(app-pages-browser)/./app/styles/pages/soaking.css\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/Save */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_ArrowForward__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/icons-material/ArrowForward */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowForward.js\");\n/* harmony import */ var _mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/ArrowBack */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowBack.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst MATERIAL_TYPES = {\n    'BAGASSE': 'BAGASSE',\n    'WHEAT STRAW': 'WHEAT',\n    'PADDY STRAW': 'PADDY'\n};\nconst MATERIAL_DISPLAY_NAMES = {\n    'BAGASSE': 'Bagasse',\n    'WHEAT': 'Wheat Straw',\n    'PADDY': 'Paddy Straw'\n};\nconst API_BASE_URL = \"http://192.168.1.148:8000\";\nconst API_ENDPOINT = \"\".concat(API_BASE_URL, \"/straw-preparation-log\");\nconst API_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/straw-preparation-log/straws\");\nconst BATCH_UPDATE_ENDPOINT = \"\".concat(API_BASE_URL, \"/batches\");\nconst STAGE_NAMES = [\n    \"Soaking\",\n    \"Soaking Rest\",\n    \"Re Soaking 1\",\n    \"Re Soaking 1 Rest\",\n    \"Re Soaking 2\",\n    \"Re Soaking 2 Rest\"\n];\nconst PLAIN_BUNKER_STAGE = \"Plain Bunker\";\nconst createEmptySubstage = (name)=>({\n        name: name,\n        startDate: '',\n        startTime: '',\n        endDate: '',\n        endTime: '',\n        totalHours: '',\n        remarks: ''\n    });\nconst createEmptyBatch = function(batchNumber) {\n    let materials = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], batchId = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n    const batch = {\n        id: batchId || Date.now(),\n        batchNumber: batchNumber,\n        materials: [],\n        batchData: null,\n        existingRecords: {},\n        moveToPlainBunker: undefined\n    };\n    materials.forEach((material)=>{\n        const apiStrawType = MATERIAL_TYPES[material];\n        if (apiStrawType !== undefined) {\n            batch.materials.push({\n                type: apiStrawType,\n                name: material,\n                displayName: MATERIAL_DISPLAY_NAMES[apiStrawType] || material,\n                recordId: null,\n                hasExistingData: false,\n                substages: STAGE_NAMES.map((name)=>createEmptySubstage(name)),\n                plainBunkerSubstage: createEmptySubstage(PLAIN_BUNKER_STAGE)\n            });\n        }\n    });\n    return batch;\n};\nconst parseDateTime = (datetime)=>{\n    if (!datetime) return {\n        date: '',\n        time: ''\n    };\n    try {\n        const date = new Date(datetime);\n        if (isNaN(date.getTime())) return {\n            date: '',\n            time: ''\n        };\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        const hours = String(date.getHours()).padStart(2, '0');\n        const minutes = String(date.getMinutes()).padStart(2, '0');\n        return {\n            date: \"\".concat(year, \"-\").concat(month, \"-\").concat(day),\n            time: \"\".concat(hours, \":\").concat(minutes)\n        };\n    } catch (error) {\n        console.error('Error parsing datetime:', error);\n        return {\n            date: '',\n            time: ''\n        };\n    }\n};\nconst calculateHours = (startDateTime, endDateTime)=>{\n    if (!startDateTime || !endDateTime) return '';\n    try {\n        const start = new Date(startDateTime);\n        const end = new Date(endDateTime);\n        if (isNaN(start.getTime()) || isNaN(end.getTime())) return '';\n        const diffHours = (end - start) / (1000 * 60 * 60);\n        return diffHours.toFixed(1);\n    } catch (error) {\n        return '';\n    }\n};\nconst fetchBatchData = async (batchId)=>{\n    try {\n        const response = await fetch(\"\".concat(API_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            if (response.status === 404) {\n                return {\n                    success: true,\n                    data: null\n                };\n            }\n            throw new Error(\"Failed to fetch batch data: \".concat(response.status));\n        }\n        const responseData = await response.json();\n        if (responseData.success && responseData.data && responseData.data.items) {\n            return {\n                success: true,\n                data: responseData.data.items\n            };\n        }\n        if (responseData.data && Array.isArray(responseData.data)) {\n            return {\n                success: true,\n                data: responseData.data\n            };\n        }\n        if (Array.isArray(responseData)) {\n            return {\n                success: true,\n                data: responseData\n            };\n        }\n        if (responseData.id || responseData.batch_id) {\n            return {\n                success: true,\n                data: [\n                    responseData\n                ]\n            };\n        }\n        return {\n            success: true,\n            data: null\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching batch data:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst combineDateTime = (date, time)=>{\n    if (!date || !time) return null;\n    try {\n        const dateTimeStr = \"\".concat(date, \"T\").concat(time, \":00\");\n        const datetime = new Date(dateTimeStr);\n        if (isNaN(datetime.getTime())) return null;\n        return datetime.toISOString();\n    } catch (error) {\n        console.error('Error combining datetime:', error);\n        return null;\n    }\n};\nconst hasSubstageData = (substage)=>{\n    return substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.remarks;\n};\nconst validateStageSequencing = (material, toast)=>{\n    for(let i = 0; i < material.substages.length - 1; i++){\n        const currentStage = material.substages[i];\n        const nextStage = material.substages[i + 1];\n        if (!currentStage.endDate || !currentStage.endTime || !nextStage.startDate || !nextStage.startTime) {\n            continue;\n        }\n        const currentEnd = combineDateTime(currentStage.endDate, currentStage.endTime);\n        const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n        if (currentEnd && nextStart) {\n            if (new Date(currentEnd) > new Date(nextStart)) {\n                toast.error(\"\".concat(material.displayName, \": \").concat(nextStage.name, \" must start after \").concat(currentStage.name, \" ends\"));\n                return false;\n            }\n        }\n    }\n    return true;\n};\nconst hasCompleteMaterialData = function(material) {\n    let includePlainBunker = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    const hasMainData = material.substages.some((substage)=>substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.remarks);\n    if (!hasMainData && !includePlainBunker) {\n        return false;\n    }\n    // Check main substages for completeness\n    for (const substage of material.substages){\n        if (substage.startDate && !substage.startTime) {\n            return false;\n        }\n        if (substage.startTime && !substage.startDate) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete tart data in \").concat(substage.name, \" (time without date)\"));\n            return false;\n        }\n        if (substage.endDate && !substage.endTime) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete end data in \").concat(substage.name, \" (date without time)\"));\n            return false;\n        }\n        if (substage.endTime && !substage.endDate) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete end data in \").concat(substage.name, \" (time without date)\"));\n            return false;\n        }\n    }\n    // If includePlainBunker is true, check plain bunker substage\n    if (includePlainBunker && material.plainBunkerSubstage) {\n        const pb = material.plainBunkerSubstage;\n        // Check if plain bunker has any data\n        const hasPbData = pb.startDate || pb.startTime || pb.endDate || pb.endTime || pb.remarks;\n        if (hasPbData) {\n            // Validate completeness\n            if (pb.startDate && !pb.startTime) return false;\n            if (pb.startTime && !pb.startDate) return false;\n            if (pb.endDate && !pb.endTime) return false;\n            if (pb.endTime && !pb.endDate) return false;\n            // Validate date range if both dates present\n            if (pb.startDate && pb.startTime && pb.endDate && pb.endTime) {\n                const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n                const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n                if (startDateTime > endDateTime) return false;\n            }\n        }\n    }\n    console.log(\"âœ… \".concat(material.displayName, \": Has valid data to save\"));\n    return true;\n};\nconst validatePlainBunkerData = (material)=>{\n    const pb = material.plainBunkerSubstage;\n    if (!pb) return true;\n    // Check if plain bunker stage has complete data (date and time both present)\n    const hasPbData = pb.startDate || pb.startTime || pb.endDate || pb.endTime;\n    if (hasPbData) {\n        // Validate start fields\n        if (pb.startDate && !pb.startTime) return false;\n        if (pb.startTime && !pb.startDate) return false;\n        // Validate end fields\n        if (pb.endDate && !pb.endTime) return false;\n        if (pb.endTime && !pb.endDate) return false;\n        // Validate date range\n        if (pb.startDate && pb.startTime && pb.endDate && pb.endTime) {\n            const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n            const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n            if (startDateTime > endDateTime) return false;\n        }\n    }\n    return true;\n};\nconst convertToApiPayload = (batch, material, isCompleted)=>{\n    if (!material) return null;\n    const soaking = material.substages[0] || createEmptySubstage(\"Soaking\");\n    const soakingRest = material.substages[1] || createEmptySubstage(\"Soaking Rest\");\n    const resoakingOne = material.substages[2] || createEmptySubstage(\"Re Soaking 1\");\n    const resoakingRest = material.substages[3] || createEmptySubstage(\"Re Soaking 1 Rest\");\n    const resoakingTwo = material.substages[4] || createEmptySubstage(\"Re Soaking 2\");\n    const resoakingTwoRest = material.substages[5] || createEmptySubstage(\"Re Soaking 2 Rest\");\n    const plainBunker = material.plainBunkerSubstage || createEmptySubstage(\"Plain Bunker\");\n    // Helper function to format datetime without milliseconds and timezone\n    const formatDateTime = (dateTimeStr)=>{\n        if (!dateTimeStr) return null;\n        try {\n            const date = new Date(dateTimeStr);\n            if (isNaN(date.getTime())) return null;\n            const year = date.getFullYear();\n            const month = String(date.getMonth() + 1).padStart(2, '0');\n            const day = String(date.getDate()).padStart(2, '0');\n            const hours = String(date.getHours()).padStart(2, '0');\n            const minutes = String(date.getMinutes()).padStart(2, '0');\n            const seconds = String(date.getSeconds()).padStart(2, '0');\n            return \"\".concat(year, \"-\").concat(month, \"-\").concat(day, \"T\").concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n        } catch (error) {\n            console.error('Error formatting datetime:', error);\n            return null;\n        }\n    };\n    // Only combine dates if both date and time exist\n    const soaking_start = soaking.startDate && soaking.startTime ? combineDateTime(soaking.startDate, soaking.startTime) : null;\n    const soaking_end = soaking.endDate && soaking.endTime ? combineDateTime(soaking.endDate, soaking.endTime) : null;\n    const soaking_rest_start = soakingRest.startDate && soakingRest.startTime ? combineDateTime(soakingRest.startDate, soakingRest.startTime) : null;\n    const soaking_rest_end = soakingRest.endDate && soakingRest.endTime ? combineDateTime(soakingRest.endDate, soakingRest.endTime) : null;\n    const resoaking_one_start = resoakingOne.startDate && resoakingOne.startTime ? combineDateTime(resoakingOne.startDate, resoakingOne.startTime) : null;\n    const resoaking_one_end = resoakingOne.endDate && resoakingOne.endTime ? combineDateTime(resoakingOne.endDate, resoakingOne.endTime) : null;\n    const resoaking_rest_start = resoakingRest.startDate && resoakingRest.startTime ? combineDateTime(resoakingRest.startDate, resoakingRest.startTime) : null;\n    const resoaking_rest_end = resoakingRest.endDate && resoakingRest.endTime ? combineDateTime(resoakingRest.endDate, resoakingRest.endTime) : null;\n    const resoaking_two_start = resoakingTwo.startDate && resoakingTwo.startTime ? combineDateTime(resoakingTwo.startDate, resoakingTwo.startTime) : null;\n    const resoaking_two_end = resoakingTwo.endDate && resoakingTwo.endTime ? combineDateTime(resoakingTwo.endDate, resoakingTwo.endTime) : null;\n    const resoaking_two_rest_start = resoakingTwoRest.startDate && resoakingTwoRest.startTime ? combineDateTime(resoakingTwoRest.startDate, resoakingTwoRest.startTime) : null;\n    const resoaking_two_rest_end = resoakingTwoRest.endDate && resoakingTwoRest.endTime ? combineDateTime(resoakingTwoRest.endDate, resoakingTwoRest.endTime) : null;\n    const plain_bunker_start = plainBunker.startDate && plainBunker.startTime ? combineDateTime(plainBunker.startDate, plainBunker.startTime) : null;\n    const plain_bunker_end = plainBunker.endDate && plainBunker.endTime ? combineDateTime(plainBunker.endDate, plainBunker.endTime) : null;\n    const apiStrawType = material.type;\n    // Format all datetime fields to match the expected format\n    const payload = {\n        batch_id: batch.id,\n        straw_type: apiStrawType,\n        start_time: formatDateTime(soaking_start),\n        end_time: formatDateTime(resoaking_two_rest_end || plain_bunker_end),\n        iscompleted: isCompleted,\n        soaking: {\n            start_time: formatDateTime(soaking_start),\n            end_time: formatDateTime(soaking_end)\n        },\n        soaking_rest: {\n            start_time: formatDateTime(soaking_rest_start),\n            end_time: formatDateTime(soaking_rest_end)\n        },\n        resoaking_one: {\n            start_time: formatDateTime(resoaking_one_start),\n            end_time: formatDateTime(resoaking_one_end)\n        },\n        resoaking_rest: {\n            start_time: formatDateTime(resoaking_rest_start),\n            end_time: formatDateTime(resoaking_rest_end)\n        },\n        resoaking_two: {\n            start_time: formatDateTime(resoaking_two_start),\n            end_time: formatDateTime(resoaking_two_end)\n        },\n        resoaking_two_rest: {\n            start_time: formatDateTime(resoaking_two_rest_start),\n            end_time: formatDateTime(resoaking_two_rest_end)\n        },\n        plain_bunker: {\n            start_time: formatDateTime(plain_bunker_start),\n            end_time: formatDateTime(plain_bunker_end)\n        }\n    };\n    // Remove null values but keep the structure\n    Object.keys(payload).forEach((key)=>{\n        if (payload[key] === null) {\n            delete payload[key];\n        } else if (typeof payload[key] === 'object' && payload[key] !== null && key !== 'batch_id' && key !== 'straw_type' && key !== 'iscompleted') {\n            let hasValidField = false;\n            Object.keys(payload[key]).forEach((subKey)=>{\n                if (payload[key][subKey] === null) {\n                    delete payload[key][subKey];\n                } else {\n                    hasValidField = true;\n                }\n            });\n            if (!hasValidField) {\n                delete payload[key];\n            }\n        }\n    });\n    console.log(\"\\uD83D\\uDCE6 Generated payload for \".concat(material.displayName, \":\"), payload);\n    return payload;\n};\nconst convertApiResponseToUI = (apiData, batch)=>{\n    if (!apiData || !Array.isArray(apiData)) {\n        console.log('âŒ No valid API data array to convert:', apiData);\n        return batch;\n    }\n    console.log('ðŸ”„ Converting API data to UI. Found items:', apiData.length);\n    batch.materials.forEach((material)=>{\n        const materialData = apiData.find((d)=>d.straw_type && d.straw_type === material.type);\n        if (!materialData) {\n            console.log(\"â„¹ï¸ No data found for material: \".concat(material.displayName, \" (type: \").concat(material.type, \")\"));\n            return;\n        }\n        console.log(\"âœ… Found data for \".concat(material.displayName, \":\"), materialData);\n        if (materialData.id) {\n            material.recordId = materialData.id;\n            material.hasExistingData = true;\n            console.log(\"\\uD83D\\uDCDD Setting recordId for \".concat(material.displayName, \": \").concat(materialData.id));\n        }\n        const substageMapping = [\n            {\n                name: \"Soaking\",\n                data: materialData.soaking\n            },\n            {\n                name: \"Soaking Rest\",\n                data: materialData.soaking_rest\n            },\n            {\n                name: \"Re Soaking 1\",\n                data: materialData.resoaking_one\n            },\n            {\n                name: \"Re Soaking 1 Rest\",\n                data: materialData.resoaking_rest\n            },\n            {\n                name: \"Re Soaking 2\",\n                data: materialData.resoaking_two\n            },\n            {\n                name: \"Re Soaking 2 Rest\",\n                data: materialData.resoaking_two_rest\n            }\n        ];\n        substageMapping.forEach((mapping, index)=>{\n            if (mapping.data) {\n                console.log(\"\\uD83D\\uDCCA Processing \".concat(mapping.name, \" for \").concat(material.displayName, \":\"), mapping.data);\n                if (mapping.data.start_time) {\n                    const { date: startDate, time: startTime } = parseDateTime(mapping.data.start_time);\n                    material.substages[index].startDate = startDate;\n                    material.substages[index].startTime = startTime;\n                    console.log(\"  Start: \".concat(startDate, \" \").concat(startTime));\n                }\n                if (mapping.data.end_time) {\n                    const { date: endDate, time: endTime } = parseDateTime(mapping.data.end_time);\n                    material.substages[index].endDate = endDate;\n                    material.substages[index].endTime = endTime;\n                    console.log(\"  End: \".concat(endDate, \" \").concat(endTime));\n                }\n                if (mapping.data.duration_hours !== undefined && mapping.data.duration_hours !== null) {\n                    material.substages[index].totalHours = mapping.data.duration_hours.toString();\n                    console.log(\"  Duration: \".concat(mapping.data.duration_hours, \" hours\"));\n                }\n                if (mapping.data.remarks) {\n                    material.substages[index].remarks = mapping.data.remarks;\n                }\n            } else {\n                console.log(\"âš ï¸ No data for \".concat(mapping.name, \" in \").concat(material.displayName));\n            }\n        });\n        // Load plain bunker data if exists\n        if (materialData.plain_bunker) {\n            const pbData = materialData.plain_bunker;\n            console.log(\"\\uD83D\\uDCCA Processing Plain Bunker for \".concat(material.displayName, \":\"), pbData);\n            if (pbData.start_time) {\n                const { date: startDate, time: startTime } = parseDateTime(pbData.start_time);\n                material.plainBunkerSubstage.startDate = startDate;\n                material.plainBunkerSubstage.startTime = startTime;\n            }\n            if (pbData.end_time) {\n                const { date: endDate, time: endTime } = parseDateTime(pbData.end_time);\n                material.plainBunkerSubstage.endDate = endDate;\n                material.plainBunkerSubstage.endTime = endTime;\n            }\n            if (pbData.duration_hours !== undefined && pbData.duration_hours !== null) {\n                material.plainBunkerSubstage.totalHours = pbData.duration_hours.toString();\n            }\n            if (pbData.remarks) {\n                material.plainBunkerSubstage.remarks = pbData.remarks;\n            }\n        }\n    });\n    console.log('âœ… Finished converting API data to UI');\n    return batch;\n};\nconst sendToApi = async (payload, materialType, displayName)=>{\n    try {\n        console.log(\"\\n\\uD83D\\uDE80 SENDING \".concat(displayName, \" DATA TO API (\").concat(materialType, \")\"));\n        console.log(\"URL: \".concat(API_ENDPOINT));\n        console.log('Full payload:', JSON.stringify(payload, null, 2));\n        const response = await fetch(API_ENDPOINT, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE for \".concat(displayName, \": Status \").concat(response.status));\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error('âŒ API Error Response:', errorData);\n            let errorMessage = \"API error: \".concat(response.status);\n            if (errorData.detail) {\n                if (typeof errorData.detail === 'string') {\n                    errorMessage = errorData.detail;\n                } else if (Array.isArray(errorData.detail)) {\n                    errorMessage = errorData.detail.map((err)=>err.msg).join(', ');\n                } else if (typeof errorData.detail === 'object') {\n                    errorMessage = JSON.stringify(errorData.detail);\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        console.log(\"âœ… SUCCESS for \".concat(displayName, \":\"), result);\n        return {\n            success: true,\n            data: result,\n            materialType,\n            displayName\n        };\n    } catch (error) {\n        console.error(\"âŒ ERROR sending \".concat(displayName, \" data:\"), error);\n        return {\n            success: false,\n            error: error.message,\n            materialType,\n            displayName\n        };\n    }\n};\nconst updateBatchPlainBunkerStatus = async (batchId, status)=>{\n    try {\n        console.log(\"\\n\\uD83D\\uDE80 UPDATING BATCH \".concat(batchId, \" PLAIN BUNKER STATUS TO: \").concat(status));\n        const url = \"\".concat(BATCH_UPDATE_ENDPOINT, \"/\").concat(batchId);\n        console.log(\"URL: \".concat(url));\n        const response = await fetch(url, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                plain_bunker_mixed: status\n            })\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE: Status \".concat(response.status));\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error('âŒ API Error Response:', errorData);\n            throw new Error(\"Failed to update batch status: \".concat(response.status));\n        }\n        const result = await response.json();\n        console.log(\"âœ… Batch status updated successfully:\", result);\n        return {\n            success: true,\n            data: result\n        };\n    } catch (error) {\n        console.error('âŒ Error updating batch status:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst MaterialTable = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(_s((param)=>{\n    let { material, onUpdate, showPlainBunker = false, readOnly = false } = param;\n    var _material_plainBunkerSubstage, _material_plainBunkerSubstage1, _material_plainBunkerSubstage2, _material_plainBunkerSubstage3, _material_plainBunkerSubstage4, _material_plainBunkerSubstage5, _material_plainBunkerSubstage6, _material_plainBunkerSubstage7, _material_plainBunkerSubstage8, _material_plainBunkerSubstage9;\n    _s();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const validateDateRange = function(substage, field, newValue, currentSubstage) {\n        let isPlainBunker = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n        if (field === 'startDate' || field === 'startTime') {\n            if (substage.endDate && substage.endTime) {\n                const newStartDateTime = field === 'startDate' ? combineDateTime(newValue, substage.startTime) : combineDateTime(substage.startDate, newValue);\n                const endDateTime = combineDateTime(substage.endDate, substage.endTime);\n                if (newStartDateTime && endDateTime && new Date(newStartDateTime) > new Date(endDateTime)) {\n                    toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": Start date/time cannot be after end date/time\"));\n                    return false;\n                }\n            }\n        } else if (field === 'endDate' || field === 'endTime') {\n            if (substage.startDate && substage.startTime) {\n                const startDateTime = combineDateTime(substage.startDate, substage.startTime);\n                const newEndDateTime = field === 'endDate' ? combineDateTime(newValue, substage.endTime) : combineDateTime(substage.endDate, newValue);\n                if (startDateTime && newEndDateTime && new Date(startDateTime) > new Date(newEndDateTime)) {\n                    toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": End date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const validateStageSequence = function(index, field, value, updatedMaterial) {\n        let isPlainBunker = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n        if (isPlainBunker) return true; // No sequence validation for plain bunker\n        const substage = updatedMaterial.substages[index];\n        const tempSubstage = {\n            ...substage,\n            [field]: value\n        };\n        const stageIndex = index;\n        if (stageIndex > 0) {\n            const prevStage = updatedMaterial.substages[stageIndex - 1];\n            if (prevStage.endDate && prevStage.endTime && tempSubstage.startDate && tempSubstage.startTime) {\n                const prevEnd = combineDateTime(prevStage.endDate, prevStage.endTime);\n                const currentStart = combineDateTime(tempSubstage.startDate, tempSubstage.startTime);\n                if (prevEnd && currentStart && new Date(prevEnd) > new Date(currentStart)) {\n                    toast.error(\"\".concat(material.displayName, \": \").concat(tempSubstage.name, \" must start after \").concat(prevStage.name, \" ends\"));\n                    return false;\n                }\n            }\n        }\n        if (stageIndex < updatedMaterial.substages.length - 1) {\n            const nextStage = updatedMaterial.substages[stageIndex + 1];\n            if (tempSubstage.endDate && tempSubstage.endTime && nextStage.startDate && nextStage.startTime) {\n                const currentEnd = combineDateTime(tempSubstage.endDate, tempSubstage.endTime);\n                const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n                if (currentEnd && nextStart && new Date(currentEnd) > new Date(nextStart)) {\n                    toast.error(\"\".concat(material.displayName, \": \").concat(nextStage.name, \" must start after \").concat(tempSubstage.name, \" ends\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const getMinEndDate = (substage)=>{\n        if (substage.startDate) {\n            return substage.startDate;\n        }\n        return undefined;\n    };\n    const getMinEndTime = (substage)=>{\n        if (substage.startDate === substage.endDate && substage.startTime) {\n            return substage.startTime;\n        }\n        return undefined;\n    };\n    const handleInputChange = function(index, field, value) {\n        let isPlainBunker = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;\n        if (readOnly) return;\n        const updatedMaterial = {\n            ...material\n        };\n        if (isPlainBunker) {\n            const substage = updatedMaterial.plainBunkerSubstage;\n            if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n                if (!validateDateRange(substage, field, value, substage, true)) {\n                    return;\n                }\n            }\n            substage[field] = value;\n            if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n                substage.totalHours = diffHours.toFixed(1);\n            }\n        } else {\n            const substage = updatedMaterial.substages[index];\n            if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n                if (!validateDateRange(substage, field, value, substage)) {\n                    return;\n                }\n            }\n            substage[field] = value;\n            if (!validateStageSequence(index, field, value, updatedMaterial)) {\n                return;\n            }\n            if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n                substage.totalHours = diffHours.toFixed(1);\n            }\n        }\n        onUpdate(updatedMaterial);\n    };\n    const getTableTitle = ()=>{\n        return \"\".concat(material.displayName, \" Soaking Process\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"table-section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"table-title\",\n                children: getTableTitle()\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 730,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"entry-table-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                    className: \"entry-table\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Substage\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 735,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"Start\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 736,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"End\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 737,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Total Hours\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 738,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Remarks\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 739,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 734,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 742,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 743,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 744,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 745,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 741,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 733,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                            children: [\n                                material.substages.map((substage, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                className: \"substage-name\",\n                                                children: substage.name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 751,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"date\",\n                                                    value: substage.startDate || '',\n                                                    onChange: (e)=>handleInputChange(index, 'startDate', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    max: substage.endDate || undefined\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 753,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 752,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"time\",\n                                                    value: substage.startTime || '',\n                                                    onChange: (e)=>handleInputChange(index, 'startTime', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    max: substage.startDate === substage.endDate ? substage.endTime : undefined\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 763,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 762,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"date\",\n                                                    value: substage.endDate || '',\n                                                    onChange: (e)=>handleInputChange(index, 'endDate', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    min: getMinEndDate(substage)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 773,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 772,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"time\",\n                                                    value: substage.endTime || '',\n                                                    onChange: (e)=>handleInputChange(index, 'endTime', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    disabled: readOnly,\n                                                    min: getMinEndTime(substage)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 783,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 782,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: substage.totalHours || '',\n                                                    readOnly: true,\n                                                    className: \"table-input\",\n                                                    placeholder: \"Auto-calc\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 793,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 792,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: substage.remarks || '',\n                                                    onChange: (e)=>handleInputChange(index, 'remarks', e.target.value, false),\n                                                    className: \"table-input\",\n                                                    placeholder: \"Add remarks...\",\n                                                    disabled: readOnly\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 802,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 801,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                        lineNumber: 750,\n                                        columnNumber: 15\n                                    }, undefined)),\n                                showPlainBunker && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    className: \"plain-bunker-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"substage-name plain-bunker\",\n                                            children: \"Plain Bunker\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 815,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: ((_material_plainBunkerSubstage = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage === void 0 ? void 0 : _material_plainBunkerSubstage.startDate) || '',\n                                                onChange: (e)=>handleInputChange(null, 'startDate', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: ((_material_plainBunkerSubstage1 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage1 === void 0 ? void 0 : _material_plainBunkerSubstage1.endDate) || undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 817,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 816,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: ((_material_plainBunkerSubstage2 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage2 === void 0 ? void 0 : _material_plainBunkerSubstage2.startTime) || '',\n                                                onChange: (e)=>handleInputChange(null, 'startTime', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: ((_material_plainBunkerSubstage3 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage3 === void 0 ? void 0 : _material_plainBunkerSubstage3.startDate) === ((_material_plainBunkerSubstage4 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage4 === void 0 ? void 0 : _material_plainBunkerSubstage4.endDate) ? (_material_plainBunkerSubstage5 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage5 === void 0 ? void 0 : _material_plainBunkerSubstage5.endTime : undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 827,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 826,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: ((_material_plainBunkerSubstage6 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage6 === void 0 ? void 0 : _material_plainBunkerSubstage6.endDate) || '',\n                                                onChange: (e)=>handleInputChange(null, 'endDate', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndDate(material.plainBunkerSubstage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 837,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 836,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: ((_material_plainBunkerSubstage7 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage7 === void 0 ? void 0 : _material_plainBunkerSubstage7.endTime) || '',\n                                                onChange: (e)=>handleInputChange(null, 'endTime', e.target.value, true),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndTime(material.plainBunkerSubstage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 847,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 846,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: ((_material_plainBunkerSubstage8 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage8 === void 0 ? void 0 : _material_plainBunkerSubstage8.totalHours) || '',\n                                                readOnly: true,\n                                                className: \"table-input\",\n                                                placeholder: \"Auto-calc\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 857,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 856,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: ((_material_plainBunkerSubstage9 = material.plainBunkerSubstage) === null || _material_plainBunkerSubstage9 === void 0 ? void 0 : _material_plainBunkerSubstage9.remarks) || '',\n                                                onChange: (e)=>handleInputChange(null, 'remarks', e.target.value, true),\n                                                className: \"table-input\",\n                                                placeholder: \"Add remarks...\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                lineNumber: 866,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 865,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 814,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 748,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 732,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 731,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 729,\n        columnNumber: 5\n    }, undefined);\n}, \"WUU7e0p6AiTpvVrXhi50JBdcu+0=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast\n    ];\n}));\n_c = MaterialTable;\nMaterialTable.displayName = 'MaterialTable';\nfunction BatchSelection(param) {\n    let { onSelectBatch, loading, error, initialBatchNumber, initialBatchId } = param;\n    _s1();\n    const [batchNumber, setBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBatchNumber || '');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const hasLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Auto-load batch if initialBatchNumber is provided\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BatchSelection.useEffect\": ()=>{\n            if (initialBatchNumber && !hasLoadedRef.current && !loading) {\n                setBatchNumber(initialBatchNumber);\n                handleLoadBatch(initialBatchNumber, initialBatchId);\n                hasLoadedRef.current = true;\n            }\n        }\n    }[\"BatchSelection.useEffect\"], [\n        initialBatchNumber,\n        initialBatchId,\n        loading\n    ]);\n    const getMaterialsFromBatch = (batchData)=>{\n        const materials = new Set();\n        if (batchData && batchData.formulation_entries) {\n            batchData.formulation_entries.forEach((entry)=>{\n                const materialName = entry.name.toUpperCase();\n                if (MATERIAL_TYPES[materialName] !== undefined) {\n                    materials.add(materialName);\n                    console.log(\"\\uD83D\\uDCCC Found material: \".concat(materialName, \" -> \").concat(MATERIAL_TYPES[materialName]));\n                }\n            });\n        }\n        return Array.from(materials);\n    };\n    const handleLoadBatch = async (batchNum, batchId)=>{\n        if (!batchNum.trim()) {\n            toast.error('Please enter a batch number');\n            return;\n        }\n        setIsLoading(true);\n        try {\n            console.log(\"\\uD83D\\uDD0D Fetching batch details for: \".concat(batchNum, \" with ID: \").concat(batchId || 'unknown'));\n            let selectedBatch = null;\n            let batchIdToUse = batchId;\n            // If batchId is provided, we can use it directly\n            if (batchIdToUse) {\n                // Try to fetch batch details using ID if needed\n                const batchResponse = await fetch(\"\".concat(API_BASE_URL, \"/batches\"));\n                if (!batchResponse.ok) {\n                    throw new Error('Failed to fetch batches');\n                }\n                const batchResult = await batchResponse.json();\n                let batches = [];\n                if (Array.isArray(batchResult)) {\n                    batches = batchResult;\n                } else if (batchResult.success) {\n                    batches = batchResult.data;\n                }\n                selectedBatch = batches.find((b)=>b.id === batchIdToUse);\n                if (!selectedBatch) {\n                    // If not found by ID, try by batch number\n                    selectedBatch = batches.find((b)=>b.batch_number === batchNum.trim());\n                }\n            } else {\n                // No batchId provided, fetch by batch number\n                const batchResponse = await fetch(\"\".concat(API_BASE_URL, \"/batches\"));\n                if (!batchResponse.ok) {\n                    throw new Error('Failed to fetch batches');\n                }\n                const batchResult = await batchResponse.json();\n                let batches = [];\n                if (Array.isArray(batchResult)) {\n                    batches = batchResult;\n                } else if (batchResult.success) {\n                    batches = batchResult.data;\n                }\n                selectedBatch = batches.find((b)=>b.batch_number === batchNum.trim());\n            }\n            if (!selectedBatch) {\n                toast.error('Batch number not found');\n                setIsLoading(false);\n                return;\n            }\n            console.log('âœ… Found batch:', selectedBatch);\n            const materials = getMaterialsFromBatch(selectedBatch);\n            if (materials.length === 0) {\n                toast.error('No suitable materials (Bagasse, Wheat Straw, or Paddy Straw) found in this batch');\n                setIsLoading(false);\n                return;\n            }\n            console.log(\"\\uD83D\\uDCCB Materials to process:\", materials);\n            console.log(\"\\uD83D\\uDCCB Number of material tables: \".concat(materials.length));\n            const newBatch = createEmptyBatch(batchNum, materials, selectedBatch.id);\n            newBatch.batchData = selectedBatch;\n            console.log('ðŸ“Š Fetching straw data for batch ID:', selectedBatch.id);\n            const strawDataResult = await fetchBatchData(selectedBatch.id);\n            if (strawDataResult.success && strawDataResult.data) {\n                console.log('ðŸ“¦ Raw API data:', strawDataResult.data);\n                const populatedBatch = convertApiResponseToUI(strawDataResult.data, newBatch);\n                console.log('âœ… Populated batch:', populatedBatch);\n                onSelectBatch(populatedBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" with existing data (\").concat(materials.length, \" material table\").concat(materials.length > 1 ? 's' : '', \")\"));\n            } else if (strawDataResult.success && !strawDataResult.data) {\n                onSelectBatch(newBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" (\").concat(materials.length, \" material table\").concat(materials.length > 1 ? 's' : '', \" - no existing data)\"));\n            } else {\n                toast.warning(\"Loaded batch \".concat(batchNum, \" but failed to fetch existing data\"));\n                onSelectBatch(newBatch);\n            }\n        } catch (err) {\n            console.error('âŒ Error loading batch:', err);\n            toast.error('Error loading batch details. Please try again.');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleCreateNew = ()=>{\n        if (isLoading || loading) return;\n        handleLoadBatch(batchNumber);\n    };\n    const handleBackClick = ()=>{\n        // Clear the URL params when going back\n        router.push('/soaking');\n        // Clear the batch number and allow new input\n        setBatchNumber('');\n        hasLoadedRef.current = false;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"batch-selection\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Soaking Process Entry\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 1039,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 1042,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"selection-panel\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"new-batch-section\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Enter Batch Number\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 1049,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"batch-input-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    placeholder: \"Enter Batch Number (e.g., BATCH-001)\",\n                                    value: batchNumber,\n                                    onChange: (e)=>setBatchNumber(e.target.value),\n                                    className: \"batch-input\",\n                                    disabled: isLoading || loading\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1051,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCreateNew,\n                                    className: \"btn-primary\",\n                                    disabled: isLoading || loading,\n                                    children: isLoading || loading ? 'Loading...' : 'Load Batch'\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1059,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 1050,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 1048,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 1047,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 1038,\n        columnNumber: 5\n    }, this);\n}\n_s1(BatchSelection, \"bSsv6SxcH5WNCl5iqtC1T5kE3FA=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c1 = BatchSelection;\nfunction SoakingContent() {\n    _s2();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [currentBatch, setCurrentBatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [savedBatches, setSavedBatches] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchNumber, setInitialBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchId, setInitialBatchId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isSavingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Get batch number and ID from URL params\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SoakingContent.useEffect\": ()=>{\n            const batchNum = searchParams.get('batch');\n            const batchId = searchParams.get('batchId');\n            if (batchNum) {\n                setInitialBatchNumber(batchNum);\n                setInitialBatchId(batchId);\n            }\n        }\n    }[\"SoakingContent.useEffect\"], [\n        searchParams\n    ]);\n    const handleSelectBatch = (batch)=>{\n        console.log('âœ… Setting current batch:', batch);\n        setCurrentBatch(batch);\n    };\n    const handleUpdateMaterial = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"SoakingContent.useCallback[handleUpdateMaterial]\": (index, updatedMaterial)=>{\n            setCurrentBatch({\n                \"SoakingContent.useCallback[handleUpdateMaterial]\": (prevBatch)=>{\n                    if (!prevBatch) return prevBatch;\n                    const updatedMaterials = [\n                        ...prevBatch.materials\n                    ];\n                    updatedMaterials[index] = updatedMaterial;\n                    return {\n                        ...prevBatch,\n                        materials: updatedMaterials\n                    };\n                }\n            }[\"SoakingContent.useCallback[handleUpdateMaterial]\"]);\n        }\n    }[\"SoakingContent.useCallback[handleUpdateMaterial]\"], []);\n    const handleMoveToPlainBunkerChange = (value)=>{\n        setCurrentBatch((prevBatch)=>({\n                ...prevBatch,\n                moveToPlainBunker: value === 'yes'\n            }));\n    };\n    const validateBatchData = function(batch) {\n        let includePlainBunker = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        for (const material of batch.materials){\n            // Validate main substages\n            for (const substage of material.substages){\n                if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                    const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                    const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                    if (startDateTime > endDateTime) {\n                        toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": End date/time cannot be before start date/time\"));\n                        return false;\n                    }\n                }\n                if ((substage.startDate || substage.startTime) && (!substage.startDate || !substage.startTime)) {\n                    toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - \").concat(substage.name, \" start\"));\n                    return false;\n                }\n                if ((substage.endDate || substage.endTime) && (!substage.endDate || !substage.endTime)) {\n                    toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - \").concat(substage.name, \" end\"));\n                    return false;\n                }\n            }\n            if (!validateStageSequencing(material, toast)) {\n                return false;\n            }\n            // Validate plain bunker if included\n            if (includePlainBunker && material.plainBunkerSubstage) {\n                const pb = material.plainBunkerSubstage;\n                const hasPbData = pb.startDate || pb.startTime || pb.endDate || pb.endTime;\n                if (hasPbData) {\n                    if (pb.startDate && !pb.startTime || pb.startTime && !pb.startDate) {\n                        toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - Plain Bunker start\"));\n                        return false;\n                    }\n                    if (pb.endDate && !pb.endTime || pb.endTime && !pb.endDate) {\n                        toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - Plain Bunker end\"));\n                        return false;\n                    }\n                    if (pb.startDate && pb.startTime && pb.endDate && pb.endTime) {\n                        const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n                        const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n                        if (startDateTime > endDateTime) {\n                            toast.error(\"\".concat(material.displayName, \" - Plain Bunker: End date/time cannot be before start date/time\"));\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    const validateMoveToPlainBunker = (batch)=>{\n        if (batch.moveToPlainBunker === false) {\n            // If \"No\" is selected, validate that plain bunker data is complete for ALL materials\n            for (const material of batch.materials){\n                const pb = material.plainBunkerSubstage;\n                // Check if plain bunker has all required fields (except remarks)\n                if (!pb.startDate) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker row is required when selecting \"No\"'));\n                    return false;\n                }\n                if (!pb.startTime) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker start time is required when selecting \"No\"'));\n                    return false;\n                }\n                if (!pb.endDate) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker end date is required when selecting \"No\"'));\n                    return false;\n                }\n                if (!pb.endTime) {\n                    toast.error(\"\".concat(material.displayName, ': Plain Bunker end time is required when selecting \"No\"'));\n                    return false;\n                }\n                // Validate date range\n                const startDateTime = new Date(\"\".concat(pb.startDate, \"T\").concat(pb.startTime));\n                const endDateTime = new Date(\"\".concat(pb.endDate, \"T\").concat(pb.endTime));\n                if (startDateTime > endDateTime) {\n                    toast.error(\"\".concat(material.displayName, \": Plain Bunker end date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const handleSave = async ()=>{\n        if (!currentBatch || isSavingRef.current) return;\n        console.log('\\n========== ðŸš€ SAVE STARTED ==========');\n        console.log(\"Batch: \".concat(currentBatch.batchNumber, \" (ID: \").concat(currentBatch.id, \")\"));\n        console.log(\"Total materials: \".concat(currentBatch.materials.length));\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            for(let i = 0; i < currentBatch.materials.length; i++){\n                const material = currentBatch.materials[i];\n                console.log(\"\\n--- \\uD83D\\uDCDD Processing material \".concat(i + 1, \"/\").concat(currentBatch.materials.length, \": \").concat(material.displayName, \" ---\"));\n                // Check if material has complete data (including plain bunker if it's visible)\n                const includePlainBunker = currentBatch.moveToPlainBunker === false;\n                if (hasCompleteMaterialData(material, includePlainBunker)) {\n                    const payload = convertToApiPayload(currentBatch, material, false);\n                    if (payload) {\n                        hasAnyDataToSave = true;\n                        console.log(\"\\uD83D\\uDCE4 Making API call for \".concat(material.displayName, \" (\").concat(material.type, \")\"));\n                        const result = await sendToApi(payload, material.type, material.displayName);\n                        results.push({\n                            ...result,\n                            materialIndex: i,\n                            materialType: material.type\n                        });\n                        if (result.success) {\n                            successCount++;\n                            if (result.data && result.data.data && result.data.data.id) {\n                                setCurrentBatch((prevBatch)=>{\n                                    const updatedMaterials = [\n                                        ...prevBatch.materials\n                                    ];\n                                    updatedMaterials[i] = {\n                                        ...updatedMaterials[i],\n                                        recordId: result.data.data.id,\n                                        hasExistingData: true\n                                    };\n                                    return {\n                                        ...prevBatch,\n                                        materials: updatedMaterials\n                                    };\n                                });\n                            }\n                            toast.success(\"\".concat(material.displayName, \" data saved successfully!\"));\n                        } else {\n                            failCount++;\n                            toast.error(\"Failed to save \".concat(material.displayName, \" data: \").concat(result.error));\n                        }\n                    }\n                } else {\n                    console.log(\"â­ï¸ \".concat(material.displayName, \" has incomplete data, skipping\"));\n                }\n            }\n            console.log('\\n========== ðŸ“Š SAVE SUMMARY ==========');\n            console.log(\"Total API calls attempted: \".concat(results.length));\n            console.log(\"âœ… Successful: \".concat(successCount));\n            console.log(\"âŒ Failed: \".concat(failCount));\n            console.log('=====================================\\n');\n            if (!hasAnyDataToSave) {\n                toast.info('No complete data to save. Please fill in all required fields for at least one material.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            const existingIndex = savedBatches.findIndex((b)=>b.id === currentBatch.id);\n            if (existingIndex >= 0) {\n                const updated = [\n                    ...savedBatches\n                ];\n                updated[existingIndex] = {\n                    ...currentBatch,\n                    status: 'draft'\n                };\n                setSavedBatches(updated);\n            } else {\n                setSavedBatches([\n                    ...savedBatches,\n                    {\n                        ...currentBatch,\n                        status: 'draft'\n                    }\n                ]);\n            }\n            const allSuccess = results.every((r)=>r.success);\n            if (allSuccess) {\n                toast.success(\"All \".concat(successCount, \" material data saved successfully!\"));\n            } else {\n                toast.warning(\"\".concat(successCount, \" material(s) saved successfully, \").concat(failCount, \" failed\"));\n            }\n        } catch (error) {\n            toast.error('Failed to save batch data');\n            console.error('âŒ Save error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleMoveToPlainBunker = async ()=>{\n        if (!currentBatch || isSavingRef.current) return;\n        const hasData = currentBatch.materials.some((material)=>material.substages.some(hasSubstageData));\n        if (!hasData) {\n            toast.error('Please enter at least some data before moving');\n            return;\n        }\n        // Validate based on dropdown selection\n        if (!validateMoveToPlainBunker(currentBatch)) {\n            return;\n        }\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            // First save all material data\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            for(let i = 0; i < currentBatch.materials.length; i++){\n                const material = currentBatch.materials[i];\n                console.log(\"\\n--- \\uD83D\\uDCDD Processing material \".concat(i + 1, \"/\").concat(currentBatch.materials.length, \": \").concat(material.displayName, \" ---\"));\n                // Include plain bunker in validation when moving\n                const includePlainBunker = currentBatch.moveToPlainBunker === false;\n                // For \"No\" selection, ensure plain bunker data is complete\n                if (currentBatch.moveToPlainBunker === false) {\n                    const pb = material.plainBunkerSubstage;\n                    if (!pb.startDate || !pb.startTime || !pb.endDate || !pb.endTime) {\n                        toast.error(\"\".concat(material.displayName, \": Please complete all date/time fields for Plain Bunker\"));\n                        setLoading(false);\n                        isSavingRef.current = false;\n                        return;\n                    }\n                }\n                if (hasCompleteMaterialData(material, includePlainBunker)) {\n                    const payload = convertToApiPayload(currentBatch, material, true);\n                    if (payload) {\n                        hasAnyDataToSave = true;\n                        console.log(\"\\uD83D\\uDCE4 Making API call for \".concat(material.displayName, \" (\").concat(material.type, \")\"));\n                        const result = await sendToApi(payload, material.type, material.displayName);\n                        results.push({\n                            ...result,\n                            materialIndex: i,\n                            materialType: material.type\n                        });\n                        if (result.success) {\n                            successCount++;\n                            if (result.data && result.data.data && result.data.data.id) {\n                                setCurrentBatch((prevBatch)=>{\n                                    const updatedMaterials = [\n                                        ...prevBatch.materials\n                                    ];\n                                    updatedMaterials[i] = {\n                                        ...updatedMaterials[i],\n                                        recordId: result.data.data.id,\n                                        hasExistingData: true\n                                    };\n                                    return {\n                                        ...prevBatch,\n                                        materials: updatedMaterials\n                                    };\n                                });\n                            }\n                        } else {\n                            failCount++;\n                        }\n                    }\n                } else {\n                    console.log(\"â­ï¸ \".concat(material.displayName, \" has incomplete data, skipping\"));\n                }\n            }\n            if (!hasAnyDataToSave) {\n                toast.info('No complete data to save. Please fill in all required fields for at least one material.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            // If any material save failed, stop the process\n            if (failCount > 0) {\n                toast.error(\"Failed to save \".concat(failCount, \" material(s). Cannot proceed to Plain Bunker.\"));\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            // Update batch status\n            const batchUpdateResult = await updateBatchPlainBunkerStatus(currentBatch.id, currentBatch.moveToPlainBunker);\n            if (batchUpdateResult.success) {\n                toast.success(\"Batch moved to Plain Bunker successfully with status: \".concat(currentBatch.moveToPlainBunker ? 'Yes' : 'No'));\n                // Clear the current batch and redirect to unified-platform\n                setCurrentBatch(null);\n                router.push('/unified-platform');\n            } else {\n                toast.error(\"Failed to update batch status: \".concat(batchUpdateResult.error));\n            }\n        } catch (error) {\n            toast.error('Failed to move batch to Plain Bunker');\n            console.error('âŒ Move error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleBackToSelection = ()=>{\n        // Clear the current batch to show the selection UI\n        setCurrentBatch(null);\n        // Clear URL params when going back\n        router.push('/soaking');\n        // Clear any saved state\n        setError(null);\n        // Reset the initial batch number state if needed\n        setInitialBatchNumber(null);\n        setInitialBatchId(null);\n    };\n    if (!currentBatch) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            title: \"Soaking Process\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"soaking-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BatchSelection, {\n                    onSelectBatch: handleSelectBatch,\n                    loading: loading,\n                    error: error,\n                    initialBatchNumber: initialBatchNumber,\n                    initialBatchId: initialBatchId\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 1447,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                lineNumber: 1446,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n            lineNumber: 1445,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Soaking Process\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"soaking-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"entry-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-left\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleBackToSelection,\n                                    className: \"back-button\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                        lineNumber: 1465,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1464,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: currentBatch.batchNumber\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1467,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-count\",\n                                    children: [\n                                        \"(\",\n                                        currentBatch.materials.length,\n                                        \" material table\",\n                                        currentBatch.materials.length > 1 ? 's' : '',\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1468,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 1463,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-actions\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"move-to-plain-bunker-dropdown\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"plainBunkerSelect\",\n                                            children: \"Move to Plain Bunker:\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1474,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            id: \"plainBunkerSelect\",\n                                            value: currentBatch.moveToPlainBunker === true ? 'yes' : currentBatch.moveToPlainBunker === false ? 'no' : '',\n                                            onChange: (e)=>handleMoveToPlainBunkerChange(e.target.value),\n                                            className: \"plain-bunker-select\",\n                                            disabled: loading,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"\",\n                                                    disabled: true,\n                                                    children: \"Select\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 1482,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"yes\",\n                                                    children: \"Yes\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 1483,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"no\",\n                                                    children: \"No\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                                    lineNumber: 1484,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1475,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1473,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSave,\n                                    className: \"btn-save\",\n                                    disabled: loading,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                            fontSize: \"small\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1492,\n                                            columnNumber: 15\n                                        }, this),\n                                        loading ? 'Saving...' : 'Save'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1487,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleMoveToPlainBunker,\n                                    className: \"btn-move\",\n                                    disabled: loading || currentBatch.moveToPlainBunker === undefined,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowForward__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                            fontSize: \"small\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                            lineNumber: 1500,\n                                            columnNumber: 15\n                                        }, this),\n                                        loading ? 'Processing...' : 'Move to Plain Bunker'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                                    lineNumber: 1495,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                            lineNumber: 1472,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                    lineNumber: 1462,\n                    columnNumber: 9\n                }, this),\n                currentBatch.materials.map((material, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MaterialTable, {\n                        material: material,\n                        onUpdate: (updated)=>handleUpdateMaterial(index, updated),\n                        showPlainBunker: currentBatch.moveToPlainBunker === false,\n                        readOnly: false\n                    }, \"\".concat(material.type, \"-\").concat(index, \"-\").concat(material.recordId || 'new'), false, {\n                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n                        lineNumber: 1507,\n                        columnNumber: 11\n                    }, this))\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n            lineNumber: 1461,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 1460,\n        columnNumber: 5\n    }, this);\n}\n_s2(SoakingContent, \"rZKbJLDIlUtXNw4nU4EjzL8GEKM=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = SoakingContent;\nfunction Soaking() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.ToastProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SoakingContent, {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n            lineNumber: 1523,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\soaking\\\\page.jsx\",\n        lineNumber: 1522,\n        columnNumber: 5\n    }, this);\n}\n_c3 = Soaking;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"MaterialTable\");\n$RefreshReg$(_c1, \"BatchSelection\");\n$RefreshReg$(_c2, \"SoakingContent\");\n$RefreshReg$(_c3, \"Soaking\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocGFnZXMpL3NvYWtpbmcvcGFnZS5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUN3RTtBQUNYO0FBQ1Y7QUFDdUI7QUFDbEM7QUFFUTtBQUNnQjtBQUNOO0FBRTFELE1BQU1hLGlCQUFpQjtJQUNyQixXQUFXO0lBQ1gsZUFBZTtJQUNmLGVBQWU7QUFDakI7QUFFQSxNQUFNQyx5QkFBeUI7SUFDN0IsV0FBVztJQUNYLFNBQVM7SUFDVCxTQUFTO0FBQ1g7QUFFQSxNQUFNQyxlQUFlQywyQkFBK0I7QUFDcEQsTUFBTUcsZUFBZSxHQUFnQixPQUFiSixjQUFhO0FBQ3JDLE1BQU1LLHFCQUFxQixHQUFnQixPQUFiTCxjQUFhO0FBQzNDLE1BQU1NLHdCQUF3QixHQUFnQixPQUFiTixjQUFhO0FBRTlDLE1BQU1PLGNBQWM7SUFDbEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxNQUFNQyxxQkFBcUI7QUFFM0IsTUFBTUMsc0JBQXNCLENBQUNDLE9BQVU7UUFDckNBLE1BQU1BO1FBQ05DLFdBQVc7UUFDWEMsV0FBVztRQUNYQyxTQUFTO1FBQ1RDLFNBQVM7UUFDVEMsWUFBWTtRQUNaQyxTQUFTO0lBQ1g7QUFFQSxNQUFNQyxtQkFBbUIsU0FBQ0M7UUFBYUMsNkVBQVksRUFBRSxFQUFFQywyRUFBVTtJQUMvRCxNQUFNQyxRQUFRO1FBQ1pDLElBQUlGLFdBQVdHLEtBQUtDLEdBQUc7UUFDdkJOLGFBQWFBO1FBQ2JDLFdBQVcsRUFBRTtRQUNiTSxXQUFXO1FBQ1hDLGlCQUFpQixDQUFDO1FBQ2xCQyxtQkFBbUJDO0lBQ3JCO0lBRUFULFVBQVVVLE9BQU8sQ0FBQ0MsQ0FBQUE7UUFDaEIsTUFBTUMsZUFBZWpDLGNBQWMsQ0FBQ2dDLFNBQVM7UUFDN0MsSUFBSUMsaUJBQWlCSCxXQUFXO1lBQzlCUCxNQUFNRixTQUFTLENBQUNhLElBQUksQ0FBQztnQkFDbkJDLE1BQU1GO2dCQUNOckIsTUFBTW9CO2dCQUNOSSxhQUFhbkMsc0JBQXNCLENBQUNnQyxhQUFhLElBQUlEO2dCQUNyREssVUFBVTtnQkFDVkMsaUJBQWlCO2dCQUNqQkMsV0FBVzlCLFlBQVkrQixHQUFHLENBQUM1QixDQUFBQSxPQUFRRCxvQkFBb0JDO2dCQUN2RDZCLHFCQUFxQjlCLG9CQUFvQkQ7WUFDM0M7UUFDRjtJQUNGO0lBRUEsT0FBT2E7QUFDVDtBQUVBLE1BQU1tQixnQkFBZ0IsQ0FBQ0M7SUFDckIsSUFBSSxDQUFDQSxVQUFVLE9BQU87UUFBRUMsTUFBTTtRQUFJQyxNQUFNO0lBQUc7SUFDM0MsSUFBSTtRQUNGLE1BQU1ELE9BQU8sSUFBSW5CLEtBQUtrQjtRQUN0QixJQUFJRyxNQUFNRixLQUFLRyxPQUFPLEtBQUssT0FBTztZQUFFSCxNQUFNO1lBQUlDLE1BQU07UUFBRztRQUV2RCxNQUFNRyxPQUFPSixLQUFLSyxXQUFXO1FBQzdCLE1BQU1DLFFBQVFDLE9BQU9QLEtBQUtRLFFBQVEsS0FBSyxHQUFHQyxRQUFRLENBQUMsR0FBRztRQUN0RCxNQUFNQyxNQUFNSCxPQUFPUCxLQUFLVyxPQUFPLElBQUlGLFFBQVEsQ0FBQyxHQUFHO1FBQy9DLE1BQU1HLFFBQVFMLE9BQU9QLEtBQUthLFFBQVEsSUFBSUosUUFBUSxDQUFDLEdBQUc7UUFDbEQsTUFBTUssVUFBVVAsT0FBT1AsS0FBS2UsVUFBVSxJQUFJTixRQUFRLENBQUMsR0FBRztRQUV0RCxPQUFPO1lBQ0xULE1BQU0sR0FBV00sT0FBUkYsTUFBSyxLQUFZTSxPQUFUSixPQUFNLEtBQU8sT0FBSkk7WUFDMUJULE1BQU0sR0FBWWEsT0FBVEYsT0FBTSxLQUFXLE9BQVJFO1FBQ3BCO0lBQ0YsRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU87WUFBRWhCLE1BQU07WUFBSUMsTUFBTTtRQUFHO0lBQzlCO0FBQ0Y7QUFFQSxNQUFNaUIsaUJBQWlCLENBQUNDLGVBQWVDO0lBQ3JDLElBQUksQ0FBQ0QsaUJBQWlCLENBQUNDLGFBQWEsT0FBTztJQUMzQyxJQUFJO1FBQ0YsTUFBTUMsUUFBUSxJQUFJeEMsS0FBS3NDO1FBQ3ZCLE1BQU1HLE1BQU0sSUFBSXpDLEtBQUt1QztRQUNyQixJQUFJbEIsTUFBTW1CLE1BQU1sQixPQUFPLE9BQU9ELE1BQU1vQixJQUFJbkIsT0FBTyxLQUFLLE9BQU87UUFFM0QsTUFBTW9CLFlBQVksQ0FBQ0QsTUFBTUQsS0FBSSxJQUFNLFFBQU8sS0FBSyxFQUFDO1FBQ2hELE9BQU9FLFVBQVVDLE9BQU8sQ0FBQztJQUMzQixFQUFFLE9BQU9SLE9BQU87UUFDZCxPQUFPO0lBQ1Q7QUFDRjtBQUVBLE1BQU1TLGlCQUFpQixPQUFPL0M7SUFDNUIsSUFBSTtRQUNGLE1BQU1nRCxXQUFXLE1BQU1DLE1BQU0sR0FBeUJqRCxPQUF0QmYsb0JBQW1CLEtBQVcsT0FBUmU7UUFFdEQsSUFBSSxDQUFDZ0QsU0FBU0UsRUFBRSxFQUFFO1lBQ2hCLElBQUlGLFNBQVNHLE1BQU0sS0FBSyxLQUFLO2dCQUMzQixPQUFPO29CQUFFQyxTQUFTO29CQUFNQyxNQUFNO2dCQUFLO1lBQ3JDO1lBQ0EsTUFBTSxJQUFJQyxNQUFNLCtCQUErQyxPQUFoQk4sU0FBU0csTUFBTTtRQUNoRTtRQUVBLE1BQU1JLGVBQWUsTUFBTVAsU0FBU1EsSUFBSTtRQUV4QyxJQUFJRCxhQUFhSCxPQUFPLElBQUlHLGFBQWFGLElBQUksSUFBSUUsYUFBYUYsSUFBSSxDQUFDSSxLQUFLLEVBQUU7WUFDeEUsT0FBTztnQkFBRUwsU0FBUztnQkFBTUMsTUFBTUUsYUFBYUYsSUFBSSxDQUFDSSxLQUFLO1lBQUM7UUFDeEQ7UUFFQSxJQUFJRixhQUFhRixJQUFJLElBQUlLLE1BQU1DLE9BQU8sQ0FBQ0osYUFBYUYsSUFBSSxHQUFHO1lBQ3pELE9BQU87Z0JBQUVELFNBQVM7Z0JBQU1DLE1BQU1FLGFBQWFGLElBQUk7WUFBQztRQUNsRDtRQUVBLElBQUlLLE1BQU1DLE9BQU8sQ0FBQ0osZUFBZTtZQUMvQixPQUFPO2dCQUFFSCxTQUFTO2dCQUFNQyxNQUFNRTtZQUFhO1FBQzdDO1FBRUEsSUFBSUEsYUFBYXJELEVBQUUsSUFBSXFELGFBQWFLLFFBQVEsRUFBRTtZQUM1QyxPQUFPO2dCQUFFUixTQUFTO2dCQUFNQyxNQUFNO29CQUFDRTtpQkFBYTtZQUFDO1FBQy9DO1FBRUEsT0FBTztZQUFFSCxTQUFTO1lBQU1DLE1BQU07UUFBSztJQUNyQyxFQUFFLE9BQU9mLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsT0FBTztZQUFFYyxTQUFTO1lBQU9kLE9BQU9BLE1BQU11QixPQUFPO1FBQUM7SUFDaEQ7QUFDRjtBQUVBLE1BQU1DLGtCQUFrQixDQUFDeEMsTUFBTUM7SUFDN0IsSUFBSSxDQUFDRCxRQUFRLENBQUNDLE1BQU0sT0FBTztJQUMzQixJQUFJO1FBQ0YsTUFBTXdDLGNBQWMsR0FBV3hDLE9BQVJELE1BQUssS0FBUSxPQUFMQyxNQUFLO1FBQ3BDLE1BQU1GLFdBQVcsSUFBSWxCLEtBQUs0RDtRQUUxQixJQUFJdkMsTUFBTUgsU0FBU0ksT0FBTyxLQUFLLE9BQU87UUFFdEMsT0FBT0osU0FBUzJDLFdBQVc7SUFDN0IsRUFBRSxPQUFPMUIsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNkJBQTZCQTtRQUMzQyxPQUFPO0lBQ1Q7QUFDRjtBQUVBLE1BQU0yQixrQkFBa0IsQ0FBQ0M7SUFDdkIsT0FBT0EsU0FBUzNFLFNBQVMsSUFBSTJFLFNBQVMxRSxTQUFTLElBQUkwRSxTQUFTekUsT0FBTyxJQUFJeUUsU0FBU3hFLE9BQU8sSUFBSXdFLFNBQVN0RSxPQUFPO0FBQzdHO0FBRUEsTUFBTXVFLDBCQUEwQixDQUFDekQsVUFBVTBEO0lBQ3pDLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJM0QsU0FBU08sU0FBUyxDQUFDcUQsTUFBTSxHQUFHLEdBQUdELElBQUs7UUFDdEQsTUFBTUUsZUFBZTdELFNBQVNPLFNBQVMsQ0FBQ29ELEVBQUU7UUFDMUMsTUFBTUcsWUFBWTlELFNBQVNPLFNBQVMsQ0FBQ29ELElBQUksRUFBRTtRQUUzQyxJQUFJLENBQUNFLGFBQWE5RSxPQUFPLElBQUksQ0FBQzhFLGFBQWE3RSxPQUFPLElBQUksQ0FBQzhFLFVBQVVqRixTQUFTLElBQUksQ0FBQ2lGLFVBQVVoRixTQUFTLEVBQUU7WUFDbEc7UUFDRjtRQUVBLE1BQU1pRixhQUFhWCxnQkFBZ0JTLGFBQWE5RSxPQUFPLEVBQUU4RSxhQUFhN0UsT0FBTztRQUM3RSxNQUFNZ0YsWUFBWVosZ0JBQWdCVSxVQUFVakYsU0FBUyxFQUFFaUYsVUFBVWhGLFNBQVM7UUFFMUUsSUFBSWlGLGNBQWNDLFdBQVc7WUFDM0IsSUFBSSxJQUFJdkUsS0FBS3NFLGNBQWMsSUFBSXRFLEtBQUt1RSxZQUFZO2dCQUM5Q04sTUFBTTlCLEtBQUssQ0FBQyxHQUE0QmtDLE9BQXpCOUQsU0FBU0ksV0FBVyxFQUFDLE1BQXVDeUQsT0FBbkNDLFVBQVVsRixJQUFJLEVBQUMsc0JBQXNDLE9BQWxCaUYsYUFBYWpGLElBQUksRUFBQztnQkFDN0YsT0FBTztZQUNUO1FBQ0Y7SUFDRjtJQUNBLE9BQU87QUFDVDtBQUVBLE1BQU1xRiwwQkFBMEIsU0FBQ2pFO1FBQVVrRSxzRkFBcUI7SUFDOUQsTUFBTUMsY0FBY25FLFNBQVNPLFNBQVMsQ0FBQzZELElBQUksQ0FBQ1osQ0FBQUEsV0FDMUNBLFNBQVMzRSxTQUFTLElBQUkyRSxTQUFTMUUsU0FBUyxJQUFJMEUsU0FBU3pFLE9BQU8sSUFBSXlFLFNBQVN4RSxPQUFPLElBQUl3RSxTQUFTdEUsT0FBTztJQUd0RyxJQUFJLENBQUNpRixlQUFlLENBQUNELG9CQUFvQjtRQUN2QyxPQUFPO0lBQ1Q7SUFFQSx3Q0FBd0M7SUFDeEMsS0FBSyxNQUFNVixZQUFZeEQsU0FBU08sU0FBUyxDQUFFO1FBQ3pDLElBQUlpRCxTQUFTM0UsU0FBUyxJQUFJLENBQUMyRSxTQUFTMUUsU0FBUyxFQUFFO1lBQzdDLE9BQU87UUFDVDtRQUVBLElBQUkwRSxTQUFTMUUsU0FBUyxJQUFJLENBQUMwRSxTQUFTM0UsU0FBUyxFQUFFO1lBQzdDZ0QsUUFBUXdDLEdBQUcsQ0FBQyxnQkFBdURiLE9BQWpEeEQsU0FBU0ksV0FBVyxFQUFDLDhCQUEwQyxPQUFkb0QsU0FBUzVFLElBQUksRUFBQztZQUNqRixPQUFPO1FBQ1Q7UUFFQSxJQUFJNEUsU0FBU3pFLE9BQU8sSUFBSSxDQUFDeUUsU0FBU3hFLE9BQU8sRUFBRTtZQUN6QzZDLFFBQVF3QyxHQUFHLENBQUMsZ0JBQXNEYixPQUFoRHhELFNBQVNJLFdBQVcsRUFBQyw2QkFBeUMsT0FBZG9ELFNBQVM1RSxJQUFJLEVBQUM7WUFDaEYsT0FBTztRQUNUO1FBRUEsSUFBSTRFLFNBQVN4RSxPQUFPLElBQUksQ0FBQ3dFLFNBQVN6RSxPQUFPLEVBQUU7WUFDekM4QyxRQUFRd0MsR0FBRyxDQUFDLGdCQUFzRGIsT0FBaER4RCxTQUFTSSxXQUFXLEVBQUMsNkJBQXlDLE9BQWRvRCxTQUFTNUUsSUFBSSxFQUFDO1lBQ2hGLE9BQU87UUFDVDtJQUNGO0lBRUEsNkRBQTZEO0lBQzdELElBQUlzRixzQkFBc0JsRSxTQUFTUyxtQkFBbUIsRUFBRTtRQUN0RCxNQUFNNkQsS0FBS3RFLFNBQVNTLG1CQUFtQjtRQUV2QyxxQ0FBcUM7UUFDckMsTUFBTThELFlBQVlELEdBQUd6RixTQUFTLElBQUl5RixHQUFHeEYsU0FBUyxJQUFJd0YsR0FBR3ZGLE9BQU8sSUFBSXVGLEdBQUd0RixPQUFPLElBQUlzRixHQUFHcEYsT0FBTztRQUV4RixJQUFJcUYsV0FBVztZQUNiLHdCQUF3QjtZQUN4QixJQUFJRCxHQUFHekYsU0FBUyxJQUFJLENBQUN5RixHQUFHeEYsU0FBUyxFQUFFLE9BQU87WUFDMUMsSUFBSXdGLEdBQUd4RixTQUFTLElBQUksQ0FBQ3dGLEdBQUd6RixTQUFTLEVBQUUsT0FBTztZQUMxQyxJQUFJeUYsR0FBR3ZGLE9BQU8sSUFBSSxDQUFDdUYsR0FBR3RGLE9BQU8sRUFBRSxPQUFPO1lBQ3RDLElBQUlzRixHQUFHdEYsT0FBTyxJQUFJLENBQUNzRixHQUFHdkYsT0FBTyxFQUFFLE9BQU87WUFFdEMsNENBQTRDO1lBQzVDLElBQUl1RixHQUFHekYsU0FBUyxJQUFJeUYsR0FBR3hGLFNBQVMsSUFBSXdGLEdBQUd2RixPQUFPLElBQUl1RixHQUFHdEYsT0FBTyxFQUFFO2dCQUM1RCxNQUFNK0MsZ0JBQWdCLElBQUl0QyxLQUFLLEdBQW1CNkUsT0FBaEJBLEdBQUd6RixTQUFTLEVBQUMsS0FBZ0IsT0FBYnlGLEdBQUd4RixTQUFTO2dCQUM5RCxNQUFNa0QsY0FBYyxJQUFJdkMsS0FBSyxHQUFpQjZFLE9BQWRBLEdBQUd2RixPQUFPLEVBQUMsS0FBYyxPQUFYdUYsR0FBR3RGLE9BQU87Z0JBQ3hELElBQUkrQyxnQkFBZ0JDLGFBQWEsT0FBTztZQUMxQztRQUNGO0lBQ0Y7SUFFQUgsUUFBUXdDLEdBQUcsQ0FBQyxLQUEwQixPQUFyQnJFLFNBQVNJLFdBQVcsRUFBQztJQUN0QyxPQUFPO0FBQ1Q7QUFFQSxNQUFNb0UsMEJBQTBCLENBQUN4RTtJQUMvQixNQUFNc0UsS0FBS3RFLFNBQVNTLG1CQUFtQjtJQUN2QyxJQUFJLENBQUM2RCxJQUFJLE9BQU87SUFFaEIsNkVBQTZFO0lBQzdFLE1BQU1DLFlBQVlELEdBQUd6RixTQUFTLElBQUl5RixHQUFHeEYsU0FBUyxJQUFJd0YsR0FBR3ZGLE9BQU8sSUFBSXVGLEdBQUd0RixPQUFPO0lBRTFFLElBQUl1RixXQUFXO1FBQ2Isd0JBQXdCO1FBQ3hCLElBQUlELEdBQUd6RixTQUFTLElBQUksQ0FBQ3lGLEdBQUd4RixTQUFTLEVBQUUsT0FBTztRQUMxQyxJQUFJd0YsR0FBR3hGLFNBQVMsSUFBSSxDQUFDd0YsR0FBR3pGLFNBQVMsRUFBRSxPQUFPO1FBRTFDLHNCQUFzQjtRQUN0QixJQUFJeUYsR0FBR3ZGLE9BQU8sSUFBSSxDQUFDdUYsR0FBR3RGLE9BQU8sRUFBRSxPQUFPO1FBQ3RDLElBQUlzRixHQUFHdEYsT0FBTyxJQUFJLENBQUNzRixHQUFHdkYsT0FBTyxFQUFFLE9BQU87UUFFdEMsc0JBQXNCO1FBQ3RCLElBQUl1RixHQUFHekYsU0FBUyxJQUFJeUYsR0FBR3hGLFNBQVMsSUFBSXdGLEdBQUd2RixPQUFPLElBQUl1RixHQUFHdEYsT0FBTyxFQUFFO1lBQzVELE1BQU0rQyxnQkFBZ0IsSUFBSXRDLEtBQUssR0FBbUI2RSxPQUFoQkEsR0FBR3pGLFNBQVMsRUFBQyxLQUFnQixPQUFieUYsR0FBR3hGLFNBQVM7WUFDOUQsTUFBTWtELGNBQWMsSUFBSXZDLEtBQUssR0FBaUI2RSxPQUFkQSxHQUFHdkYsT0FBTyxFQUFDLEtBQWMsT0FBWHVGLEdBQUd0RixPQUFPO1lBQ3hELElBQUkrQyxnQkFBZ0JDLGFBQWEsT0FBTztRQUMxQztJQUNGO0lBRUEsT0FBTztBQUNUO0FBRUEsTUFBTXlDLHNCQUFzQixDQUFDbEYsT0FBT1MsVUFBVTBFO0lBQzVDLElBQUksQ0FBQzFFLFVBQVUsT0FBTztJQUV0QixNQUFNMkUsVUFBVTNFLFNBQVNPLFNBQVMsQ0FBQyxFQUFFLElBQUk1QixvQkFBb0I7SUFDN0QsTUFBTWlHLGNBQWM1RSxTQUFTTyxTQUFTLENBQUMsRUFBRSxJQUFJNUIsb0JBQW9CO0lBQ2pFLE1BQU1rRyxlQUFlN0UsU0FBU08sU0FBUyxDQUFDLEVBQUUsSUFBSTVCLG9CQUFvQjtJQUNsRSxNQUFNbUcsZ0JBQWdCOUUsU0FBU08sU0FBUyxDQUFDLEVBQUUsSUFBSTVCLG9CQUFvQjtJQUNuRSxNQUFNb0csZUFBZS9FLFNBQVNPLFNBQVMsQ0FBQyxFQUFFLElBQUk1QixvQkFBb0I7SUFDbEUsTUFBTXFHLG1CQUFtQmhGLFNBQVNPLFNBQVMsQ0FBQyxFQUFFLElBQUk1QixvQkFBb0I7SUFDdEUsTUFBTXNHLGNBQWNqRixTQUFTUyxtQkFBbUIsSUFBSTlCLG9CQUFvQjtJQUV4RSx1RUFBdUU7SUFDdkUsTUFBTXVHLGlCQUFpQixDQUFDN0I7UUFDdEIsSUFBSSxDQUFDQSxhQUFhLE9BQU87UUFDekIsSUFBSTtZQUNGLE1BQU16QyxPQUFPLElBQUluQixLQUFLNEQ7WUFDdEIsSUFBSXZDLE1BQU1GLEtBQUtHLE9BQU8sS0FBSyxPQUFPO1lBRWxDLE1BQU1DLE9BQU9KLEtBQUtLLFdBQVc7WUFDN0IsTUFBTUMsUUFBUUMsT0FBT1AsS0FBS1EsUUFBUSxLQUFLLEdBQUdDLFFBQVEsQ0FBQyxHQUFHO1lBQ3RELE1BQU1DLE1BQU1ILE9BQU9QLEtBQUtXLE9BQU8sSUFBSUYsUUFBUSxDQUFDLEdBQUc7WUFDL0MsTUFBTUcsUUFBUUwsT0FBT1AsS0FBS2EsUUFBUSxJQUFJSixRQUFRLENBQUMsR0FBRztZQUNsRCxNQUFNSyxVQUFVUCxPQUFPUCxLQUFLZSxVQUFVLElBQUlOLFFBQVEsQ0FBQyxHQUFHO1lBQ3RELE1BQU04RCxVQUFVaEUsT0FBT1AsS0FBS3dFLFVBQVUsSUFBSS9ELFFBQVEsQ0FBQyxHQUFHO1lBRXRELE9BQU8sR0FBV0gsT0FBUkYsTUFBSyxLQUFZTSxPQUFUSixPQUFNLEtBQVVNLE9BQVBGLEtBQUksS0FBWUksT0FBVEYsT0FBTSxLQUFjMkQsT0FBWHpELFNBQVEsS0FBVyxPQUFSeUQ7UUFDeEQsRUFBRSxPQUFPdkQsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsOEJBQThCQTtZQUM1QyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLGlEQUFpRDtJQUNqRCxNQUFNeUQsZ0JBQWdCLFFBQVN4RyxTQUFTLElBQUk4RixRQUFRN0YsU0FBUyxHQUN6RHNFLGdCQUFnQnVCLFFBQVE5RixTQUFTLEVBQUU4RixRQUFRN0YsU0FBUyxJQUNwRDtJQUNKLE1BQU13RyxjQUFjLFFBQVN2RyxPQUFPLElBQUk0RixRQUFRM0YsT0FBTyxHQUNuRG9FLGdCQUFnQnVCLFFBQVE1RixPQUFPLEVBQUU0RixRQUFRM0YsT0FBTyxJQUNoRDtJQUVKLE1BQU11RyxxQkFBcUIsWUFBYTFHLFNBQVMsSUFBSStGLFlBQVk5RixTQUFTLEdBQ3RFc0UsZ0JBQWdCd0IsWUFBWS9GLFNBQVMsRUFBRStGLFlBQVk5RixTQUFTLElBQzVEO0lBQ0osTUFBTTBHLG1CQUFtQixZQUFhekcsT0FBTyxJQUFJNkYsWUFBWTVGLE9BQU8sR0FDaEVvRSxnQkFBZ0J3QixZQUFZN0YsT0FBTyxFQUFFNkYsWUFBWTVGLE9BQU8sSUFDeEQ7SUFFSixNQUFNeUcsc0JBQXNCLGFBQWM1RyxTQUFTLElBQUlnRyxhQUFhL0YsU0FBUyxHQUN6RXNFLGdCQUFnQnlCLGFBQWFoRyxTQUFTLEVBQUVnRyxhQUFhL0YsU0FBUyxJQUM5RDtJQUNKLE1BQU00RyxvQkFBb0IsYUFBYzNHLE9BQU8sSUFBSThGLGFBQWE3RixPQUFPLEdBQ25Fb0UsZ0JBQWdCeUIsYUFBYTlGLE9BQU8sRUFBRThGLGFBQWE3RixPQUFPLElBQzFEO0lBRUosTUFBTTJHLHVCQUF1QixjQUFlOUcsU0FBUyxJQUFJaUcsY0FBY2hHLFNBQVMsR0FDNUVzRSxnQkFBZ0IwQixjQUFjakcsU0FBUyxFQUFFaUcsY0FBY2hHLFNBQVMsSUFDaEU7SUFDSixNQUFNOEcscUJBQXFCLGNBQWU3RyxPQUFPLElBQUkrRixjQUFjOUYsT0FBTyxHQUN0RW9FLGdCQUFnQjBCLGNBQWMvRixPQUFPLEVBQUUrRixjQUFjOUYsT0FBTyxJQUM1RDtJQUVKLE1BQU02RyxzQkFBc0IsYUFBY2hILFNBQVMsSUFBSWtHLGFBQWFqRyxTQUFTLEdBQ3pFc0UsZ0JBQWdCMkIsYUFBYWxHLFNBQVMsRUFBRWtHLGFBQWFqRyxTQUFTLElBQzlEO0lBQ0osTUFBTWdILG9CQUFvQixhQUFjL0csT0FBTyxJQUFJZ0csYUFBYS9GLE9BQU8sR0FDbkVvRSxnQkFBZ0IyQixhQUFhaEcsT0FBTyxFQUFFZ0csYUFBYS9GLE9BQU8sSUFDMUQ7SUFFSixNQUFNK0csMkJBQTJCLGlCQUFrQmxILFNBQVMsSUFBSW1HLGlCQUFpQmxHLFNBQVMsR0FDdEZzRSxnQkFBZ0I0QixpQkFBaUJuRyxTQUFTLEVBQUVtRyxpQkFBaUJsRyxTQUFTLElBQ3RFO0lBQ0osTUFBTWtILHlCQUF5QixpQkFBa0JqSCxPQUFPLElBQUlpRyxpQkFBaUJoRyxPQUFPLEdBQ2hGb0UsZ0JBQWdCNEIsaUJBQWlCakcsT0FBTyxFQUFFaUcsaUJBQWlCaEcsT0FBTyxJQUNsRTtJQUVKLE1BQU1pSCxxQkFBcUIsWUFBYXBILFNBQVMsSUFBSW9HLFlBQVluRyxTQUFTLEdBQ3RFc0UsZ0JBQWdCNkIsWUFBWXBHLFNBQVMsRUFBRW9HLFlBQVluRyxTQUFTLElBQzVEO0lBQ0osTUFBTW9ILG1CQUFtQixZQUFhbkgsT0FBTyxJQUFJa0csWUFBWWpHLE9BQU8sR0FDaEVvRSxnQkFBZ0I2QixZQUFZbEcsT0FBTyxFQUFFa0csWUFBWWpHLE9BQU8sSUFDeEQ7SUFFSixNQUFNaUIsZUFBZUQsU0FBU0csSUFBSTtJQUVsQywwREFBMEQ7SUFDMUQsTUFBTWdHLFVBQVU7UUFDZGpELFVBQVUzRCxNQUFNQyxFQUFFO1FBQ2xCNEcsWUFBWW5HO1FBQ1pvRyxZQUFZbkIsZUFBZUc7UUFDM0JpQixVQUFVcEIsZUFBZWMsMEJBQTBCRTtRQUNuREssYUFBYTdCO1FBQ2JDLFNBQVM7WUFDUDBCLFlBQVluQixlQUFlRztZQUMzQmlCLFVBQVVwQixlQUFlSTtRQUMzQjtRQUNBa0IsY0FBYztZQUNaSCxZQUFZbkIsZUFBZUs7WUFDM0JlLFVBQVVwQixlQUFlTTtRQUMzQjtRQUNBaUIsZUFBZTtZQUNiSixZQUFZbkIsZUFBZU87WUFDM0JhLFVBQVVwQixlQUFlUTtRQUMzQjtRQUNBZ0IsZ0JBQWdCO1lBQ2RMLFlBQVluQixlQUFlUztZQUMzQlcsVUFBVXBCLGVBQWVVO1FBQzNCO1FBQ0FlLGVBQWU7WUFDYk4sWUFBWW5CLGVBQWVXO1lBQzNCUyxVQUFVcEIsZUFBZVk7UUFDM0I7UUFDQWMsb0JBQW9CO1lBQ2xCUCxZQUFZbkIsZUFBZWE7WUFDM0JPLFVBQVVwQixlQUFlYztRQUMzQjtRQUNBYSxjQUFjO1lBQ1pSLFlBQVluQixlQUFlZTtZQUMzQkssVUFBVXBCLGVBQWVnQjtRQUMzQjtJQUNGO0lBRUEsNENBQTRDO0lBQzVDWSxPQUFPQyxJQUFJLENBQUNaLFNBQVNwRyxPQUFPLENBQUNpSCxDQUFBQTtRQUMzQixJQUFJYixPQUFPLENBQUNhLElBQUksS0FBSyxNQUFNO1lBQ3pCLE9BQU9iLE9BQU8sQ0FBQ2EsSUFBSTtRQUNyQixPQUFPLElBQUksT0FBT2IsT0FBTyxDQUFDYSxJQUFJLEtBQUssWUFBWWIsT0FBTyxDQUFDYSxJQUFJLEtBQUssUUFBUUEsUUFBUSxjQUFjQSxRQUFRLGdCQUFnQkEsUUFBUSxlQUFlO1lBQzNJLElBQUlDLGdCQUFnQjtZQUNwQkgsT0FBT0MsSUFBSSxDQUFDWixPQUFPLENBQUNhLElBQUksRUFBRWpILE9BQU8sQ0FBQ21ILENBQUFBO2dCQUNoQyxJQUFJZixPQUFPLENBQUNhLElBQUksQ0FBQ0UsT0FBTyxLQUFLLE1BQU07b0JBQ2pDLE9BQU9mLE9BQU8sQ0FBQ2EsSUFBSSxDQUFDRSxPQUFPO2dCQUM3QixPQUFPO29CQUNMRCxnQkFBZ0I7Z0JBQ2xCO1lBQ0Y7WUFFQSxJQUFJLENBQUNBLGVBQWU7Z0JBQ2xCLE9BQU9kLE9BQU8sQ0FBQ2EsSUFBSTtZQUNyQjtRQUNGO0lBQ0Y7SUFFQW5GLFFBQVF3QyxHQUFHLENBQUMsc0NBQWlELE9BQXJCckUsU0FBU0ksV0FBVyxFQUFDLE1BQUkrRjtJQUNqRSxPQUFPQTtBQUNUO0FBRUEsTUFBTWdCLHlCQUF5QixDQUFDQyxTQUFTN0g7SUFDdkMsSUFBSSxDQUFDNkgsV0FBVyxDQUFDcEUsTUFBTUMsT0FBTyxDQUFDbUUsVUFBVTtRQUN2Q3ZGLFFBQVF3QyxHQUFHLENBQUMseUNBQXlDK0M7UUFDckQsT0FBTzdIO0lBQ1Q7SUFFQXNDLFFBQVF3QyxHQUFHLENBQUMsOENBQThDK0MsUUFBUXhELE1BQU07SUFFeEVyRSxNQUFNRixTQUFTLENBQUNVLE9BQU8sQ0FBQ0MsQ0FBQUE7UUFDdEIsTUFBTXFILGVBQWVELFFBQVFFLElBQUksQ0FBQ0MsQ0FBQUEsSUFDaENBLEVBQUVuQixVQUFVLElBQUltQixFQUFFbkIsVUFBVSxLQUFLcEcsU0FBU0csSUFBSTtRQUdoRCxJQUFJLENBQUNrSCxjQUFjO1lBQ2pCeEYsUUFBUXdDLEdBQUcsQ0FBQyxrQ0FBaUVyRSxPQUEvQkEsU0FBU0ksV0FBVyxFQUFDLFlBQXdCLE9BQWRKLFNBQVNHLElBQUksRUFBQztZQUMzRjtRQUNGO1FBRUEwQixRQUFRd0MsR0FBRyxDQUFDLG9CQUF5QyxPQUFyQnJFLFNBQVNJLFdBQVcsRUFBQyxNQUFJaUg7UUFFekQsSUFBSUEsYUFBYTdILEVBQUUsRUFBRTtZQUNuQlEsU0FBU0ssUUFBUSxHQUFHZ0gsYUFBYTdILEVBQUU7WUFDbkNRLFNBQVNNLGVBQWUsR0FBRztZQUMzQnVCLFFBQVF3QyxHQUFHLENBQUMscUNBQW9EZ0QsT0FBekJySCxTQUFTSSxXQUFXLEVBQUMsTUFBb0IsT0FBaEJpSCxhQUFhN0gsRUFBRTtRQUNqRjtRQUVBLE1BQU1nSSxrQkFBa0I7WUFDdEI7Z0JBQUU1SSxNQUFNO2dCQUFXK0QsTUFBTTBFLGFBQWExQyxPQUFPO1lBQUM7WUFDOUM7Z0JBQUUvRixNQUFNO2dCQUFnQitELE1BQU0wRSxhQUFhYixZQUFZO1lBQUM7WUFDeEQ7Z0JBQUU1SCxNQUFNO2dCQUFnQitELE1BQU0wRSxhQUFhWixhQUFhO1lBQUM7WUFDekQ7Z0JBQUU3SCxNQUFNO2dCQUFxQitELE1BQU0wRSxhQUFhWCxjQUFjO1lBQUM7WUFDL0Q7Z0JBQUU5SCxNQUFNO2dCQUFnQitELE1BQU0wRSxhQUFhVixhQUFhO1lBQUM7WUFDekQ7Z0JBQUUvSCxNQUFNO2dCQUFxQitELE1BQU0wRSxhQUFhVCxrQkFBa0I7WUFBQztTQUNwRTtRQUVEWSxnQkFBZ0J6SCxPQUFPLENBQUMsQ0FBQzBILFNBQVNDO1lBQ2hDLElBQUlELFFBQVE5RSxJQUFJLEVBQUU7Z0JBQ2hCZCxRQUFRd0MsR0FBRyxDQUFDLDJCQUFxQ3JFLE9BQXBCeUgsUUFBUTdJLElBQUksRUFBQyxTQUE0QixPQUFyQm9CLFNBQVNJLFdBQVcsRUFBQyxNQUFJcUgsUUFBUTlFLElBQUk7Z0JBRXRGLElBQUk4RSxRQUFROUUsSUFBSSxDQUFDMEQsVUFBVSxFQUFFO29CQUMzQixNQUFNLEVBQUV6RixNQUFNL0IsU0FBUyxFQUFFZ0MsTUFBTS9CLFNBQVMsRUFBRSxHQUFHNEIsY0FBYytHLFFBQVE5RSxJQUFJLENBQUMwRCxVQUFVO29CQUNsRnJHLFNBQVNPLFNBQVMsQ0FBQ21ILE1BQU0sQ0FBQzdJLFNBQVMsR0FBR0E7b0JBQ3RDbUIsU0FBU08sU0FBUyxDQUFDbUgsTUFBTSxDQUFDNUksU0FBUyxHQUFHQTtvQkFDdEMrQyxRQUFRd0MsR0FBRyxDQUFDLFlBQXlCdkYsT0FBYkQsV0FBVSxLQUFhLE9BQVZDO2dCQUN2QztnQkFFQSxJQUFJMkksUUFBUTlFLElBQUksQ0FBQzJELFFBQVEsRUFBRTtvQkFDekIsTUFBTSxFQUFFMUYsTUFBTTdCLE9BQU8sRUFBRThCLE1BQU03QixPQUFPLEVBQUUsR0FBRzBCLGNBQWMrRyxRQUFROUUsSUFBSSxDQUFDMkQsUUFBUTtvQkFDNUV0RyxTQUFTTyxTQUFTLENBQUNtSCxNQUFNLENBQUMzSSxPQUFPLEdBQUdBO29CQUNwQ2lCLFNBQVNPLFNBQVMsQ0FBQ21ILE1BQU0sQ0FBQzFJLE9BQU8sR0FBR0E7b0JBQ3BDNkMsUUFBUXdDLEdBQUcsQ0FBQyxVQUFxQnJGLE9BQVhELFNBQVEsS0FBVyxPQUFSQztnQkFDbkM7Z0JBRUEsSUFBSXlJLFFBQVE5RSxJQUFJLENBQUNnRixjQUFjLEtBQUs3SCxhQUFhMkgsUUFBUTlFLElBQUksQ0FBQ2dGLGNBQWMsS0FBSyxNQUFNO29CQUNyRjNILFNBQVNPLFNBQVMsQ0FBQ21ILE1BQU0sQ0FBQ3pJLFVBQVUsR0FBR3dJLFFBQVE5RSxJQUFJLENBQUNnRixjQUFjLENBQUNDLFFBQVE7b0JBQzNFL0YsUUFBUXdDLEdBQUcsQ0FBQyxlQUEyQyxPQUE1Qm9ELFFBQVE5RSxJQUFJLENBQUNnRixjQUFjLEVBQUM7Z0JBQ3pEO2dCQUVBLElBQUlGLFFBQVE5RSxJQUFJLENBQUN6RCxPQUFPLEVBQUU7b0JBQ3hCYyxTQUFTTyxTQUFTLENBQUNtSCxNQUFNLENBQUN4SSxPQUFPLEdBQUd1SSxRQUFROUUsSUFBSSxDQUFDekQsT0FBTztnQkFDMUQ7WUFDRixPQUFPO2dCQUNMMkMsUUFBUXdDLEdBQUcsQ0FBQyxrQkFBcUNyRSxPQUFuQnlILFFBQVE3SSxJQUFJLEVBQUMsUUFBMkIsT0FBckJvQixTQUFTSSxXQUFXO1lBQ3ZFO1FBQ0Y7UUFFQSxtQ0FBbUM7UUFDbkMsSUFBSWlILGFBQWFSLFlBQVksRUFBRTtZQUM3QixNQUFNZ0IsU0FBU1IsYUFBYVIsWUFBWTtZQUN4Q2hGLFFBQVF3QyxHQUFHLENBQUMsNENBQXVELE9BQXJCckUsU0FBU0ksV0FBVyxFQUFDLE1BQUl5SDtZQUV2RSxJQUFJQSxPQUFPeEIsVUFBVSxFQUFFO2dCQUNyQixNQUFNLEVBQUV6RixNQUFNL0IsU0FBUyxFQUFFZ0MsTUFBTS9CLFNBQVMsRUFBRSxHQUFHNEIsY0FBY21ILE9BQU94QixVQUFVO2dCQUM1RXJHLFNBQVNTLG1CQUFtQixDQUFDNUIsU0FBUyxHQUFHQTtnQkFDekNtQixTQUFTUyxtQkFBbUIsQ0FBQzNCLFNBQVMsR0FBR0E7WUFDM0M7WUFFQSxJQUFJK0ksT0FBT3ZCLFFBQVEsRUFBRTtnQkFDbkIsTUFBTSxFQUFFMUYsTUFBTTdCLE9BQU8sRUFBRThCLE1BQU03QixPQUFPLEVBQUUsR0FBRzBCLGNBQWNtSCxPQUFPdkIsUUFBUTtnQkFDdEV0RyxTQUFTUyxtQkFBbUIsQ0FBQzFCLE9BQU8sR0FBR0E7Z0JBQ3ZDaUIsU0FBU1MsbUJBQW1CLENBQUN6QixPQUFPLEdBQUdBO1lBQ3pDO1lBRUEsSUFBSTZJLE9BQU9GLGNBQWMsS0FBSzdILGFBQWErSCxPQUFPRixjQUFjLEtBQUssTUFBTTtnQkFDekUzSCxTQUFTUyxtQkFBbUIsQ0FBQ3hCLFVBQVUsR0FBRzRJLE9BQU9GLGNBQWMsQ0FBQ0MsUUFBUTtZQUMxRTtZQUVBLElBQUlDLE9BQU8zSSxPQUFPLEVBQUU7Z0JBQ2xCYyxTQUFTUyxtQkFBbUIsQ0FBQ3ZCLE9BQU8sR0FBRzJJLE9BQU8zSSxPQUFPO1lBQ3ZEO1FBQ0Y7SUFDRjtJQUVBMkMsUUFBUXdDLEdBQUcsQ0FBQztJQUNaLE9BQU85RTtBQUNUO0FBRUEsTUFBTXVJLFlBQVksT0FBTzNCLFNBQVM0QixjQUFjM0g7SUFDOUMsSUFBSTtRQUNGeUIsUUFBUXdDLEdBQUcsQ0FBQywwQkFBNEMwRCxPQUE1QjNILGFBQVksa0JBQTZCLE9BQWIySCxjQUFhO1FBQ3JFbEcsUUFBUXdDLEdBQUcsQ0FBQyxRQUFxQixPQUFiL0Y7UUFDcEJ1RCxRQUFRd0MsR0FBRyxDQUFDLGlCQUFpQjJELEtBQUtDLFNBQVMsQ0FBQzlCLFNBQVMsTUFBTTtRQUUzRCxNQUFNN0QsV0FBVyxNQUFNQyxNQUFNakUsY0FBYztZQUN6QzRKLFFBQVE7WUFDUkMsU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7WUFDQUMsTUFBTUosS0FBS0MsU0FBUyxDQUFDOUI7UUFDdkI7UUFFQXRFLFFBQVF3QyxHQUFHLENBQUMsNkJBQTBDL0IsT0FBdkJsQyxhQUFZLGFBQTJCLE9BQWhCa0MsU0FBU0csTUFBTTtRQUVyRSxJQUFJLENBQUNILFNBQVNFLEVBQUUsRUFBRTtZQUNoQixNQUFNNkYsWUFBWSxNQUFNL0YsU0FBU1EsSUFBSSxHQUFHd0YsS0FBSyxDQUFDLElBQU87b0JBQUVDLFFBQVE7Z0JBQWdCO1lBQy9FMUcsUUFBUUQsS0FBSyxDQUFDLHlCQUF5QnlHO1lBRXZDLElBQUlHLGVBQWUsY0FBOEIsT0FBaEJsRyxTQUFTRyxNQUFNO1lBQ2hELElBQUk0RixVQUFVRSxNQUFNLEVBQUU7Z0JBQ3BCLElBQUksT0FBT0YsVUFBVUUsTUFBTSxLQUFLLFVBQVU7b0JBQ3hDQyxlQUFlSCxVQUFVRSxNQUFNO2dCQUNqQyxPQUFPLElBQUl2RixNQUFNQyxPQUFPLENBQUNvRixVQUFVRSxNQUFNLEdBQUc7b0JBQzFDQyxlQUFlSCxVQUFVRSxNQUFNLENBQUMvSCxHQUFHLENBQUNpSSxDQUFBQSxNQUFPQSxJQUFJQyxHQUFHLEVBQUVDLElBQUksQ0FBQztnQkFDM0QsT0FBTyxJQUFJLE9BQU9OLFVBQVVFLE1BQU0sS0FBSyxVQUFVO29CQUMvQ0MsZUFBZVIsS0FBS0MsU0FBUyxDQUFDSSxVQUFVRSxNQUFNO2dCQUNoRDtZQUNGO1lBRUEsTUFBTSxJQUFJM0YsTUFBTTRGO1FBQ2xCO1FBRUEsTUFBTUksU0FBUyxNQUFNdEcsU0FBU1EsSUFBSTtRQUNsQ2pCLFFBQVF3QyxHQUFHLENBQUMsaUJBQTZCLE9BQVpqRSxhQUFZLE1BQUl3STtRQUM3QyxPQUFPO1lBQUVsRyxTQUFTO1lBQU1DLE1BQU1pRztZQUFRYjtZQUFjM0g7UUFBWTtJQUNsRSxFQUFFLE9BQU93QixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQkFBK0IsT0FBWnhCLGFBQVksV0FBU3dCO1FBQ3RELE9BQU87WUFBRWMsU0FBUztZQUFPZCxPQUFPQSxNQUFNdUIsT0FBTztZQUFFNEU7WUFBYzNIO1FBQVk7SUFDM0U7QUFDRjtBQUVBLE1BQU15SSwrQkFBK0IsT0FBT3ZKLFNBQVNtRDtJQUNuRCxJQUFJO1FBQ0ZaLFFBQVF3QyxHQUFHLENBQUMsaUNBQTBENUIsT0FBbkNuRCxTQUFRLDZCQUFrQyxPQUFQbUQ7UUFDdEUsTUFBTXFHLE1BQU0sR0FBNEJ4SixPQUF6QmQsdUJBQXNCLEtBQVcsT0FBUmM7UUFDeEN1QyxRQUFRd0MsR0FBRyxDQUFDLFFBQVksT0FBSnlFO1FBRXBCLE1BQU14RyxXQUFXLE1BQU1DLE1BQU11RyxLQUFLO1lBQ2hDWixRQUFRO1lBQ1JDLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1lBQ0FDLE1BQU1KLEtBQUtDLFNBQVMsQ0FBQztnQkFDbkJjLG9CQUFvQnRHO1lBQ3RCO1FBQ0Y7UUFFQVosUUFBUXdDLEdBQUcsQ0FBQyxpQ0FBdUMsT0FBaEIvQixTQUFTRyxNQUFNO1FBRWxELElBQUksQ0FBQ0gsU0FBU0UsRUFBRSxFQUFFO1lBQ2hCLE1BQU02RixZQUFZLE1BQU0vRixTQUFTUSxJQUFJLEdBQUd3RixLQUFLLENBQUMsSUFBTztvQkFBRUMsUUFBUTtnQkFBZ0I7WUFDL0UxRyxRQUFRRCxLQUFLLENBQUMseUJBQXlCeUc7WUFDdkMsTUFBTSxJQUFJekYsTUFBTSxrQ0FBa0QsT0FBaEJOLFNBQVNHLE1BQU07UUFDbkU7UUFFQSxNQUFNbUcsU0FBUyxNQUFNdEcsU0FBU1EsSUFBSTtRQUNsQ2pCLFFBQVF3QyxHQUFHLENBQUUsd0NBQXVDdUU7UUFDcEQsT0FBTztZQUFFbEcsU0FBUztZQUFNQyxNQUFNaUc7UUFBTztJQUN2QyxFQUFFLE9BQU9oSCxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE9BQU87WUFBRWMsU0FBUztZQUFPZCxPQUFPQSxNQUFNdUIsT0FBTztRQUFDO0lBQ2hEO0FBQ0Y7QUFFQSxNQUFNNkYsOEJBQWdCN0wsaURBQVUsSUFBQztRQUFDLEVBQUU2QyxRQUFRLEVBQUVrSixRQUFRLEVBQUVDLGtCQUFrQixLQUFLLEVBQUVDLFdBQVcsS0FBSyxFQUFFO1FBaU94RXBKLCtCQUlGQSxnQ0FNRUEsZ0NBSUZBLGdDQUE0Q0EsZ0NBQXdDQSxnQ0FNbEZBLGdDQVVBQSxnQ0FVQUEsZ0NBU0FBOztJQWpSekIsTUFBTTBELFFBQVE5RixvRUFBUUE7SUFFdEIsTUFBTXlMLG9CQUFvQixTQUFDN0YsVUFBVThGLE9BQU9DLFVBQVVDO1lBQWlCQyxpRkFBZ0I7UUFDckYsSUFBSUgsVUFBVSxlQUFlQSxVQUFVLGFBQWE7WUFDbEQsSUFBSTlGLFNBQVN6RSxPQUFPLElBQUl5RSxTQUFTeEUsT0FBTyxFQUFFO2dCQUN4QyxNQUFNMEssbUJBQW1CSixVQUFVLGNBQy9CbEcsZ0JBQWdCbUcsVUFBVS9GLFNBQVMxRSxTQUFTLElBQzVDc0UsZ0JBQWdCSSxTQUFTM0UsU0FBUyxFQUFFMEs7Z0JBQ3hDLE1BQU12SCxjQUFjb0IsZ0JBQWdCSSxTQUFTekUsT0FBTyxFQUFFeUUsU0FBU3hFLE9BQU87Z0JBRXRFLElBQUkwSyxvQkFBb0IxSCxlQUFlLElBQUl2QyxLQUFLaUssb0JBQW9CLElBQUlqSyxLQUFLdUMsY0FBYztvQkFDekYwQixNQUFNOUIsS0FBSyxDQUFDLEdBQTZCNEIsT0FBMUJ4RCxTQUFTSSxXQUFXLEVBQUMsT0FBbUIsT0FBZG9ELFNBQVM1RSxJQUFJLEVBQUM7b0JBQ3ZELE9BQU87Z0JBQ1Q7WUFDRjtRQUNGLE9BQU8sSUFBSTBLLFVBQVUsYUFBYUEsVUFBVSxXQUFXO1lBQ3JELElBQUk5RixTQUFTM0UsU0FBUyxJQUFJMkUsU0FBUzFFLFNBQVMsRUFBRTtnQkFDNUMsTUFBTWlELGdCQUFnQnFCLGdCQUFnQkksU0FBUzNFLFNBQVMsRUFBRTJFLFNBQVMxRSxTQUFTO2dCQUM1RSxNQUFNNkssaUJBQWlCTCxVQUFVLFlBQzdCbEcsZ0JBQWdCbUcsVUFBVS9GLFNBQVN4RSxPQUFPLElBQzFDb0UsZ0JBQWdCSSxTQUFTekUsT0FBTyxFQUFFd0s7Z0JBRXRDLElBQUl4SCxpQkFBaUI0SCxrQkFBa0IsSUFBSWxLLEtBQUtzQyxpQkFBaUIsSUFBSXRDLEtBQUtrSyxpQkFBaUI7b0JBQ3pGakcsTUFBTTlCLEtBQUssQ0FBQyxHQUE2QjRCLE9BQTFCeEQsU0FBU0ksV0FBVyxFQUFDLE9BQW1CLE9BQWRvRCxTQUFTNUUsSUFBSSxFQUFDO29CQUN2RCxPQUFPO2dCQUNUO1lBQ0Y7UUFDRjtRQUNBLE9BQU87SUFDVDtJQUVBLE1BQU1nTCx3QkFBd0IsU0FBQ2xDLE9BQU80QixPQUFPTyxPQUFPQztZQUFpQkwsaUZBQWdCO1FBQ25GLElBQUlBLGVBQWUsT0FBTyxNQUFNLDBDQUEwQztRQUUxRSxNQUFNakcsV0FBV3NHLGdCQUFnQnZKLFNBQVMsQ0FBQ21ILE1BQU07UUFDakQsTUFBTXFDLGVBQWU7WUFBRSxHQUFHdkcsUUFBUTtZQUFFLENBQUM4RixNQUFNLEVBQUVPO1FBQU07UUFDbkQsTUFBTUcsYUFBYXRDO1FBRW5CLElBQUlzQyxhQUFhLEdBQUc7WUFDbEIsTUFBTUMsWUFBWUgsZ0JBQWdCdkosU0FBUyxDQUFDeUosYUFBYSxFQUFFO1lBQzNELElBQUlDLFVBQVVsTCxPQUFPLElBQUlrTCxVQUFVakwsT0FBTyxJQUFJK0ssYUFBYWxMLFNBQVMsSUFBSWtMLGFBQWFqTCxTQUFTLEVBQUU7Z0JBQzlGLE1BQU1vTCxVQUFVOUcsZ0JBQWdCNkcsVUFBVWxMLE9BQU8sRUFBRWtMLFVBQVVqTCxPQUFPO2dCQUNwRSxNQUFNbUwsZUFBZS9HLGdCQUFnQjJHLGFBQWFsTCxTQUFTLEVBQUVrTCxhQUFhakwsU0FBUztnQkFFbkYsSUFBSW9MLFdBQVdDLGdCQUFnQixJQUFJMUssS0FBS3lLLFdBQVcsSUFBSXpLLEtBQUswSyxlQUFlO29CQUN6RXpHLE1BQU05QixLQUFLLENBQUMsR0FBNEJtSSxPQUF6Qi9KLFNBQVNJLFdBQVcsRUFBQyxNQUEwQzZKLE9BQXRDRixhQUFhbkwsSUFBSSxFQUFDLHNCQUFtQyxPQUFmcUwsVUFBVXJMLElBQUksRUFBQztvQkFDN0YsT0FBTztnQkFDVDtZQUNGO1FBQ0Y7UUFFQSxJQUFJb0wsYUFBYUYsZ0JBQWdCdkosU0FBUyxDQUFDcUQsTUFBTSxHQUFHLEdBQUc7WUFDckQsTUFBTUUsWUFBWWdHLGdCQUFnQnZKLFNBQVMsQ0FBQ3lKLGFBQWEsRUFBRTtZQUMzRCxJQUFJRCxhQUFhaEwsT0FBTyxJQUFJZ0wsYUFBYS9LLE9BQU8sSUFBSThFLFVBQVVqRixTQUFTLElBQUlpRixVQUFVaEYsU0FBUyxFQUFFO2dCQUM5RixNQUFNaUYsYUFBYVgsZ0JBQWdCMkcsYUFBYWhMLE9BQU8sRUFBRWdMLGFBQWEvSyxPQUFPO2dCQUM3RSxNQUFNZ0YsWUFBWVosZ0JBQWdCVSxVQUFVakYsU0FBUyxFQUFFaUYsVUFBVWhGLFNBQVM7Z0JBRTFFLElBQUlpRixjQUFjQyxhQUFhLElBQUl2RSxLQUFLc0UsY0FBYyxJQUFJdEUsS0FBS3VFLFlBQVk7b0JBQ3pFTixNQUFNOUIsS0FBSyxDQUFDLEdBQTRCa0MsT0FBekI5RCxTQUFTSSxXQUFXLEVBQUMsTUFBdUMySixPQUFuQ2pHLFVBQVVsRixJQUFJLEVBQUMsc0JBQXNDLE9BQWxCbUwsYUFBYW5MLElBQUksRUFBQztvQkFDN0YsT0FBTztnQkFDVDtZQUNGO1FBQ0Y7UUFFQSxPQUFPO0lBQ1Q7SUFFQSxNQUFNd0wsZ0JBQWdCLENBQUM1RztRQUNyQixJQUFJQSxTQUFTM0UsU0FBUyxFQUFFO1lBQ3RCLE9BQU8yRSxTQUFTM0UsU0FBUztRQUMzQjtRQUNBLE9BQU9pQjtJQUNUO0lBRUEsTUFBTXVLLGdCQUFnQixDQUFDN0c7UUFDckIsSUFBSUEsU0FBUzNFLFNBQVMsS0FBSzJFLFNBQVN6RSxPQUFPLElBQUl5RSxTQUFTMUUsU0FBUyxFQUFFO1lBQ2pFLE9BQU8wRSxTQUFTMUUsU0FBUztRQUMzQjtRQUNBLE9BQU9nQjtJQUNUO0lBRUEsTUFBTXdLLG9CQUFvQixTQUFDNUMsT0FBTzRCLE9BQU9PO1lBQU9KLGlGQUFnQjtRQUM5RCxJQUFJTCxVQUFVO1FBRWQsTUFBTVUsa0JBQWtCO1lBQUUsR0FBRzlKLFFBQVE7UUFBQztRQUV0QyxJQUFJeUosZUFBZTtZQUNqQixNQUFNakcsV0FBV3NHLGdCQUFnQnJKLG1CQUFtQjtZQUVwRCxJQUFJNkksVUFBVSxlQUFlQSxVQUFVLGVBQWVBLFVBQVUsYUFBYUEsVUFBVSxXQUFXO2dCQUNoRyxJQUFJLENBQUNELGtCQUFrQjdGLFVBQVU4RixPQUFPTyxPQUFPckcsVUFBVSxPQUFPO29CQUM5RDtnQkFDRjtZQUNGO1lBRUFBLFFBQVEsQ0FBQzhGLE1BQU0sR0FBR087WUFFbEIsSUFBSXJHLFNBQVMzRSxTQUFTLElBQUkyRSxTQUFTMUUsU0FBUyxJQUFJMEUsU0FBU3pFLE9BQU8sSUFBSXlFLFNBQVN4RSxPQUFPLEVBQUU7Z0JBQ3BGLE1BQU0rQyxnQkFBZ0IsSUFBSXRDLEtBQUssR0FBeUIrRCxPQUF0QkEsU0FBUzNFLFNBQVMsRUFBQyxLQUFzQixPQUFuQjJFLFNBQVMxRSxTQUFTO2dCQUMxRSxNQUFNa0QsY0FBYyxJQUFJdkMsS0FBSyxHQUF1QitELE9BQXBCQSxTQUFTekUsT0FBTyxFQUFDLEtBQW9CLE9BQWpCeUUsU0FBU3hFLE9BQU87Z0JBQ3BFLE1BQU1tRCxZQUFZLENBQUNILGNBQWNELGFBQVksSUFBTSxRQUFPLEtBQUssRUFBQztnQkFDaEV5QixTQUFTdkUsVUFBVSxHQUFHa0QsVUFBVUMsT0FBTyxDQUFDO1lBQzFDO1FBQ0YsT0FBTztZQUNMLE1BQU1vQixXQUFXc0csZ0JBQWdCdkosU0FBUyxDQUFDbUgsTUFBTTtZQUVqRCxJQUFJNEIsVUFBVSxlQUFlQSxVQUFVLGVBQWVBLFVBQVUsYUFBYUEsVUFBVSxXQUFXO2dCQUNoRyxJQUFJLENBQUNELGtCQUFrQjdGLFVBQVU4RixPQUFPTyxPQUFPckcsV0FBVztvQkFDeEQ7Z0JBQ0Y7WUFDRjtZQUVBQSxRQUFRLENBQUM4RixNQUFNLEdBQUdPO1lBRWxCLElBQUksQ0FBQ0Qsc0JBQXNCbEMsT0FBTzRCLE9BQU9PLE9BQU9DLGtCQUFrQjtnQkFDaEU7WUFDRjtZQUVBLElBQUl0RyxTQUFTM0UsU0FBUyxJQUFJMkUsU0FBUzFFLFNBQVMsSUFBSTBFLFNBQVN6RSxPQUFPLElBQUl5RSxTQUFTeEUsT0FBTyxFQUFFO2dCQUNwRixNQUFNK0MsZ0JBQWdCLElBQUl0QyxLQUFLLEdBQXlCK0QsT0FBdEJBLFNBQVMzRSxTQUFTLEVBQUMsS0FBc0IsT0FBbkIyRSxTQUFTMUUsU0FBUztnQkFDMUUsTUFBTWtELGNBQWMsSUFBSXZDLEtBQUssR0FBdUIrRCxPQUFwQkEsU0FBU3pFLE9BQU8sRUFBQyxLQUFvQixPQUFqQnlFLFNBQVN4RSxPQUFPO2dCQUNwRSxNQUFNbUQsWUFBWSxDQUFDSCxjQUFjRCxhQUFZLElBQU0sUUFBTyxLQUFLLEVBQUM7Z0JBQ2hFeUIsU0FBU3ZFLFVBQVUsR0FBR2tELFVBQVVDLE9BQU8sQ0FBQztZQUMxQztRQUNGO1FBRUE4RyxTQUFTWTtJQUNYO0lBRUEsTUFBTVMsZ0JBQWdCO1FBQ3BCLE9BQU8sR0FBd0IsT0FBckJ2SyxTQUFTSSxXQUFXLEVBQUM7SUFDakM7SUFFQSxxQkFDRSw4REFBQ29LO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDQztnQkFBR0QsV0FBVTswQkFBZUY7Ozs7OzswQkFDN0IsOERBQUNDO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRTtvQkFBTUYsV0FBVTs7c0NBQ2YsOERBQUNHOzs4Q0FDQyw4REFBQ0M7O3NEQUNDLDhEQUFDQzs0Q0FBR0MsU0FBUTtzREFBSTs7Ozs7O3NEQUNoQiw4REFBQ0Q7NENBQUdFLFNBQVE7c0RBQUk7Ozs7OztzREFDaEIsOERBQUNGOzRDQUFHRSxTQUFRO3NEQUFJOzs7Ozs7c0RBQ2hCLDhEQUFDRjs0Q0FBR0MsU0FBUTtzREFBSTs7Ozs7O3NEQUNoQiw4REFBQ0Q7NENBQUdDLFNBQVE7c0RBQUk7Ozs7Ozs7Ozs7Ozs4Q0FFbEIsOERBQUNGOztzREFDQyw4REFBQ0M7c0RBQUc7Ozs7OztzREFDSiw4REFBQ0E7c0RBQUc7Ozs7OztzREFDSiw4REFBQ0E7c0RBQUc7Ozs7OztzREFDSiw4REFBQ0E7c0RBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQ0FHUiw4REFBQ0c7O2dDQUNFakwsU0FBU08sU0FBUyxDQUFDQyxHQUFHLENBQUMsQ0FBQ2dELFVBQVVrRSxzQkFDakMsOERBQUNtRDs7MERBQ0MsOERBQUNLO2dEQUFHVCxXQUFVOzBEQUFpQmpILFNBQVM1RSxJQUFJOzs7Ozs7MERBQzVDLDhEQUFDc007MERBQ0MsNEVBQUNDO29EQUNDaEwsTUFBSztvREFDTDBKLE9BQU9yRyxTQUFTM0UsU0FBUyxJQUFJO29EQUM3QnVNLFVBQVUsQ0FBQ0MsSUFBTWYsa0JBQWtCNUMsT0FBTyxhQUFhMkQsRUFBRUMsTUFBTSxDQUFDekIsS0FBSyxFQUFFO29EQUN2RVksV0FBVTtvREFDVmMsVUFBVW5DO29EQUNWb0MsS0FBS2hJLFNBQVN6RSxPQUFPLElBQUllOzs7Ozs7Ozs7OzswREFHN0IsOERBQUNvTDswREFDQyw0RUFBQ0M7b0RBQ0NoTCxNQUFLO29EQUNMMEosT0FBT3JHLFNBQVMxRSxTQUFTLElBQUk7b0RBQzdCc00sVUFBVSxDQUFDQyxJQUFNZixrQkFBa0I1QyxPQUFPLGFBQWEyRCxFQUFFQyxNQUFNLENBQUN6QixLQUFLLEVBQUU7b0RBQ3ZFWSxXQUFVO29EQUNWYyxVQUFVbkM7b0RBQ1ZvQyxLQUFLaEksU0FBUzNFLFNBQVMsS0FBSzJFLFNBQVN6RSxPQUFPLEdBQUd5RSxTQUFTeEUsT0FBTyxHQUFHYzs7Ozs7Ozs7Ozs7MERBR3RFLDhEQUFDb0w7MERBQ0MsNEVBQUNDO29EQUNDaEwsTUFBSztvREFDTDBKLE9BQU9yRyxTQUFTekUsT0FBTyxJQUFJO29EQUMzQnFNLFVBQVUsQ0FBQ0MsSUFBTWYsa0JBQWtCNUMsT0FBTyxXQUFXMkQsRUFBRUMsTUFBTSxDQUFDekIsS0FBSyxFQUFFO29EQUNyRVksV0FBVTtvREFDVmMsVUFBVW5DO29EQUNWcUMsS0FBS3JCLGNBQWM1Rzs7Ozs7Ozs7Ozs7MERBR3ZCLDhEQUFDMEg7MERBQ0MsNEVBQUNDO29EQUNDaEwsTUFBSztvREFDTDBKLE9BQU9yRyxTQUFTeEUsT0FBTyxJQUFJO29EQUMzQm9NLFVBQVUsQ0FBQ0MsSUFBTWYsa0JBQWtCNUMsT0FBTyxXQUFXMkQsRUFBRUMsTUFBTSxDQUFDekIsS0FBSyxFQUFFO29EQUNyRVksV0FBVTtvREFDVmMsVUFBVW5DO29EQUNWcUMsS0FBS3BCLGNBQWM3Rzs7Ozs7Ozs7Ozs7MERBR3ZCLDhEQUFDMEg7MERBQ0MsNEVBQUNDO29EQUNDaEwsTUFBSztvREFDTDBKLE9BQU9yRyxTQUFTdkUsVUFBVSxJQUFJO29EQUM5Qm1LLFFBQVE7b0RBQ1JxQixXQUFVO29EQUNWaUIsYUFBWTs7Ozs7Ozs7Ozs7MERBR2hCLDhEQUFDUjswREFDQyw0RUFBQ0M7b0RBQ0NoTCxNQUFLO29EQUNMMEosT0FBT3JHLFNBQVN0RSxPQUFPLElBQUk7b0RBQzNCa00sVUFBVSxDQUFDQyxJQUFNZixrQkFBa0I1QyxPQUFPLFdBQVcyRCxFQUFFQyxNQUFNLENBQUN6QixLQUFLLEVBQUU7b0RBQ3JFWSxXQUFVO29EQUNWaUIsYUFBWTtvREFDWkgsVUFBVW5DOzs7Ozs7Ozs7Ozs7dUNBMURQMUI7Ozs7O2dDQStEVnlCLGlDQUNDLDhEQUFDMEI7b0NBQUdKLFdBQVU7O3NEQUNaLDhEQUFDUzs0Q0FBR1QsV0FBVTtzREFBNkI7Ozs7OztzREFDM0MsOERBQUNTO3NEQUNDLDRFQUFDQztnREFDQ2hMLE1BQUs7Z0RBQ0wwSixPQUFPN0osRUFBQUEsZ0NBQUFBLFNBQVNTLG1CQUFtQixjQUE1QlQsb0RBQUFBLDhCQUE4Qm5CLFNBQVMsS0FBSTtnREFDbER1TSxVQUFVLENBQUNDLElBQU1mLGtCQUFrQixNQUFNLGFBQWFlLEVBQUVDLE1BQU0sQ0FBQ3pCLEtBQUssRUFBRTtnREFDdEVZLFdBQVU7Z0RBQ1ZjLFVBQVVuQztnREFDVm9DLEtBQUt4TCxFQUFBQSxpQ0FBQUEsU0FBU1MsbUJBQW1CLGNBQTVCVCxxREFBQUEsK0JBQThCakIsT0FBTyxLQUFJZTs7Ozs7Ozs7Ozs7c0RBR2xELDhEQUFDb0w7c0RBQ0MsNEVBQUNDO2dEQUNDaEwsTUFBSztnREFDTDBKLE9BQU83SixFQUFBQSxpQ0FBQUEsU0FBU1MsbUJBQW1CLGNBQTVCVCxxREFBQUEsK0JBQThCbEIsU0FBUyxLQUFJO2dEQUNsRHNNLFVBQVUsQ0FBQ0MsSUFBTWYsa0JBQWtCLE1BQU0sYUFBYWUsRUFBRUMsTUFBTSxDQUFDekIsS0FBSyxFQUFFO2dEQUN0RVksV0FBVTtnREFDVmMsVUFBVW5DO2dEQUNWb0MsS0FBS3hMLEVBQUFBLGlDQUFBQSxTQUFTUyxtQkFBbUIsY0FBNUJULHFEQUFBQSwrQkFBOEJuQixTQUFTLFFBQUttQixpQ0FBQUEsU0FBU1MsbUJBQW1CLGNBQTVCVCxxREFBQUEsK0JBQThCakIsT0FBTyxLQUFHaUIsaUNBQUFBLFNBQVNTLG1CQUFtQixjQUE1QlQscURBQUFBLCtCQUE4QmhCLE9BQU8sR0FBR2M7Ozs7Ozs7Ozs7O3NEQUdySSw4REFBQ29MO3NEQUNDLDRFQUFDQztnREFDQ2hMLE1BQUs7Z0RBQ0wwSixPQUFPN0osRUFBQUEsaUNBQUFBLFNBQVNTLG1CQUFtQixjQUE1QlQscURBQUFBLCtCQUE4QmpCLE9BQU8sS0FBSTtnREFDaERxTSxVQUFVLENBQUNDLElBQU1mLGtCQUFrQixNQUFNLFdBQVdlLEVBQUVDLE1BQU0sQ0FBQ3pCLEtBQUssRUFBRTtnREFDcEVZLFdBQVU7Z0RBQ1ZjLFVBQVVuQztnREFDVnFDLEtBQUtyQixjQUFjcEssU0FBU1MsbUJBQW1COzs7Ozs7Ozs7OztzREFHbkQsOERBQUN5SztzREFDQyw0RUFBQ0M7Z0RBQ0NoTCxNQUFLO2dEQUNMMEosT0FBTzdKLEVBQUFBLGlDQUFBQSxTQUFTUyxtQkFBbUIsY0FBNUJULHFEQUFBQSwrQkFBOEJoQixPQUFPLEtBQUk7Z0RBQ2hEb00sVUFBVSxDQUFDQyxJQUFNZixrQkFBa0IsTUFBTSxXQUFXZSxFQUFFQyxNQUFNLENBQUN6QixLQUFLLEVBQUU7Z0RBQ3BFWSxXQUFVO2dEQUNWYyxVQUFVbkM7Z0RBQ1ZxQyxLQUFLcEIsY0FBY3JLLFNBQVNTLG1CQUFtQjs7Ozs7Ozs7Ozs7c0RBR25ELDhEQUFDeUs7c0RBQ0MsNEVBQUNDO2dEQUNDaEwsTUFBSztnREFDTDBKLE9BQU83SixFQUFBQSxpQ0FBQUEsU0FBU1MsbUJBQW1CLGNBQTVCVCxxREFBQUEsK0JBQThCZixVQUFVLEtBQUk7Z0RBQ25EbUssUUFBUTtnREFDUnFCLFdBQVU7Z0RBQ1ZpQixhQUFZOzs7Ozs7Ozs7OztzREFHaEIsOERBQUNSO3NEQUNDLDRFQUFDQztnREFDQ2hMLE1BQUs7Z0RBQ0wwSixPQUFPN0osRUFBQUEsaUNBQUFBLFNBQVNTLG1CQUFtQixjQUE1QlQscURBQUFBLCtCQUE4QmQsT0FBTyxLQUFJO2dEQUNoRGtNLFVBQVUsQ0FBQ0MsSUFBTWYsa0JBQWtCLE1BQU0sV0FBV2UsRUFBRUMsTUFBTSxDQUFDekIsS0FBSyxFQUFFO2dEQUNwRVksV0FBVTtnREFDVmlCLGFBQVk7Z0RBQ1pILFVBQVVuQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVU5Qjs7UUEvUmdCeEwsZ0VBQVFBOzs7S0FEbEJvTDtBQWtTTkEsY0FBYzVJLFdBQVcsR0FBRztBQUU1QixTQUFTdUwsZUFBZSxLQUFxRTtRQUFyRSxFQUFFQyxhQUFhLEVBQUVDLE9BQU8sRUFBRWpLLEtBQUssRUFBRWtLLGtCQUFrQixFQUFFQyxjQUFjLEVBQUUsR0FBckU7O0lBQ3RCLE1BQU0sQ0FBQzNNLGFBQWE0TSxlQUFlLEdBQUc1TywrQ0FBUUEsQ0FBQzBPLHNCQUFzQjtJQUNyRSxNQUFNLENBQUNHLFdBQVdDLGFBQWEsR0FBRzlPLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU1zRyxRQUFROUYsb0VBQVFBO0lBQ3RCLE1BQU11TyxTQUFTM08sMERBQVNBO0lBQ3hCLE1BQU00TyxlQUFlM08sZ0VBQWVBO0lBQ3BDLE1BQU00TyxlQUFlL08sNkNBQU1BLENBQUM7SUFFNUIsb0RBQW9EO0lBQ3BERCxnREFBU0E7b0NBQUM7WUFDUixJQUFJeU8sc0JBQXNCLENBQUNPLGFBQWFDLE9BQU8sSUFBSSxDQUFDVCxTQUFTO2dCQUMzREcsZUFBZUY7Z0JBQ2ZTLGdCQUFnQlQsb0JBQW9CQztnQkFDcENNLGFBQWFDLE9BQU8sR0FBRztZQUN6QjtRQUNGO21DQUFHO1FBQUNSO1FBQW9CQztRQUFnQkY7S0FBUTtJQUVoRCxNQUFNVyx3QkFBd0IsQ0FBQzdNO1FBQzdCLE1BQU1OLFlBQVksSUFBSW9OO1FBRXRCLElBQUk5TSxhQUFhQSxVQUFVK00sbUJBQW1CLEVBQUU7WUFDOUMvTSxVQUFVK00sbUJBQW1CLENBQUMzTSxPQUFPLENBQUM0TSxDQUFBQTtnQkFDcEMsTUFBTUMsZUFBZUQsTUFBTS9OLElBQUksQ0FBQ2lPLFdBQVc7Z0JBQzNDLElBQUk3TyxjQUFjLENBQUM0TyxhQUFhLEtBQUs5TSxXQUFXO29CQUM5Q1QsVUFBVXlOLEdBQUcsQ0FBQ0Y7b0JBQ2QvSyxRQUFRd0MsR0FBRyxDQUFDLGdDQUF5Q3JHLE9BQW5CNE8sY0FBYSxRQUFtQyxPQUE3QjVPLGNBQWMsQ0FBQzRPLGFBQWE7Z0JBQ25GO1lBQ0Y7UUFDRjtRQUVBLE9BQU81SixNQUFNK0osSUFBSSxDQUFDMU47SUFDcEI7SUFFQSxNQUFNa04sa0JBQWtCLE9BQU9TLFVBQVUxTjtRQUN2QyxJQUFJLENBQUMwTixTQUFTQyxJQUFJLElBQUk7WUFDcEJ2SixNQUFNOUIsS0FBSyxDQUFDO1lBQ1o7UUFDRjtRQUVBc0ssYUFBYTtRQUViLElBQUk7WUFDRnJLLFFBQVF3QyxHQUFHLENBQUMsNENBQXVEL0UsT0FBckIwTixVQUFTLGNBQWlDLE9BQXJCMU4sV0FBVztZQUU5RSxJQUFJNE4sZ0JBQWdCO1lBQ3BCLElBQUlDLGVBQWU3TjtZQUVuQixpREFBaUQ7WUFDakQsSUFBSTZOLGNBQWM7Z0JBQ2hCLGdEQUFnRDtnQkFDaEQsTUFBTUMsZ0JBQWdCLE1BQU03SyxNQUFNLEdBQWdCLE9BQWJyRSxjQUFhO2dCQUVsRCxJQUFJLENBQUNrUCxjQUFjNUssRUFBRSxFQUFFO29CQUNyQixNQUFNLElBQUlJLE1BQU07Z0JBQ2xCO2dCQUVBLE1BQU15SyxjQUFjLE1BQU1ELGNBQWN0SyxJQUFJO2dCQUU1QyxJQUFJd0ssVUFBVSxFQUFFO2dCQUNoQixJQUFJdEssTUFBTUMsT0FBTyxDQUFDb0ssY0FBYztvQkFDOUJDLFVBQVVEO2dCQUNaLE9BQU8sSUFBSUEsWUFBWTNLLE9BQU8sRUFBRTtvQkFDOUI0SyxVQUFVRCxZQUFZMUssSUFBSTtnQkFDNUI7Z0JBRUF1SyxnQkFBZ0JJLFFBQVFoRyxJQUFJLENBQUNpRyxDQUFBQSxJQUFLQSxFQUFFL04sRUFBRSxLQUFLMk47Z0JBRTNDLElBQUksQ0FBQ0QsZUFBZTtvQkFDbEIsMENBQTBDO29CQUMxQ0EsZ0JBQWdCSSxRQUFRaEcsSUFBSSxDQUFDaUcsQ0FBQUEsSUFBS0EsRUFBRUMsWUFBWSxLQUFLUixTQUFTQyxJQUFJO2dCQUNwRTtZQUNGLE9BQU87Z0JBQ0wsNkNBQTZDO2dCQUM3QyxNQUFNRyxnQkFBZ0IsTUFBTTdLLE1BQU0sR0FBZ0IsT0FBYnJFLGNBQWE7Z0JBRWxELElBQUksQ0FBQ2tQLGNBQWM1SyxFQUFFLEVBQUU7b0JBQ3JCLE1BQU0sSUFBSUksTUFBTTtnQkFDbEI7Z0JBRUEsTUFBTXlLLGNBQWMsTUFBTUQsY0FBY3RLLElBQUk7Z0JBRTVDLElBQUl3SyxVQUFVLEVBQUU7Z0JBQ2hCLElBQUl0SyxNQUFNQyxPQUFPLENBQUNvSyxjQUFjO29CQUM5QkMsVUFBVUQ7Z0JBQ1osT0FBTyxJQUFJQSxZQUFZM0ssT0FBTyxFQUFFO29CQUM5QjRLLFVBQVVELFlBQVkxSyxJQUFJO2dCQUM1QjtnQkFFQXVLLGdCQUFnQkksUUFBUWhHLElBQUksQ0FBQ2lHLENBQUFBLElBQUtBLEVBQUVDLFlBQVksS0FBS1IsU0FBU0MsSUFBSTtZQUNwRTtZQUVBLElBQUksQ0FBQ0MsZUFBZTtnQkFDbEJ4SixNQUFNOUIsS0FBSyxDQUFDO2dCQUNac0ssYUFBYTtnQkFDYjtZQUNGO1lBRUFySyxRQUFRd0MsR0FBRyxDQUFDLGtCQUFrQjZJO1lBRTlCLE1BQU03TixZQUFZbU4sc0JBQXNCVTtZQUV4QyxJQUFJN04sVUFBVXVFLE1BQU0sS0FBSyxHQUFHO2dCQUMxQkYsTUFBTTlCLEtBQUssQ0FBQztnQkFDWnNLLGFBQWE7Z0JBQ2I7WUFDRjtZQUVBckssUUFBUXdDLEdBQUcsQ0FBRSxzQ0FBMkJoRjtZQUN4Q3dDLFFBQVF3QyxHQUFHLENBQUMsMkNBQWtELE9BQWpCaEYsVUFBVXVFLE1BQU07WUFFN0QsTUFBTTZKLFdBQVd0TyxpQkFBaUI2TixVQUFVM04sV0FBVzZOLGNBQWMxTixFQUFFO1lBQ3ZFaU8sU0FBUzlOLFNBQVMsR0FBR3VOO1lBRXJCckwsUUFBUXdDLEdBQUcsQ0FBQyx3Q0FBd0M2SSxjQUFjMU4sRUFBRTtZQUNwRSxNQUFNa08sa0JBQWtCLE1BQU1yTCxlQUFlNkssY0FBYzFOLEVBQUU7WUFFN0QsSUFBSWtPLGdCQUFnQmhMLE9BQU8sSUFBSWdMLGdCQUFnQi9LLElBQUksRUFBRTtnQkFDbkRkLFFBQVF3QyxHQUFHLENBQUMsb0JBQW9CcUosZ0JBQWdCL0ssSUFBSTtnQkFDcEQsTUFBTWdMLGlCQUFpQnhHLHVCQUF1QnVHLGdCQUFnQi9LLElBQUksRUFBRThLO2dCQUNwRTVMLFFBQVF3QyxHQUFHLENBQUMsc0JBQXNCc0o7Z0JBQ2xDL0IsY0FBYytCO2dCQUNkakssTUFBTWhCLE9BQU8sQ0FBQyxnQkFBZ0RyRCxPQUFoQzJOLFVBQVMseUJBQXlEM04sT0FBbENBLFVBQVV1RSxNQUFNLEVBQUMsbUJBQWlELE9BQWhDdkUsVUFBVXVFLE1BQU0sR0FBRyxJQUFJLE1BQU0sSUFBRztZQUNsSSxPQUFPLElBQUk4SixnQkFBZ0JoTCxPQUFPLElBQUksQ0FBQ2dMLGdCQUFnQi9LLElBQUksRUFBRTtnQkFDM0RpSixjQUFjNkI7Z0JBQ2QvSixNQUFNaEIsT0FBTyxDQUFDLGdCQUE2QnJELE9BQWIyTixVQUFTLE1BQXNDM04sT0FBbENBLFVBQVV1RSxNQUFNLEVBQUMsbUJBQWlELE9BQWhDdkUsVUFBVXVFLE1BQU0sR0FBRyxJQUFJLE1BQU0sSUFBRztZQUMvRyxPQUFPO2dCQUNMRixNQUFNa0ssT0FBTyxDQUFDLGdCQUF5QixPQUFUWixVQUFTO2dCQUN2Q3BCLGNBQWM2QjtZQUNoQjtRQUVGLEVBQUUsT0FBT2hGLEtBQUs7WUFDWjVHLFFBQVFELEtBQUssQ0FBQywwQkFBMEI2RztZQUN4Qy9FLE1BQU05QixLQUFLLENBQUM7UUFDZCxTQUFVO1lBQ1JzSyxhQUFhO1FBQ2Y7SUFDRjtJQUVBLE1BQU0yQixrQkFBa0I7UUFDdEIsSUFBSTVCLGFBQWFKLFNBQVM7UUFDMUJVLGdCQUFnQm5OO0lBQ2xCO0lBRUEsTUFBTTBPLGtCQUFrQjtRQUN0Qix1Q0FBdUM7UUFDdkMzQixPQUFPak0sSUFBSSxDQUFDO1FBQ1osNkNBQTZDO1FBQzdDOEwsZUFBZTtRQUNmSyxhQUFhQyxPQUFPLEdBQUc7SUFDekI7SUFFQSxxQkFDRSw4REFBQzlCO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDc0Q7MEJBQUc7Ozs7OztZQUVIbk0sdUJBQ0MsOERBQUM0STtnQkFBSUMsV0FBVTs7b0JBQWdCO29CQUNyQjdJOzs7Ozs7OzBCQUlaLDhEQUFDNEk7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0M7c0NBQUc7Ozs7OztzQ0FDSiw4REFBQ0Y7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDVTtvQ0FDQ2hMLE1BQUs7b0NBQ0x1TCxhQUFZO29DQUNaN0IsT0FBT3pLO29DQUNQZ00sVUFBVSxDQUFDQyxJQUFNVyxlQUFlWCxFQUFFQyxNQUFNLENBQUN6QixLQUFLO29DQUM5Q1ksV0FBVTtvQ0FDVmMsVUFBVVUsYUFBYUo7Ozs7Ozs4Q0FFekIsOERBQUNtQztvQ0FDQ0MsU0FBU0o7b0NBQ1RwRCxXQUFVO29DQUNWYyxVQUFVVSxhQUFhSjs4Q0FFdEJJLGFBQWFKLFVBQVUsZUFBZTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPckQ7SUF6TFNGOztRQUdPL04sZ0VBQVFBO1FBQ1BKLHNEQUFTQTtRQUNIQyw0REFBZUE7OztNQUw3QmtPO0FBMkxULFNBQVN1Qzs7SUFDUCxNQUFNL0IsU0FBUzNPLDBEQUFTQTtJQUN4QixNQUFNa0csUUFBUTlGLG9FQUFRQTtJQUN0QixNQUFNd08sZUFBZTNPLGdFQUFlQTtJQUNwQyxNQUFNLENBQUMwUSxjQUFjQyxnQkFBZ0IsR0FBR2hSLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ2lSLGNBQWNDLGdCQUFnQixHQUFHbFIsK0NBQVFBLENBQUMsRUFBRTtJQUNuRCxNQUFNLENBQUN5TyxTQUFTMEMsV0FBVyxHQUFHblIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDd0UsT0FBTzRNLFNBQVMsR0FBR3BSLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQzBPLG9CQUFvQjJDLHNCQUFzQixHQUFHclIsK0NBQVFBLENBQUM7SUFDN0QsTUFBTSxDQUFDMk8sZ0JBQWdCMkMsa0JBQWtCLEdBQUd0UiwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNdVIsY0FBY3JSLDZDQUFNQSxDQUFDO0lBRTNCLDBDQUEwQztJQUMxQ0QsZ0RBQVNBO29DQUFDO1lBQ1IsTUFBTTJQLFdBQVdaLGFBQWF3QyxHQUFHLENBQUM7WUFDbEMsTUFBTXRQLFVBQVU4TSxhQUFhd0MsR0FBRyxDQUFDO1lBRWpDLElBQUk1QixVQUFVO2dCQUNaeUIsc0JBQXNCekI7Z0JBQ3RCMEIsa0JBQWtCcFA7WUFDcEI7UUFDRjttQ0FBRztRQUFDOE07S0FBYTtJQUVqQixNQUFNeUMsb0JBQW9CLENBQUN0UDtRQUN6QnNDLFFBQVF3QyxHQUFHLENBQUMsNEJBQTRCOUU7UUFDeEM2TyxnQkFBZ0I3TztJQUNsQjtJQUVBLE1BQU11UCx1QkFBdUJ2UixrREFBV0E7NERBQUMsQ0FBQ21LLE9BQU9vQztZQUMvQ3NFO29FQUFnQlcsQ0FBQUE7b0JBQ2QsSUFBSSxDQUFDQSxXQUFXLE9BQU9BO29CQUN2QixNQUFNQyxtQkFBbUI7MkJBQUlELFVBQVUxUCxTQUFTO3FCQUFDO29CQUNqRDJQLGdCQUFnQixDQUFDdEgsTUFBTSxHQUFHb0M7b0JBQzFCLE9BQU87d0JBQ0wsR0FBR2lGLFNBQVM7d0JBQ1oxUCxXQUFXMlA7b0JBQ2I7Z0JBQ0Y7O1FBQ0Y7MkRBQUcsRUFBRTtJQUVMLE1BQU1DLGdDQUFnQyxDQUFDcEY7UUFDckN1RSxnQkFBZ0JXLENBQUFBLFlBQWM7Z0JBQzVCLEdBQUdBLFNBQVM7Z0JBQ1psUCxtQkFBbUJnSyxVQUFVO1lBQy9CO0lBQ0Y7SUFFQSxNQUFNcUYsb0JBQW9CLFNBQUMzUDtZQUFPMkUsc0ZBQXFCO1FBQ3JELEtBQUssTUFBTWxFLFlBQVlULE1BQU1GLFNBQVMsQ0FBRTtZQUN0QywwQkFBMEI7WUFDMUIsS0FBSyxNQUFNbUUsWUFBWXhELFNBQVNPLFNBQVMsQ0FBRTtnQkFDekMsSUFBSWlELFNBQVMzRSxTQUFTLElBQUkyRSxTQUFTMUUsU0FBUyxJQUFJMEUsU0FBU3pFLE9BQU8sSUFBSXlFLFNBQVN4RSxPQUFPLEVBQUU7b0JBQ3BGLE1BQU0rQyxnQkFBZ0IsSUFBSXRDLEtBQUssR0FBeUIrRCxPQUF0QkEsU0FBUzNFLFNBQVMsRUFBQyxLQUFzQixPQUFuQjJFLFNBQVMxRSxTQUFTO29CQUMxRSxNQUFNa0QsY0FBYyxJQUFJdkMsS0FBSyxHQUF1QitELE9BQXBCQSxTQUFTekUsT0FBTyxFQUFDLEtBQW9CLE9BQWpCeUUsU0FBU3hFLE9BQU87b0JBRXBFLElBQUkrQyxnQkFBZ0JDLGFBQWE7d0JBQy9CMEIsTUFBTTlCLEtBQUssQ0FBQyxHQUE2QjRCLE9BQTFCeEQsU0FBU0ksV0FBVyxFQUFDLE9BQW1CLE9BQWRvRCxTQUFTNUUsSUFBSSxFQUFDO3dCQUN2RCxPQUFPO29CQUNUO2dCQUNGO2dCQUVBLElBQUksQ0FBQzRFLFNBQVMzRSxTQUFTLElBQUkyRSxTQUFTMUUsU0FBUyxLQUFNLEVBQUMwRSxTQUFTM0UsU0FBUyxJQUFJLENBQUMyRSxTQUFTMUUsU0FBUyxHQUFHO29CQUM5RjRFLE1BQU05QixLQUFLLENBQUMsMENBQW9FNEIsT0FBMUJ4RCxTQUFTSSxXQUFXLEVBQUMsT0FBbUIsT0FBZG9ELFNBQVM1RSxJQUFJLEVBQUM7b0JBQzlGLE9BQU87Z0JBQ1Q7Z0JBQ0EsSUFBSSxDQUFDNEUsU0FBU3pFLE9BQU8sSUFBSXlFLFNBQVN4RSxPQUFPLEtBQU0sRUFBQ3dFLFNBQVN6RSxPQUFPLElBQUksQ0FBQ3lFLFNBQVN4RSxPQUFPLEdBQUc7b0JBQ3RGMEUsTUFBTTlCLEtBQUssQ0FBQywwQ0FBb0U0QixPQUExQnhELFNBQVNJLFdBQVcsRUFBQyxPQUFtQixPQUFkb0QsU0FBUzVFLElBQUksRUFBQztvQkFDOUYsT0FBTztnQkFDVDtZQUNGO1lBRUEsSUFBSSxDQUFDNkUsd0JBQXdCekQsVUFBVTBELFFBQVE7Z0JBQzdDLE9BQU87WUFDVDtZQUVBLG9DQUFvQztZQUNwQyxJQUFJUSxzQkFBc0JsRSxTQUFTUyxtQkFBbUIsRUFBRTtnQkFDdEQsTUFBTTZELEtBQUt0RSxTQUFTUyxtQkFBbUI7Z0JBQ3ZDLE1BQU04RCxZQUFZRCxHQUFHekYsU0FBUyxJQUFJeUYsR0FBR3hGLFNBQVMsSUFBSXdGLEdBQUd2RixPQUFPLElBQUl1RixHQUFHdEYsT0FBTztnQkFFMUUsSUFBSXVGLFdBQVc7b0JBQ2IsSUFBSSxHQUFJMUYsU0FBUyxJQUFJLENBQUN5RixHQUFHeEYsU0FBUyxJQUFNd0YsR0FBR3hGLFNBQVMsSUFBSSxDQUFDd0YsR0FBR3pGLFNBQVMsRUFBRzt3QkFDdEU2RSxNQUFNOUIsS0FBSyxDQUFDLDBDQUErRCxPQUFyQjVCLFNBQVNJLFdBQVcsRUFBQzt3QkFDM0UsT0FBTztvQkFDVDtvQkFDQSxJQUFJLEdBQUlyQixPQUFPLElBQUksQ0FBQ3VGLEdBQUd0RixPQUFPLElBQU1zRixHQUFHdEYsT0FBTyxJQUFJLENBQUNzRixHQUFHdkYsT0FBTyxFQUFHO3dCQUM5RDJFLE1BQU05QixLQUFLLENBQUMsMENBQStELE9BQXJCNUIsU0FBU0ksV0FBVyxFQUFDO3dCQUMzRSxPQUFPO29CQUNUO29CQUNBLElBQUlrRSxHQUFHekYsU0FBUyxJQUFJeUYsR0FBR3hGLFNBQVMsSUFBSXdGLEdBQUd2RixPQUFPLElBQUl1RixHQUFHdEYsT0FBTyxFQUFFO3dCQUM1RCxNQUFNK0MsZ0JBQWdCLElBQUl0QyxLQUFLLEdBQW1CNkUsT0FBaEJBLEdBQUd6RixTQUFTLEVBQUMsS0FBZ0IsT0FBYnlGLEdBQUd4RixTQUFTO3dCQUM5RCxNQUFNa0QsY0FBYyxJQUFJdkMsS0FBSyxHQUFpQjZFLE9BQWRBLEdBQUd2RixPQUFPLEVBQUMsS0FBYyxPQUFYdUYsR0FBR3RGLE9BQU87d0JBQ3hELElBQUkrQyxnQkFBZ0JDLGFBQWE7NEJBQy9CMEIsTUFBTTlCLEtBQUssQ0FBQyxHQUF3QixPQUFyQjVCLFNBQVNJLFdBQVcsRUFBQzs0QkFDcEMsT0FBTzt3QkFDVDtvQkFDRjtnQkFDRjtZQUNGO1FBQ0Y7UUFDQSxPQUFPO0lBQ1Q7SUFFRixNQUFNK08sNEJBQTRCLENBQUM1UDtRQUNqQyxJQUFJQSxNQUFNTSxpQkFBaUIsS0FBSyxPQUFPO1lBQ3JDLHFGQUFxRjtZQUNyRixLQUFLLE1BQU1HLFlBQVlULE1BQU1GLFNBQVMsQ0FBRTtnQkFDdEMsTUFBTWlGLEtBQUt0RSxTQUFTUyxtQkFBbUI7Z0JBRXZDLGlFQUFpRTtnQkFDakUsSUFBSSxDQUFDNkQsR0FBR3pGLFNBQVMsRUFBRTtvQkFDakI2RSxNQUFNOUIsS0FBSyxDQUFDLEdBQXdCLE9BQXJCNUIsU0FBU0ksV0FBVyxFQUFDO29CQUNwQyxPQUFPO2dCQUNUO2dCQUNBLElBQUksQ0FBQ2tFLEdBQUd4RixTQUFTLEVBQUU7b0JBQ2pCNEUsTUFBTTlCLEtBQUssQ0FBQyxHQUF3QixPQUFyQjVCLFNBQVNJLFdBQVcsRUFBQztvQkFDcEMsT0FBTztnQkFDVDtnQkFDQSxJQUFJLENBQUNrRSxHQUFHdkYsT0FBTyxFQUFFO29CQUNmMkUsTUFBTTlCLEtBQUssQ0FBQyxHQUF3QixPQUFyQjVCLFNBQVNJLFdBQVcsRUFBQztvQkFDcEMsT0FBTztnQkFDVDtnQkFDQSxJQUFJLENBQUNrRSxHQUFHdEYsT0FBTyxFQUFFO29CQUNmMEUsTUFBTTlCLEtBQUssQ0FBQyxHQUF3QixPQUFyQjVCLFNBQVNJLFdBQVcsRUFBQztvQkFDcEMsT0FBTztnQkFDVDtnQkFFQSxzQkFBc0I7Z0JBQ3RCLE1BQU0yQixnQkFBZ0IsSUFBSXRDLEtBQUssR0FBbUI2RSxPQUFoQkEsR0FBR3pGLFNBQVMsRUFBQyxLQUFnQixPQUFieUYsR0FBR3hGLFNBQVM7Z0JBQzlELE1BQU1rRCxjQUFjLElBQUl2QyxLQUFLLEdBQWlCNkUsT0FBZEEsR0FBR3ZGLE9BQU8sRUFBQyxLQUFjLE9BQVh1RixHQUFHdEYsT0FBTztnQkFDeEQsSUFBSStDLGdCQUFnQkMsYUFBYTtvQkFDL0IwQixNQUFNOUIsS0FBSyxDQUFDLEdBQXdCLE9BQXJCNUIsU0FBU0ksV0FBVyxFQUFDO29CQUNwQyxPQUFPO2dCQUNUO1lBQ0Y7UUFDRjtRQUNBLE9BQU87SUFDVDtJQUVFLE1BQU1nUCxhQUFhO1FBQ2pCLElBQUksQ0FBQ2pCLGdCQUFnQlEsWUFBWXJDLE9BQU8sRUFBRTtRQUUxQ3pLLFFBQVF3QyxHQUFHLENBQUM7UUFDWnhDLFFBQVF3QyxHQUFHLENBQUMsVUFBMkM4SixPQUFqQ0EsYUFBYS9PLFdBQVcsRUFBQyxVQUF3QixPQUFoQitPLGFBQWEzTyxFQUFFLEVBQUM7UUFDdkVxQyxRQUFRd0MsR0FBRyxDQUFDLG9CQUFrRCxPQUE5QjhKLGFBQWE5TyxTQUFTLENBQUN1RSxNQUFNO1FBRTdEK0ssWUFBWXJDLE9BQU8sR0FBRztRQUN0QmlDLFdBQVc7UUFFWCxJQUFJO1lBQ0YsTUFBTWMsVUFBVSxFQUFFO1lBQ2xCLElBQUlDLG1CQUFtQjtZQUN2QixJQUFJQyxlQUFlO1lBQ25CLElBQUlDLFlBQVk7WUFFaEIsSUFBSyxJQUFJN0wsSUFBSSxHQUFHQSxJQUFJd0ssYUFBYTlPLFNBQVMsQ0FBQ3VFLE1BQU0sRUFBRUQsSUFBSztnQkFDdEQsTUFBTTNELFdBQVdtTyxhQUFhOU8sU0FBUyxDQUFDc0UsRUFBRTtnQkFDMUM5QixRQUFRd0MsR0FBRyxDQUFDLDBDQUF1QzhKLE9BQVB4SyxJQUFFLEdBQUUsS0FBcUMzRCxPQUFsQ21PLGFBQWE5TyxTQUFTLENBQUN1RSxNQUFNLEVBQUMsTUFBeUIsT0FBckI1RCxTQUFTSSxXQUFXLEVBQUM7Z0JBRTFHLCtFQUErRTtnQkFDL0UsTUFBTThELHFCQUFxQmlLLGFBQWF0TyxpQkFBaUIsS0FBSztnQkFDOUQsSUFBSW9FLHdCQUF3QmpFLFVBQVVrRSxxQkFBcUI7b0JBQ3pELE1BQU1pQyxVQUFVMUIsb0JBQW9CMEosY0FBY25PLFVBQVU7b0JBQzVELElBQUltRyxTQUFTO3dCQUNYbUosbUJBQW1CO3dCQUNuQnpOLFFBQVF3QyxHQUFHLENBQUMsb0NBQW1EckUsT0FBekJBLFNBQVNJLFdBQVcsRUFBQyxNQUFrQixPQUFkSixTQUFTRyxJQUFJLEVBQUM7d0JBRTdFLE1BQU15SSxTQUFTLE1BQU1kLFVBQVUzQixTQUFTbkcsU0FBU0csSUFBSSxFQUFFSCxTQUFTSSxXQUFXO3dCQUMzRWlQLFFBQVFuUCxJQUFJLENBQUM7NEJBQUUsR0FBRzBJLE1BQU07NEJBQUU2RyxlQUFlOUw7NEJBQUdvRSxjQUFjL0gsU0FBU0csSUFBSTt3QkFBQzt3QkFFeEUsSUFBSXlJLE9BQU9sRyxPQUFPLEVBQUU7NEJBQ2xCNk07NEJBQ0EsSUFBSTNHLE9BQU9qRyxJQUFJLElBQUlpRyxPQUFPakcsSUFBSSxDQUFDQSxJQUFJLElBQUlpRyxPQUFPakcsSUFBSSxDQUFDQSxJQUFJLENBQUNuRCxFQUFFLEVBQUU7Z0NBQzFENE8sZ0JBQWdCVyxDQUFBQTtvQ0FDZCxNQUFNQyxtQkFBbUI7MkNBQUlELFVBQVUxUCxTQUFTO3FDQUFDO29DQUNqRDJQLGdCQUFnQixDQUFDckwsRUFBRSxHQUFHO3dDQUNwQixHQUFHcUwsZ0JBQWdCLENBQUNyTCxFQUFFO3dDQUN0QnRELFVBQVV1SSxPQUFPakcsSUFBSSxDQUFDQSxJQUFJLENBQUNuRCxFQUFFO3dDQUM3QmMsaUJBQWlCO29DQUNuQjtvQ0FDQSxPQUFPO3dDQUNMLEdBQUd5TyxTQUFTO3dDQUNaMVAsV0FBVzJQO29DQUNiO2dDQUNGOzRCQUNGOzRCQUNBdEwsTUFBTWhCLE9BQU8sQ0FBQyxHQUF3QixPQUFyQjFDLFNBQVNJLFdBQVcsRUFBQzt3QkFDeEMsT0FBTzs0QkFDTG9QOzRCQUNBOUwsTUFBTTlCLEtBQUssQ0FBQyxrQkFBZ0RnSCxPQUE5QjVJLFNBQVNJLFdBQVcsRUFBQyxXQUFzQixPQUFid0ksT0FBT2hILEtBQUs7d0JBQzFFO29CQUNGO2dCQUNGLE9BQU87b0JBQ0xDLFFBQVF3QyxHQUFHLENBQUMsTUFBMkIsT0FBckJyRSxTQUFTSSxXQUFXLEVBQUM7Z0JBQ3pDO1lBQ0Y7WUFFQXlCLFFBQVF3QyxHQUFHLENBQUM7WUFDWnhDLFFBQVF3QyxHQUFHLENBQUMsOEJBQTZDLE9BQWZnTCxRQUFRekwsTUFBTTtZQUN4RC9CLFFBQVF3QyxHQUFHLENBQUMsaUJBQThCLE9BQWJrTDtZQUM3QjFOLFFBQVF3QyxHQUFHLENBQUMsYUFBdUIsT0FBVm1MO1lBQ3pCM04sUUFBUXdDLEdBQUcsQ0FBQztZQUVaLElBQUksQ0FBQ2lMLGtCQUFrQjtnQkFDckI1TCxNQUFNZ00sSUFBSSxDQUFDO2dCQUNYbkIsV0FBVztnQkFDWEksWUFBWXJDLE9BQU8sR0FBRztnQkFDdEI7WUFDRjtZQUVBLE1BQU1xRCxnQkFBZ0J0QixhQUFhdUIsU0FBUyxDQUFDckMsQ0FBQUEsSUFBS0EsRUFBRS9OLEVBQUUsS0FBSzJPLGFBQWEzTyxFQUFFO1lBRTFFLElBQUltUSxpQkFBaUIsR0FBRztnQkFDdEIsTUFBTUUsVUFBVTt1QkFBSXhCO2lCQUFhO2dCQUNqQ3dCLE9BQU8sQ0FBQ0YsY0FBYyxHQUFHO29CQUFFLEdBQUd4QixZQUFZO29CQUFFMUwsUUFBUTtnQkFBUTtnQkFDNUQ2TCxnQkFBZ0J1QjtZQUNsQixPQUFPO2dCQUNMdkIsZ0JBQWdCO3VCQUFJRDtvQkFBYzt3QkFBRSxHQUFHRixZQUFZO3dCQUFFMUwsUUFBUTtvQkFBUTtpQkFBRTtZQUN6RTtZQUVBLE1BQU1xTixhQUFhVCxRQUFRVSxLQUFLLENBQUNDLENBQUFBLElBQUtBLEVBQUV0TixPQUFPO1lBQy9DLElBQUlvTixZQUFZO2dCQUNkcE0sTUFBTWhCLE9BQU8sQ0FBQyxPQUFvQixPQUFiNk0sY0FBYTtZQUNwQyxPQUFPO2dCQUNMN0wsTUFBTWtLLE9BQU8sQ0FBQyxHQUFtRDRCLE9BQWhERCxjQUFhLHFDQUE2QyxPQUFWQyxXQUFVO1lBQzdFO1FBQ0YsRUFBRSxPQUFPNU4sT0FBTztZQUNkOEIsTUFBTTlCLEtBQUssQ0FBQztZQUNaQyxRQUFRRCxLQUFLLENBQUMsaUJBQWlCQTtRQUNqQyxTQUFVO1lBQ1IyTSxXQUFXO1lBQ1gwQixXQUFXO2dCQUNUdEIsWUFBWXJDLE9BQU8sR0FBRztZQUN4QixHQUFHO1FBQ0w7SUFDRjtJQUVGLE1BQU00RCwwQkFBMEI7UUFDOUIsSUFBSSxDQUFDL0IsZ0JBQWdCUSxZQUFZckMsT0FBTyxFQUFFO1FBRTFDLE1BQU02RCxVQUFVaEMsYUFBYTlPLFNBQVMsQ0FBQytFLElBQUksQ0FBQ3BFLENBQUFBLFdBQzFDQSxTQUFTTyxTQUFTLENBQUM2RCxJQUFJLENBQUNiO1FBRzFCLElBQUksQ0FBQzRNLFNBQVM7WUFDWnpNLE1BQU05QixLQUFLLENBQUM7WUFDWjtRQUNGO1FBRUEsdUNBQXVDO1FBQ3ZDLElBQUksQ0FBQ3VOLDBCQUEwQmhCLGVBQWU7WUFDNUM7UUFDRjtRQUVBUSxZQUFZckMsT0FBTyxHQUFHO1FBQ3RCaUMsV0FBVztRQUVYLElBQUk7WUFDRiwrQkFBK0I7WUFDL0IsTUFBTWMsVUFBVSxFQUFFO1lBQ2xCLElBQUlDLG1CQUFtQjtZQUN2QixJQUFJQyxlQUFlO1lBQ25CLElBQUlDLFlBQVk7WUFFaEIsSUFBSyxJQUFJN0wsSUFBSSxHQUFHQSxJQUFJd0ssYUFBYTlPLFNBQVMsQ0FBQ3VFLE1BQU0sRUFBRUQsSUFBSztnQkFDdEQsTUFBTTNELFdBQVdtTyxhQUFhOU8sU0FBUyxDQUFDc0UsRUFBRTtnQkFDMUM5QixRQUFRd0MsR0FBRyxDQUFDLDBDQUF1QzhKLE9BQVB4SyxJQUFFLEdBQUUsS0FBcUMzRCxPQUFsQ21PLGFBQWE5TyxTQUFTLENBQUN1RSxNQUFNLEVBQUMsTUFBeUIsT0FBckI1RCxTQUFTSSxXQUFXLEVBQUM7Z0JBRTFHLGlEQUFpRDtnQkFDakQsTUFBTThELHFCQUFxQmlLLGFBQWF0TyxpQkFBaUIsS0FBSztnQkFFOUQsMkRBQTJEO2dCQUMzRCxJQUFJc08sYUFBYXRPLGlCQUFpQixLQUFLLE9BQU87b0JBQzVDLE1BQU15RSxLQUFLdEUsU0FBU1MsbUJBQW1CO29CQUN2QyxJQUFJLENBQUM2RCxHQUFHekYsU0FBUyxJQUFJLENBQUN5RixHQUFHeEYsU0FBUyxJQUFJLENBQUN3RixHQUFHdkYsT0FBTyxJQUFJLENBQUN1RixHQUFHdEYsT0FBTyxFQUFFO3dCQUNoRTBFLE1BQU05QixLQUFLLENBQUMsR0FBd0IsT0FBckI1QixTQUFTSSxXQUFXLEVBQUM7d0JBQ3BDbU8sV0FBVzt3QkFDWEksWUFBWXJDLE9BQU8sR0FBRzt3QkFDdEI7b0JBQ0Y7Z0JBQ0Y7Z0JBRUEsSUFBSXJJLHdCQUF3QmpFLFVBQVVrRSxxQkFBcUI7b0JBQ3pELE1BQU1pQyxVQUFVMUIsb0JBQW9CMEosY0FBY25PLFVBQVU7b0JBQzVELElBQUltRyxTQUFTO3dCQUNYbUosbUJBQW1CO3dCQUNuQnpOLFFBQVF3QyxHQUFHLENBQUMsb0NBQW1EckUsT0FBekJBLFNBQVNJLFdBQVcsRUFBQyxNQUFrQixPQUFkSixTQUFTRyxJQUFJLEVBQUM7d0JBRTdFLE1BQU15SSxTQUFTLE1BQU1kLFVBQVUzQixTQUFTbkcsU0FBU0csSUFBSSxFQUFFSCxTQUFTSSxXQUFXO3dCQUMzRWlQLFFBQVFuUCxJQUFJLENBQUM7NEJBQUUsR0FBRzBJLE1BQU07NEJBQUU2RyxlQUFlOUw7NEJBQUdvRSxjQUFjL0gsU0FBU0csSUFBSTt3QkFBQzt3QkFFeEUsSUFBSXlJLE9BQU9sRyxPQUFPLEVBQUU7NEJBQ2xCNk07NEJBQ0EsSUFBSTNHLE9BQU9qRyxJQUFJLElBQUlpRyxPQUFPakcsSUFBSSxDQUFDQSxJQUFJLElBQUlpRyxPQUFPakcsSUFBSSxDQUFDQSxJQUFJLENBQUNuRCxFQUFFLEVBQUU7Z0NBQzFENE8sZ0JBQWdCVyxDQUFBQTtvQ0FDZCxNQUFNQyxtQkFBbUI7MkNBQUlELFVBQVUxUCxTQUFTO3FDQUFDO29DQUNqRDJQLGdCQUFnQixDQUFDckwsRUFBRSxHQUFHO3dDQUNwQixHQUFHcUwsZ0JBQWdCLENBQUNyTCxFQUFFO3dDQUN0QnRELFVBQVV1SSxPQUFPakcsSUFBSSxDQUFDQSxJQUFJLENBQUNuRCxFQUFFO3dDQUM3QmMsaUJBQWlCO29DQUNuQjtvQ0FDQSxPQUFPO3dDQUNMLEdBQUd5TyxTQUFTO3dDQUNaMVAsV0FBVzJQO29DQUNiO2dDQUNGOzRCQUNGO3dCQUNGLE9BQU87NEJBQ0xRO3dCQUNGO29CQUNGO2dCQUNGLE9BQU87b0JBQ0wzTixRQUFRd0MsR0FBRyxDQUFDLE1BQTJCLE9BQXJCckUsU0FBU0ksV0FBVyxFQUFDO2dCQUN6QztZQUNGO1lBRUEsSUFBSSxDQUFDa1Asa0JBQWtCO2dCQUNyQjVMLE1BQU1nTSxJQUFJLENBQUM7Z0JBQ1huQixXQUFXO2dCQUNYSSxZQUFZckMsT0FBTyxHQUFHO2dCQUN0QjtZQUNGO1lBRUEsZ0RBQWdEO1lBQ2hELElBQUlrRCxZQUFZLEdBQUc7Z0JBQ2pCOUwsTUFBTTlCLEtBQUssQ0FBQyxrQkFBNEIsT0FBVjROLFdBQVU7Z0JBQ3hDakIsV0FBVztnQkFDWEksWUFBWXJDLE9BQU8sR0FBRztnQkFDdEI7WUFDRjtZQUVBLHNCQUFzQjtZQUN0QixNQUFNOEQsb0JBQW9CLE1BQU12SCw2QkFDOUJzRixhQUFhM08sRUFBRSxFQUNmMk8sYUFBYXRPLGlCQUFpQjtZQUdoQyxJQUFJdVEsa0JBQWtCMU4sT0FBTyxFQUFFO2dCQUM3QmdCLE1BQU1oQixPQUFPLENBQUMseURBQXVHLE9BQTlDeUwsYUFBYXRPLGlCQUFpQixHQUFHLFFBQVE7Z0JBRWhILDJEQUEyRDtnQkFDM0R1TyxnQkFBZ0I7Z0JBQ2hCakMsT0FBT2pNLElBQUksQ0FBQztZQUNkLE9BQU87Z0JBQ0x3RCxNQUFNOUIsS0FBSyxDQUFDLGtDQUEwRCxPQUF4QndPLGtCQUFrQnhPLEtBQUs7WUFDdkU7UUFFRixFQUFFLE9BQU9BLE9BQU87WUFDZDhCLE1BQU05QixLQUFLLENBQUM7WUFDWkMsUUFBUUQsS0FBSyxDQUFDLGlCQUFpQkE7UUFDakMsU0FBVTtZQUNSMk0sV0FBVztZQUNYMEIsV0FBVztnQkFDVHRCLFlBQVlyQyxPQUFPLEdBQUc7WUFDeEIsR0FBRztRQUNMO0lBQ0Y7SUFFQSxNQUFNK0Qsd0JBQXdCO1FBQzVCLG1EQUFtRDtRQUNuRGpDLGdCQUFnQjtRQUNoQixtQ0FBbUM7UUFDbkNqQyxPQUFPak0sSUFBSSxDQUFDO1FBQ1osd0JBQXdCO1FBQ3hCc08sU0FBUztRQUNULGlEQUFpRDtRQUNqREMsc0JBQXNCO1FBQ3RCQyxrQkFBa0I7SUFDcEI7SUFFRSxJQUFJLENBQUNQLGNBQWM7UUFDakIscUJBQ0UsOERBQUN6USw2REFBU0E7WUFBQzRTLE9BQU07c0JBQ2YsNEVBQUM5RjtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ2tCO29CQUNDQyxlQUFlaUQ7b0JBQ2ZoRCxTQUFTQTtvQkFDVGpLLE9BQU9BO29CQUNQa0ssb0JBQW9CQTtvQkFDcEJDLGdCQUFnQkE7Ozs7Ozs7Ozs7Ozs7Ozs7SUFLMUI7SUFFQSxxQkFDRSw4REFBQ3JPLDZEQUFTQTtRQUFDNFMsT0FBTTtrQkFDZiw0RUFBQzlGO1lBQUlDLFdBQVU7OzhCQUNiLDhEQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNEOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ3VEO29DQUFPQyxTQUFTb0M7b0NBQXVCNUYsV0FBVTs4Q0FDaEQsNEVBQUMxTSxxRUFBYUE7Ozs7Ozs7Ozs7OENBRWhCLDhEQUFDZ1E7OENBQUlJLGFBQWEvTyxXQUFXOzs7Ozs7OENBQzdCLDhEQUFDbVI7b0NBQUs5RixXQUFVOzt3Q0FBaUI7d0NBQzdCMEQsYUFBYTlPLFNBQVMsQ0FBQ3VFLE1BQU07d0NBQUM7d0NBQWdCdUssYUFBYTlPLFNBQVMsQ0FBQ3VFLE1BQU0sR0FBRyxJQUFJLE1BQU07d0NBQUc7Ozs7Ozs7Ozs7Ozs7c0NBR2pHLDhEQUFDNEc7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDRDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUMrRjs0Q0FBTUMsU0FBUTtzREFBb0I7Ozs7OztzREFDbkMsOERBQUNDOzRDQUNDbFIsSUFBRzs0Q0FDSHFLLE9BQU9zRSxhQUFhdE8saUJBQWlCLEtBQUssT0FBTyxRQUFRc08sYUFBYXRPLGlCQUFpQixLQUFLLFFBQVEsT0FBTzs0Q0FDM0d1TCxVQUFVLENBQUNDLElBQU00RCw4QkFBOEI1RCxFQUFFQyxNQUFNLENBQUN6QixLQUFLOzRDQUM3RFksV0FBVTs0Q0FDVmMsVUFBVU07OzhEQUVWLDhEQUFDOEU7b0RBQU85RyxPQUFNO29EQUFHMEIsUUFBUTs4REFBQzs7Ozs7OzhEQUMxQiw4REFBQ29GO29EQUFPOUcsT0FBTTs4REFBTTs7Ozs7OzhEQUNwQiw4REFBQzhHO29EQUFPOUcsT0FBTTs4REFBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhDQUd2Qiw4REFBQ21FO29DQUNDQyxTQUFTbUI7b0NBQ1QzRSxXQUFVO29DQUNWYyxVQUFVTTs7c0RBRVYsOERBQUNoTyxnRUFBUUE7NENBQUMrUyxVQUFTOzs7Ozs7d0NBQ2xCL0UsVUFBVSxjQUFjOzs7Ozs7OzhDQUUzQiw4REFBQ21DO29DQUNDQyxTQUFTaUM7b0NBQ1R6RixXQUFVO29DQUNWYyxVQUFVTSxXQUFXc0MsYUFBYXRPLGlCQUFpQixLQUFLQzs7c0RBRXhELDhEQUFDaEMsd0VBQWdCQTs0Q0FBQzhTLFVBQVM7Ozs7Ozt3Q0FDMUIvRSxVQUFVLGtCQUFrQjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztnQkFLbENzQyxhQUFhOU8sU0FBUyxDQUFDbUIsR0FBRyxDQUFDLENBQUNSLFVBQVUwSCxzQkFDckMsOERBQUNzQjt3QkFFQ2hKLFVBQVVBO3dCQUNWa0osVUFBVSxDQUFDMkcsVUFBWWYscUJBQXFCcEgsT0FBT21JO3dCQUNuRDFHLGlCQUFpQmdGLGFBQWF0TyxpQkFBaUIsS0FBSzt3QkFDcER1SixVQUFVO3VCQUpMLEdBQW9CMUIsT0FBakIxSCxTQUFTRyxJQUFJLEVBQUMsS0FBWUgsT0FBVDBILE9BQU0sS0FBOEIsT0FBM0IxSCxTQUFTSyxRQUFRLElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVbkU7SUE3YlM2Tjs7UUFDUTFRLHNEQUFTQTtRQUNWSSxnRUFBUUE7UUFDREgsNERBQWVBOzs7TUFIN0J5UTtBQStiTSxTQUFTMkM7SUFDdEIscUJBQ0UsOERBQUNsVCxxRUFBYUE7a0JBQ1osNEVBQUN1UTs7Ozs7Ozs7OztBQUdQO01BTndCMkMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWRtaW5cXERvd25sb2Fkc1xcYnJpdGlzaGFncm8tYWRtaW4tcGFuZWxcXGJyaXRpc2hhZ3JvXFxhcHBcXChwYWdlcylcXHNvYWtpbmdcXHBhZ2UuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcclxuaW1wb3J0IEFwcExheW91dCBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9BcHBMYXlvdXRcIjtcclxuaW1wb3J0IHsgVG9hc3RQcm92aWRlciwgdXNlVG9hc3QgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9jb21tb24vVG9hc3RlclwiO1xyXG5pbXBvcnQgXCIuLi8uLi9zdHlsZXMvcGFnZXMvc29ha2luZy5jc3NcIjtcclxuXHJcbmltcG9ydCBTYXZlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1NhdmUnO1xyXG5pbXBvcnQgQXJyb3dGb3J3YXJkSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Fycm93Rm9yd2FyZCc7XHJcbmltcG9ydCBBcnJvd0JhY2tJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQXJyb3dCYWNrJztcclxuXHJcbmNvbnN0IE1BVEVSSUFMX1RZUEVTID0ge1xyXG4gICdCQUdBU1NFJzogJ0JBR0FTU0UnLFxyXG4gICdXSEVBVCBTVFJBVyc6ICdXSEVBVCcsXHJcbiAgJ1BBRERZIFNUUkFXJzogJ1BBRERZJ1xyXG59O1xyXG5cclxuY29uc3QgTUFURVJJQUxfRElTUExBWV9OQU1FUyA9IHtcclxuICAnQkFHQVNTRSc6ICdCYWdhc3NlJyxcclxuICAnV0hFQVQnOiAnV2hlYXQgU3RyYXcnLFxyXG4gICdQQUREWSc6ICdQYWRkeSBTdHJhdydcclxufTtcclxuXHJcbmNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkw7XHJcbmNvbnN0IEFQSV9FTkRQT0lOVCA9IGAke0FQSV9CQVNFX1VSTH0vc3RyYXctcHJlcGFyYXRpb24tbG9nYDtcclxuY29uc3QgQVBJX0ZFVENIX0VORFBPSU5UID0gYCR7QVBJX0JBU0VfVVJMfS9zdHJhdy1wcmVwYXJhdGlvbi1sb2cvc3RyYXdzYDtcclxuY29uc3QgQkFUQ0hfVVBEQVRFX0VORFBPSU5UID0gYCR7QVBJX0JBU0VfVVJMfS9iYXRjaGVzYDtcclxuXHJcbmNvbnN0IFNUQUdFX05BTUVTID0gW1xyXG4gIFwiU29ha2luZ1wiLFxyXG4gIFwiU29ha2luZyBSZXN0XCIsIFxyXG4gIFwiUmUgU29ha2luZyAxXCIsXHJcbiAgXCJSZSBTb2FraW5nIDEgUmVzdFwiLFxyXG4gIFwiUmUgU29ha2luZyAyXCIsXHJcbiAgXCJSZSBTb2FraW5nIDIgUmVzdFwiXHJcbl07XHJcblxyXG5jb25zdCBQTEFJTl9CVU5LRVJfU1RBR0UgPSBcIlBsYWluIEJ1bmtlclwiO1xyXG5cclxuY29uc3QgY3JlYXRlRW1wdHlTdWJzdGFnZSA9IChuYW1lKSA9PiAoe1xyXG4gIG5hbWU6IG5hbWUsXHJcbiAgc3RhcnREYXRlOiAnJyxcclxuICBzdGFydFRpbWU6ICcnLFxyXG4gIGVuZERhdGU6ICcnLFxyXG4gIGVuZFRpbWU6ICcnLFxyXG4gIHRvdGFsSG91cnM6ICcnLFxyXG4gIHJlbWFya3M6ICcnXHJcbn0pO1xyXG5cclxuY29uc3QgY3JlYXRlRW1wdHlCYXRjaCA9IChiYXRjaE51bWJlciwgbWF0ZXJpYWxzID0gW10sIGJhdGNoSWQgPSBudWxsKSA9PiB7XHJcbiAgY29uc3QgYmF0Y2ggPSB7XHJcbiAgICBpZDogYmF0Y2hJZCB8fCBEYXRlLm5vdygpLFxyXG4gICAgYmF0Y2hOdW1iZXI6IGJhdGNoTnVtYmVyLFxyXG4gICAgbWF0ZXJpYWxzOiBbXSxcclxuICAgIGJhdGNoRGF0YTogbnVsbCxcclxuICAgIGV4aXN0aW5nUmVjb3Jkczoge30sXHJcbiAgICBtb3ZlVG9QbGFpbkJ1bmtlcjogdW5kZWZpbmVkIFxyXG4gIH07XHJcblxyXG4gIG1hdGVyaWFscy5mb3JFYWNoKG1hdGVyaWFsID0+IHtcclxuICAgIGNvbnN0IGFwaVN0cmF3VHlwZSA9IE1BVEVSSUFMX1RZUEVTW21hdGVyaWFsXTtcclxuICAgIGlmIChhcGlTdHJhd1R5cGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBiYXRjaC5tYXRlcmlhbHMucHVzaCh7XHJcbiAgICAgICAgdHlwZTogYXBpU3RyYXdUeXBlLFxyXG4gICAgICAgIG5hbWU6IG1hdGVyaWFsLFxyXG4gICAgICAgIGRpc3BsYXlOYW1lOiBNQVRFUklBTF9ESVNQTEFZX05BTUVTW2FwaVN0cmF3VHlwZV0gfHwgbWF0ZXJpYWwsXHJcbiAgICAgICAgcmVjb3JkSWQ6IG51bGwsXHJcbiAgICAgICAgaGFzRXhpc3RpbmdEYXRhOiBmYWxzZSxcclxuICAgICAgICBzdWJzdGFnZXM6IFNUQUdFX05BTUVTLm1hcChuYW1lID0+IGNyZWF0ZUVtcHR5U3Vic3RhZ2UobmFtZSkpLFxyXG4gICAgICAgIHBsYWluQnVua2VyU3Vic3RhZ2U6IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoUExBSU5fQlVOS0VSX1NUQUdFKSBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBiYXRjaDtcclxufTtcclxuXHJcbmNvbnN0IHBhcnNlRGF0ZVRpbWUgPSAoZGF0ZXRpbWUpID0+IHtcclxuICBpZiAoIWRhdGV0aW1lKSByZXR1cm4geyBkYXRlOiAnJywgdGltZTogJycgfTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGV0aW1lKTtcclxuICAgIGlmIChpc05hTihkYXRlLmdldFRpbWUoKSkpIHJldHVybiB7IGRhdGU6ICcnLCB0aW1lOiAnJyB9O1xyXG4gICAgXHJcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcoZGF0ZS5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGU6IGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWAsXHJcbiAgICAgIHRpbWU6IGAke2hvdXJzfToke21pbnV0ZXN9YFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBkYXRldGltZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRlOiAnJywgdGltZTogJycgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjYWxjdWxhdGVIb3VycyA9IChzdGFydERhdGVUaW1lLCBlbmREYXRlVGltZSkgPT4ge1xyXG4gIGlmICghc3RhcnREYXRlVGltZSB8fCAhZW5kRGF0ZVRpbWUpIHJldHVybiAnJztcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShzdGFydERhdGVUaW1lKTtcclxuICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKGVuZERhdGVUaW1lKTtcclxuICAgIGlmIChpc05hTihzdGFydC5nZXRUaW1lKCkpIHx8IGlzTmFOKGVuZC5nZXRUaW1lKCkpKSByZXR1cm4gJyc7XHJcbiAgICBcclxuICAgIGNvbnN0IGRpZmZIb3VycyA9IChlbmQgLSBzdGFydCkgLyAoMTAwMCAqIDYwICogNjApO1xyXG4gICAgcmV0dXJuIGRpZmZIb3Vycy50b0ZpeGVkKDEpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZmV0Y2hCYXRjaERhdGEgPSBhc3luYyAoYmF0Y2hJZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9GRVRDSF9FTkRQT0lOVH0vJHtiYXRjaElkfWApO1xyXG4gICAgXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG51bGwgfTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBiYXRjaCBkYXRhOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgXHJcbiAgICBpZiAocmVzcG9uc2VEYXRhLnN1Y2Nlc3MgJiYgcmVzcG9uc2VEYXRhLmRhdGEgJiYgcmVzcG9uc2VEYXRhLmRhdGEuaXRlbXMpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzcG9uc2VEYXRhLmRhdGEuaXRlbXMgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHJlc3BvbnNlRGF0YS5kYXRhICYmIEFycmF5LmlzQXJyYXkocmVzcG9uc2VEYXRhLmRhdGEpKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3BvbnNlRGF0YS5kYXRhIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3BvbnNlRGF0YSkpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzcG9uc2VEYXRhIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChyZXNwb25zZURhdGEuaWQgfHwgcmVzcG9uc2VEYXRhLmJhdGNoX2lkKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtyZXNwb25zZURhdGFdIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIGJhdGNoIGRhdGE6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY29tYmluZURhdGVUaW1lID0gKGRhdGUsIHRpbWUpID0+IHtcclxuICBpZiAoIWRhdGUgfHwgIXRpbWUpIHJldHVybiBudWxsO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRlVGltZVN0ciA9IGAke2RhdGV9VCR7dGltZX06MDBgO1xyXG4gICAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZShkYXRlVGltZVN0cik7XHJcbiAgICBcclxuICAgIGlmIChpc05hTihkYXRldGltZS5nZXRUaW1lKCkpKSByZXR1cm4gbnVsbDtcclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGV0aW1lLnRvSVNPU3RyaW5nKCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbWJpbmluZyBkYXRldGltZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNTdWJzdGFnZURhdGEgPSAoc3Vic3RhZ2UpID0+IHtcclxuICByZXR1cm4gc3Vic3RhZ2Uuc3RhcnREYXRlIHx8IHN1YnN0YWdlLnN0YXJ0VGltZSB8fCBzdWJzdGFnZS5lbmREYXRlIHx8IHN1YnN0YWdlLmVuZFRpbWUgfHwgc3Vic3RhZ2UucmVtYXJrcztcclxufTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlU3RhZ2VTZXF1ZW5jaW5nID0gKG1hdGVyaWFsLCB0b2FzdCkgPT4ge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0ZXJpYWwuc3Vic3RhZ2VzLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgY29uc3QgY3VycmVudFN0YWdlID0gbWF0ZXJpYWwuc3Vic3RhZ2VzW2ldO1xyXG4gICAgY29uc3QgbmV4dFN0YWdlID0gbWF0ZXJpYWwuc3Vic3RhZ2VzW2kgKyAxXTtcclxuICAgIFxyXG4gICAgaWYgKCFjdXJyZW50U3RhZ2UuZW5kRGF0ZSB8fCAhY3VycmVudFN0YWdlLmVuZFRpbWUgfHwgIW5leHRTdGFnZS5zdGFydERhdGUgfHwgIW5leHRTdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGN1cnJlbnRFbmQgPSBjb21iaW5lRGF0ZVRpbWUoY3VycmVudFN0YWdlLmVuZERhdGUsIGN1cnJlbnRTdGFnZS5lbmRUaW1lKTtcclxuICAgIGNvbnN0IG5leHRTdGFydCA9IGNvbWJpbmVEYXRlVGltZShuZXh0U3RhZ2Uuc3RhcnREYXRlLCBuZXh0U3RhZ2Uuc3RhcnRUaW1lKTtcclxuICAgIFxyXG4gICAgaWYgKGN1cnJlbnRFbmQgJiYgbmV4dFN0YXJ0KSB7XHJcbiAgICAgIGlmIChuZXcgRGF0ZShjdXJyZW50RW5kKSA+IG5ldyBEYXRlKG5leHRTdGFydCkpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06ICR7bmV4dFN0YWdlLm5hbWV9IG11c3Qgc3RhcnQgYWZ0ZXIgJHtjdXJyZW50U3RhZ2UubmFtZX0gZW5kc2ApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IGhhc0NvbXBsZXRlTWF0ZXJpYWxEYXRhID0gKG1hdGVyaWFsLCBpbmNsdWRlUGxhaW5CdW5rZXIgPSBmYWxzZSkgPT4ge1xyXG4gIGNvbnN0IGhhc01haW5EYXRhID0gbWF0ZXJpYWwuc3Vic3RhZ2VzLnNvbWUoc3Vic3RhZ2UgPT4gXHJcbiAgICBzdWJzdGFnZS5zdGFydERhdGUgfHwgc3Vic3RhZ2Uuc3RhcnRUaW1lIHx8IHN1YnN0YWdlLmVuZERhdGUgfHwgc3Vic3RhZ2UuZW5kVGltZSB8fCBzdWJzdGFnZS5yZW1hcmtzXHJcbiAgKTtcclxuICBcclxuICBpZiAoIWhhc01haW5EYXRhICYmICFpbmNsdWRlUGxhaW5CdW5rZXIpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgLy8gQ2hlY2sgbWFpbiBzdWJzdGFnZXMgZm9yIGNvbXBsZXRlbmVzc1xyXG4gIGZvciAoY29uc3Qgc3Vic3RhZ2Ugb2YgbWF0ZXJpYWwuc3Vic3RhZ2VzKSB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmICFzdWJzdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnRUaW1lICYmICFzdWJzdGFnZS5zdGFydERhdGUpIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IEluY29tcGxldGUgdGFydCBkYXRhIGluICR7c3Vic3RhZ2UubmFtZX0gKHRpbWUgd2l0aG91dCBkYXRlKWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzdWJzdGFnZS5lbmREYXRlICYmICFzdWJzdGFnZS5lbmRUaW1lKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OdICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBJbmNvbXBsZXRlIGVuZCBkYXRhIGluICR7c3Vic3RhZ2UubmFtZX0gKGRhdGUgd2l0aG91dCB0aW1lKWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzdWJzdGFnZS5lbmRUaW1lICYmICFzdWJzdGFnZS5lbmREYXRlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OdICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBJbmNvbXBsZXRlIGVuZCBkYXRhIGluICR7c3Vic3RhZ2UubmFtZX0gKHRpbWUgd2l0aG91dCBkYXRlKWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIElmIGluY2x1ZGVQbGFpbkJ1bmtlciBpcyB0cnVlLCBjaGVjayBwbGFpbiBidW5rZXIgc3Vic3RhZ2VcclxuICBpZiAoaW5jbHVkZVBsYWluQnVua2VyICYmIG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2UpIHtcclxuICAgIGNvbnN0IHBiID0gbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgaWYgcGxhaW4gYnVua2VyIGhhcyBhbnkgZGF0YVxyXG4gICAgY29uc3QgaGFzUGJEYXRhID0gcGIuc3RhcnREYXRlIHx8IHBiLnN0YXJ0VGltZSB8fCBwYi5lbmREYXRlIHx8IHBiLmVuZFRpbWUgfHwgcGIucmVtYXJrcztcclxuICAgIFxyXG4gICAgaWYgKGhhc1BiRGF0YSkge1xyXG4gICAgICAvLyBWYWxpZGF0ZSBjb21wbGV0ZW5lc3NcclxuICAgICAgaWYgKHBiLnN0YXJ0RGF0ZSAmJiAhcGIuc3RhcnRUaW1lKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmIChwYi5zdGFydFRpbWUgJiYgIXBiLnN0YXJ0RGF0ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBpZiAocGIuZW5kRGF0ZSAmJiAhcGIuZW5kVGltZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBpZiAocGIuZW5kVGltZSAmJiAhcGIuZW5kRGF0ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBcclxuICAgICAgLy8gVmFsaWRhdGUgZGF0ZSByYW5nZSBpZiBib3RoIGRhdGVzIHByZXNlbnRcclxuICAgICAgaWYgKHBiLnN0YXJ0RGF0ZSAmJiBwYi5zdGFydFRpbWUgJiYgcGIuZW5kRGF0ZSAmJiBwYi5lbmRUaW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3BiLnN0YXJ0RGF0ZX1UJHtwYi5zdGFydFRpbWV9YCk7XHJcbiAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtwYi5lbmREYXRlfVQke3BiLmVuZFRpbWV9YCk7XHJcbiAgICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUgPiBlbmREYXRlVGltZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKGDinIUgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IEhhcyB2YWxpZCBkYXRhIHRvIHNhdmVgKTtcclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlUGxhaW5CdW5rZXJEYXRhID0gKG1hdGVyaWFsKSA9PiB7XHJcbiAgY29uc3QgcGIgPSBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlO1xyXG4gIGlmICghcGIpIHJldHVybiB0cnVlO1xyXG4gIFxyXG4gIC8vIENoZWNrIGlmIHBsYWluIGJ1bmtlciBzdGFnZSBoYXMgY29tcGxldGUgZGF0YSAoZGF0ZSBhbmQgdGltZSBib3RoIHByZXNlbnQpXHJcbiAgY29uc3QgaGFzUGJEYXRhID0gcGIuc3RhcnREYXRlIHx8IHBiLnN0YXJ0VGltZSB8fCBwYi5lbmREYXRlIHx8IHBiLmVuZFRpbWU7XHJcbiAgXHJcbiAgaWYgKGhhc1BiRGF0YSkge1xyXG4gICAgLy8gVmFsaWRhdGUgc3RhcnQgZmllbGRzXHJcbiAgICBpZiAocGIuc3RhcnREYXRlICYmICFwYi5zdGFydFRpbWUpIHJldHVybiBmYWxzZTtcclxuICAgIGlmIChwYi5zdGFydFRpbWUgJiYgIXBiLnN0YXJ0RGF0ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgXHJcbiAgICAvLyBWYWxpZGF0ZSBlbmQgZmllbGRzXHJcbiAgICBpZiAocGIuZW5kRGF0ZSAmJiAhcGIuZW5kVGltZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHBiLmVuZFRpbWUgJiYgIXBiLmVuZERhdGUpIHJldHVybiBmYWxzZTtcclxuICAgIFxyXG4gICAgLy8gVmFsaWRhdGUgZGF0ZSByYW5nZVxyXG4gICAgaWYgKHBiLnN0YXJ0RGF0ZSAmJiBwYi5zdGFydFRpbWUgJiYgcGIuZW5kRGF0ZSAmJiBwYi5lbmRUaW1lKSB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtwYi5zdGFydERhdGV9VCR7cGIuc3RhcnRUaW1lfWApO1xyXG4gICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3BiLmVuZERhdGV9VCR7cGIuZW5kVGltZX1gKTtcclxuICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUgPiBlbmREYXRlVGltZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IGNvbnZlcnRUb0FwaVBheWxvYWQgPSAoYmF0Y2gsIG1hdGVyaWFsLCBpc0NvbXBsZXRlZCkgPT4ge1xyXG4gIGlmICghbWF0ZXJpYWwpIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCBzb2FraW5nID0gbWF0ZXJpYWwuc3Vic3RhZ2VzWzBdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJTb2FraW5nXCIpO1xyXG4gIGNvbnN0IHNvYWtpbmdSZXN0ID0gbWF0ZXJpYWwuc3Vic3RhZ2VzWzFdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJTb2FraW5nIFJlc3RcIik7XHJcbiAgY29uc3QgcmVzb2FraW5nT25lID0gbWF0ZXJpYWwuc3Vic3RhZ2VzWzJdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJSZSBTb2FraW5nIDFcIik7XHJcbiAgY29uc3QgcmVzb2FraW5nUmVzdCA9IG1hdGVyaWFsLnN1YnN0YWdlc1szXSB8fCBjcmVhdGVFbXB0eVN1YnN0YWdlKFwiUmUgU29ha2luZyAxIFJlc3RcIik7XHJcbiAgY29uc3QgcmVzb2FraW5nVHdvID0gbWF0ZXJpYWwuc3Vic3RhZ2VzWzRdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJSZSBTb2FraW5nIDJcIik7XHJcbiAgY29uc3QgcmVzb2FraW5nVHdvUmVzdCA9IG1hdGVyaWFsLnN1YnN0YWdlc1s1XSB8fCBjcmVhdGVFbXB0eVN1YnN0YWdlKFwiUmUgU29ha2luZyAyIFJlc3RcIik7XHJcbiAgY29uc3QgcGxhaW5CdW5rZXIgPSBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJQbGFpbiBCdW5rZXJcIik7XHJcblxyXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JtYXQgZGF0ZXRpbWUgd2l0aG91dCBtaWxsaXNlY29uZHMgYW5kIHRpbWV6b25lXHJcbiAgY29uc3QgZm9ybWF0RGF0ZVRpbWUgPSAoZGF0ZVRpbWVTdHIpID0+IHtcclxuICAgIGlmICghZGF0ZVRpbWVTdHIpIHJldHVybiBudWxsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVUaW1lU3RyKTtcclxuICAgICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuIG51bGw7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3Qgc2Vjb25kcyA9IFN0cmluZyhkYXRlLmdldFNlY29uZHMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1UJHtob3Vyc306JHttaW51dGVzfToke3NlY29uZHN9YDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZvcm1hdHRpbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBPbmx5IGNvbWJpbmUgZGF0ZXMgaWYgYm90aCBkYXRlIGFuZCB0aW1lIGV4aXN0XHJcbiAgY29uc3Qgc29ha2luZ19zdGFydCA9IChzb2FraW5nLnN0YXJ0RGF0ZSAmJiBzb2FraW5nLnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShzb2FraW5nLnN0YXJ0RGF0ZSwgc29ha2luZy5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IHNvYWtpbmdfZW5kID0gKHNvYWtpbmcuZW5kRGF0ZSAmJiBzb2FraW5nLmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoc29ha2luZy5lbmREYXRlLCBzb2FraW5nLmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIFxyXG4gIGNvbnN0IHNvYWtpbmdfcmVzdF9zdGFydCA9IChzb2FraW5nUmVzdC5zdGFydERhdGUgJiYgc29ha2luZ1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHNvYWtpbmdSZXN0LnN0YXJ0RGF0ZSwgc29ha2luZ1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCBzb2FraW5nX3Jlc3RfZW5kID0gKHNvYWtpbmdSZXN0LmVuZERhdGUgJiYgc29ha2luZ1Jlc3QuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShzb2FraW5nUmVzdC5lbmREYXRlLCBzb2FraW5nUmVzdC5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBcclxuICBjb25zdCByZXNvYWtpbmdfb25lX3N0YXJ0ID0gKHJlc29ha2luZ09uZS5zdGFydERhdGUgJiYgcmVzb2FraW5nT25lLnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShyZXNvYWtpbmdPbmUuc3RhcnREYXRlLCByZXNvYWtpbmdPbmUuc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCByZXNvYWtpbmdfb25lX2VuZCA9IChyZXNvYWtpbmdPbmUuZW5kRGF0ZSAmJiByZXNvYWtpbmdPbmUuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShyZXNvYWtpbmdPbmUuZW5kRGF0ZSwgcmVzb2FraW5nT25lLmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIFxyXG4gIGNvbnN0IHJlc29ha2luZ19yZXN0X3N0YXJ0ID0gKHJlc29ha2luZ1Jlc3Quc3RhcnREYXRlICYmIHJlc29ha2luZ1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHJlc29ha2luZ1Jlc3Quc3RhcnREYXRlLCByZXNvYWtpbmdSZXN0LnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgcmVzb2FraW5nX3Jlc3RfZW5kID0gKHJlc29ha2luZ1Jlc3QuZW5kRGF0ZSAmJiByZXNvYWtpbmdSZXN0LmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocmVzb2FraW5nUmVzdC5lbmREYXRlLCByZXNvYWtpbmdSZXN0LmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIFxyXG4gIGNvbnN0IHJlc29ha2luZ190d29fc3RhcnQgPSAocmVzb2FraW5nVHdvLnN0YXJ0RGF0ZSAmJiByZXNvYWtpbmdUd28uc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHJlc29ha2luZ1R3by5zdGFydERhdGUsIHJlc29ha2luZ1R3by5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IHJlc29ha2luZ190d29fZW5kID0gKHJlc29ha2luZ1R3by5lbmREYXRlICYmIHJlc29ha2luZ1R3by5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHJlc29ha2luZ1R3by5lbmREYXRlLCByZXNvYWtpbmdUd28uZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3QgcmVzb2FraW5nX3R3b19yZXN0X3N0YXJ0ID0gKHJlc29ha2luZ1R3b1Jlc3Quc3RhcnREYXRlICYmIHJlc29ha2luZ1R3b1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHJlc29ha2luZ1R3b1Jlc3Quc3RhcnREYXRlLCByZXNvYWtpbmdUd29SZXN0LnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgcmVzb2FraW5nX3R3b19yZXN0X2VuZCA9IChyZXNvYWtpbmdUd29SZXN0LmVuZERhdGUgJiYgcmVzb2FraW5nVHdvUmVzdC5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHJlc29ha2luZ1R3b1Jlc3QuZW5kRGF0ZSwgcmVzb2FraW5nVHdvUmVzdC5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuXHJcbiAgY29uc3QgcGxhaW5fYnVua2VyX3N0YXJ0ID0gKHBsYWluQnVua2VyLnN0YXJ0RGF0ZSAmJiBwbGFpbkJ1bmtlci5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUocGxhaW5CdW5rZXIuc3RhcnREYXRlLCBwbGFpbkJ1bmtlci5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IHBsYWluX2J1bmtlcl9lbmQgPSAocGxhaW5CdW5rZXIuZW5kRGF0ZSAmJiBwbGFpbkJ1bmtlci5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKHBsYWluQnVua2VyLmVuZERhdGUsIHBsYWluQnVua2VyLmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG5cclxuICBjb25zdCBhcGlTdHJhd1R5cGUgPSBtYXRlcmlhbC50eXBlO1xyXG5cclxuICAvLyBGb3JtYXQgYWxsIGRhdGV0aW1lIGZpZWxkcyB0byBtYXRjaCB0aGUgZXhwZWN0ZWQgZm9ybWF0XHJcbiAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgIGJhdGNoX2lkOiBiYXRjaC5pZCxcclxuICAgIHN0cmF3X3R5cGU6IGFwaVN0cmF3VHlwZSxcclxuICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKHNvYWtpbmdfc3RhcnQpLFxyXG4gICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKHJlc29ha2luZ190d29fcmVzdF9lbmQgfHwgcGxhaW5fYnVua2VyX2VuZCksXHJcbiAgICBpc2NvbXBsZXRlZDogaXNDb21wbGV0ZWQsXHJcbiAgICBzb2FraW5nOiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKHNvYWtpbmdfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoc29ha2luZ19lbmQpXHJcbiAgICB9LFxyXG4gICAgc29ha2luZ19yZXN0OiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKHNvYWtpbmdfcmVzdF9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShzb2FraW5nX3Jlc3RfZW5kKVxyXG4gICAgfSxcclxuICAgIHJlc29ha2luZ19vbmU6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUocmVzb2FraW5nX29uZV9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShyZXNvYWtpbmdfb25lX2VuZClcclxuICAgIH0sXHJcbiAgICByZXNvYWtpbmdfcmVzdDoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShyZXNvYWtpbmdfcmVzdF9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShyZXNvYWtpbmdfcmVzdF9lbmQpXHJcbiAgICB9LFxyXG4gICAgcmVzb2FraW5nX3R3bzoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShyZXNvYWtpbmdfdHdvX3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKHJlc29ha2luZ190d29fZW5kKVxyXG4gICAgfSxcclxuICAgIHJlc29ha2luZ190d29fcmVzdDoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShyZXNvYWtpbmdfdHdvX3Jlc3Rfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUocmVzb2FraW5nX3R3b19yZXN0X2VuZClcclxuICAgIH0sXHJcbiAgICBwbGFpbl9idW5rZXI6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUocGxhaW5fYnVua2VyX3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKHBsYWluX2J1bmtlcl9lbmQpXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gUmVtb3ZlIG51bGwgdmFsdWVzIGJ1dCBrZWVwIHRoZSBzdHJ1Y3R1cmVcclxuICBPYmplY3Qua2V5cyhwYXlsb2FkKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICBpZiAocGF5bG9hZFtrZXldID09PSBudWxsKSB7XHJcbiAgICAgIGRlbGV0ZSBwYXlsb2FkW2tleV07XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXlsb2FkW2tleV0gPT09ICdvYmplY3QnICYmIHBheWxvYWRba2V5XSAhPT0gbnVsbCAmJiBrZXkgIT09ICdiYXRjaF9pZCcgJiYga2V5ICE9PSAnc3RyYXdfdHlwZScgJiYga2V5ICE9PSAnaXNjb21wbGV0ZWQnKSB7XHJcbiAgICAgIGxldCBoYXNWYWxpZEZpZWxkID0gZmFsc2U7XHJcbiAgICAgIE9iamVjdC5rZXlzKHBheWxvYWRba2V5XSkuZm9yRWFjaChzdWJLZXkgPT4ge1xyXG4gICAgICAgIGlmIChwYXlsb2FkW2tleV1bc3ViS2V5XSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgZGVsZXRlIHBheWxvYWRba2V5XVtzdWJLZXldO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBoYXNWYWxpZEZpZWxkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFoYXNWYWxpZEZpZWxkKSB7XHJcbiAgICAgICAgZGVsZXRlIHBheWxvYWRba2V5XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb25zb2xlLmxvZyhg8J+TpiBHZW5lcmF0ZWQgcGF5bG9hZCBmb3IgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06YCwgcGF5bG9hZCk7XHJcbiAgcmV0dXJuIHBheWxvYWQ7XHJcbn07XHJcblxyXG5jb25zdCBjb252ZXJ0QXBpUmVzcG9uc2VUb1VJID0gKGFwaURhdGEsIGJhdGNoKSA9PiB7XHJcbiAgaWYgKCFhcGlEYXRhIHx8ICFBcnJheS5pc0FycmF5KGFwaURhdGEpKSB7XHJcbiAgICBjb25zb2xlLmxvZygn4p2MIE5vIHZhbGlkIEFQSSBkYXRhIGFycmF5IHRvIGNvbnZlcnQ6JywgYXBpRGF0YSk7XHJcbiAgICByZXR1cm4gYmF0Y2g7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZygn8J+UhCBDb252ZXJ0aW5nIEFQSSBkYXRhIHRvIFVJLiBGb3VuZCBpdGVtczonLCBhcGlEYXRhLmxlbmd0aCk7XHJcblxyXG4gIGJhdGNoLm1hdGVyaWFscy5mb3JFYWNoKG1hdGVyaWFsID0+IHtcclxuICAgIGNvbnN0IG1hdGVyaWFsRGF0YSA9IGFwaURhdGEuZmluZChkID0+IFxyXG4gICAgICBkLnN0cmF3X3R5cGUgJiYgZC5zdHJhd190eXBlID09PSBtYXRlcmlhbC50eXBlXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBpZiAoIW1hdGVyaWFsRGF0YSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg4oS577iPIE5vIGRhdGEgZm91bmQgZm9yIG1hdGVyaWFsOiAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAodHlwZTogJHttYXRlcmlhbC50eXBlfSlgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGDinIUgRm91bmQgZGF0YSBmb3IgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06YCwgbWF0ZXJpYWxEYXRhKTtcclxuICAgIFxyXG4gICAgaWYgKG1hdGVyaWFsRGF0YS5pZCkge1xyXG4gICAgICBtYXRlcmlhbC5yZWNvcmRJZCA9IG1hdGVyaWFsRGF0YS5pZDtcclxuICAgICAgbWF0ZXJpYWwuaGFzRXhpc3RpbmdEYXRhID0gdHJ1ZTtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gU2V0dGluZyByZWNvcmRJZCBmb3IgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06ICR7bWF0ZXJpYWxEYXRhLmlkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN1YnN0YWdlTWFwcGluZyA9IFtcclxuICAgICAgeyBuYW1lOiBcIlNvYWtpbmdcIiwgZGF0YTogbWF0ZXJpYWxEYXRhLnNvYWtpbmcgfSxcclxuICAgICAgeyBuYW1lOiBcIlNvYWtpbmcgUmVzdFwiLCBkYXRhOiBtYXRlcmlhbERhdGEuc29ha2luZ19yZXN0IH0sXHJcbiAgICAgIHsgbmFtZTogXCJSZSBTb2FraW5nIDFcIiwgZGF0YTogbWF0ZXJpYWxEYXRhLnJlc29ha2luZ19vbmUgfSxcclxuICAgICAgeyBuYW1lOiBcIlJlIFNvYWtpbmcgMSBSZXN0XCIsIGRhdGE6IG1hdGVyaWFsRGF0YS5yZXNvYWtpbmdfcmVzdCB9LFxyXG4gICAgICB7IG5hbWU6IFwiUmUgU29ha2luZyAyXCIsIGRhdGE6IG1hdGVyaWFsRGF0YS5yZXNvYWtpbmdfdHdvIH0sXHJcbiAgICAgIHsgbmFtZTogXCJSZSBTb2FraW5nIDIgUmVzdFwiLCBkYXRhOiBtYXRlcmlhbERhdGEucmVzb2FraW5nX3R3b19yZXN0IH1cclxuICAgIF07XHJcblxyXG4gICAgc3Vic3RhZ2VNYXBwaW5nLmZvckVhY2goKG1hcHBpbmcsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChtYXBwaW5nLmRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBQcm9jZXNzaW5nICR7bWFwcGluZy5uYW1lfSBmb3IgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06YCwgbWFwcGluZy5kYXRhKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAobWFwcGluZy5kYXRhLnN0YXJ0X3RpbWUpIHtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0ZTogc3RhcnREYXRlLCB0aW1lOiBzdGFydFRpbWUgfSA9IHBhcnNlRGF0ZVRpbWUobWFwcGluZy5kYXRhLnN0YXJ0X3RpbWUpO1xyXG4gICAgICAgICAgbWF0ZXJpYWwuc3Vic3RhZ2VzW2luZGV4XS5zdGFydERhdGUgPSBzdGFydERhdGU7XHJcbiAgICAgICAgICBtYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGAgIFN0YXJ0OiAke3N0YXJ0RGF0ZX0gJHtzdGFydFRpbWV9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChtYXBwaW5nLmRhdGEuZW5kX3RpbWUpIHtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0ZTogZW5kRGF0ZSwgdGltZTogZW5kVGltZSB9ID0gcGFyc2VEYXRlVGltZShtYXBwaW5nLmRhdGEuZW5kX3RpbWUpO1xyXG4gICAgICAgICAgbWF0ZXJpYWwuc3Vic3RhZ2VzW2luZGV4XS5lbmREYXRlID0gZW5kRGF0ZTtcclxuICAgICAgICAgIG1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF0uZW5kVGltZSA9IGVuZFRpbWU7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgICBFbmQ6ICR7ZW5kRGF0ZX0gJHtlbmRUaW1lfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAobWFwcGluZy5kYXRhLmR1cmF0aW9uX2hvdXJzICE9PSB1bmRlZmluZWQgJiYgbWFwcGluZy5kYXRhLmR1cmF0aW9uX2hvdXJzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBtYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdLnRvdGFsSG91cnMgPSBtYXBwaW5nLmRhdGEuZHVyYXRpb25faG91cnMudG9TdHJpbmcoKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGAgIER1cmF0aW9uOiAke21hcHBpbmcuZGF0YS5kdXJhdGlvbl9ob3Vyc30gaG91cnNgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG1hcHBpbmcuZGF0YS5yZW1hcmtzKSB7XHJcbiAgICAgICAgICBtYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdLnJlbWFya3MgPSBtYXBwaW5nLmRhdGEucmVtYXJrcztcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYOKaoO+4jyBObyBkYXRhIGZvciAke21hcHBpbmcubmFtZX0gaW4gJHttYXRlcmlhbC5kaXNwbGF5TmFtZX1gKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTG9hZCBwbGFpbiBidW5rZXIgZGF0YSBpZiBleGlzdHNcclxuICAgIGlmIChtYXRlcmlhbERhdGEucGxhaW5fYnVua2VyKSB7XHJcbiAgICAgIGNvbnN0IHBiRGF0YSA9IG1hdGVyaWFsRGF0YS5wbGFpbl9idW5rZXI7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFByb2Nlc3NpbmcgUGxhaW4gQnVua2VyIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTpgLCBwYkRhdGEpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHBiRGF0YS5zdGFydF90aW1lKSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRlOiBzdGFydERhdGUsIHRpbWU6IHN0YXJ0VGltZSB9ID0gcGFyc2VEYXRlVGltZShwYkRhdGEuc3RhcnRfdGltZSk7XHJcbiAgICAgICAgbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZS5zdGFydERhdGUgPSBzdGFydERhdGU7XHJcbiAgICAgICAgbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZS5zdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChwYkRhdGEuZW5kX3RpbWUpIHtcclxuICAgICAgICBjb25zdCB7IGRhdGU6IGVuZERhdGUsIHRpbWU6IGVuZFRpbWUgfSA9IHBhcnNlRGF0ZVRpbWUocGJEYXRhLmVuZF90aW1lKTtcclxuICAgICAgICBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlLmVuZERhdGUgPSBlbmREYXRlO1xyXG4gICAgICAgIG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2UuZW5kVGltZSA9IGVuZFRpbWU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChwYkRhdGEuZHVyYXRpb25faG91cnMgIT09IHVuZGVmaW5lZCAmJiBwYkRhdGEuZHVyYXRpb25faG91cnMgIT09IG51bGwpIHtcclxuICAgICAgICBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlLnRvdGFsSG91cnMgPSBwYkRhdGEuZHVyYXRpb25faG91cnMudG9TdHJpbmcoKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHBiRGF0YS5yZW1hcmtzKSB7XHJcbiAgICAgICAgbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZS5yZW1hcmtzID0gcGJEYXRhLnJlbWFya3M7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgY29uc29sZS5sb2coJ+KchSBGaW5pc2hlZCBjb252ZXJ0aW5nIEFQSSBkYXRhIHRvIFVJJyk7XHJcbiAgcmV0dXJuIGJhdGNoO1xyXG59O1xyXG5cclxuY29uc3Qgc2VuZFRvQXBpID0gYXN5bmMgKHBheWxvYWQsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coYFxcbvCfmoAgU0VORElORyAke2Rpc3BsYXlOYW1lfSBEQVRBIFRPIEFQSSAoJHttYXRlcmlhbFR5cGV9KWApO1xyXG4gICAgY29uc29sZS5sb2coYFVSTDogJHtBUElfRU5EUE9JTlR9YCk7XHJcbiAgICBjb25zb2xlLmxvZygnRnVsbCBwYXlsb2FkOicsIEpTT04uc3RyaW5naWZ5KHBheWxvYWQsIG51bGwsIDIpKTtcclxuICAgIFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChBUElfRU5EUE9JTlQsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhg8J+TpSBSRVNQT05TRSBmb3IgJHtkaXNwbGF5TmFtZX06IFN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBkZXRhaWw6ICdVbmtub3duIGVycm9yJyB9KSk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBUEkgRXJyb3IgUmVzcG9uc2U6JywgZXJyb3JEYXRhKTtcclxuICAgICAgXHJcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xyXG4gICAgICBpZiAoZXJyb3JEYXRhLmRldGFpbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXJyb3JEYXRhLmRldGFpbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5kZXRhaWw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVycm9yRGF0YS5kZXRhaWwpKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZGV0YWlsLm1hcChlcnIgPT4gZXJyLm1zZykuam9pbignLCAnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlcnJvckRhdGEuZGV0YWlsID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZXJyb3JEYXRhLmRldGFpbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFNVQ0NFU1MgZm9yICR7ZGlzcGxheU5hbWV9OmAsIHJlc3VsdCk7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihg4p2MIEVSUk9SIHNlbmRpbmcgJHtkaXNwbGF5TmFtZX0gZGF0YTpgLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVCYXRjaFBsYWluQnVua2VyU3RhdHVzID0gYXN5bmMgKGJhdGNoSWQsIHN0YXR1cykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhgXFxu8J+agCBVUERBVElORyBCQVRDSCAke2JhdGNoSWR9IFBMQUlOIEJVTktFUiBTVEFUVVMgVE86ICR7c3RhdHVzfWApO1xyXG4gICAgY29uc3QgdXJsID0gYCR7QkFUQ0hfVVBEQVRFX0VORFBPSU5UfS8ke2JhdGNoSWR9YDtcclxuICAgIGNvbnNvbGUubG9nKGBVUkw6ICR7dXJsfWApO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIHBsYWluX2J1bmtlcl9taXhlZDogc3RhdHVzXHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhg8J+TpSBSRVNQT05TRTogU3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGRldGFpbDogJ1Vua25vd24gZXJyb3InIH0pKTtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEFQSSBFcnJvciBSZXNwb25zZTonLCBlcnJvckRhdGEpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgYmF0Y2ggc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIEJhdGNoIHN0YXR1cyB1cGRhdGVkIHN1Y2Nlc3NmdWxseTpgLCByZXN1bHQpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0IH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciB1cGRhdGluZyBiYXRjaCBzdGF0dXM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgTWF0ZXJpYWxUYWJsZSA9IFJlYWN0Lm1lbW8oKHsgbWF0ZXJpYWwsIG9uVXBkYXRlLCBzaG93UGxhaW5CdW5rZXIgPSBmYWxzZSwgcmVhZE9ubHkgPSBmYWxzZSB9KSA9PiB7XHJcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xyXG5cclxuICBjb25zdCB2YWxpZGF0ZURhdGVSYW5nZSA9IChzdWJzdGFnZSwgZmllbGQsIG5ld1ZhbHVlLCBjdXJyZW50U3Vic3RhZ2UsIGlzUGxhaW5CdW5rZXIgPSBmYWxzZSkgPT4ge1xyXG4gICAgaWYgKGZpZWxkID09PSAnc3RhcnREYXRlJyB8fCBmaWVsZCA9PT0gJ3N0YXJ0VGltZScpIHtcclxuICAgICAgaWYgKHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0YXJ0RGF0ZVRpbWUgPSBmaWVsZCA9PT0gJ3N0YXJ0RGF0ZScgXHJcbiAgICAgICAgICA/IGNvbWJpbmVEYXRlVGltZShuZXdWYWx1ZSwgc3Vic3RhZ2Uuc3RhcnRUaW1lKVxyXG4gICAgICAgICAgOiBjb21iaW5lRGF0ZVRpbWUoc3Vic3RhZ2Uuc3RhcnREYXRlLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBjb21iaW5lRGF0ZVRpbWUoc3Vic3RhZ2UuZW5kRGF0ZSwgc3Vic3RhZ2UuZW5kVGltZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG5ld1N0YXJ0RGF0ZVRpbWUgJiYgZW5kRGF0ZVRpbWUgJiYgbmV3IERhdGUobmV3U3RhcnREYXRlVGltZSkgPiBuZXcgRGF0ZShlbmREYXRlVGltZSkpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtICR7c3Vic3RhZ2UubmFtZX06IFN0YXJ0IGRhdGUvdGltZSBjYW5ub3QgYmUgYWZ0ZXIgZW5kIGRhdGUvdGltZWApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChmaWVsZCA9PT0gJ2VuZERhdGUnIHx8IGZpZWxkID09PSAnZW5kVGltZScpIHtcclxuICAgICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiBzdWJzdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLnN0YXJ0RGF0ZSwgc3Vic3RhZ2Uuc3RhcnRUaW1lKTtcclxuICAgICAgICBjb25zdCBuZXdFbmREYXRlVGltZSA9IGZpZWxkID09PSAnZW5kRGF0ZSdcclxuICAgICAgICAgID8gY29tYmluZURhdGVUaW1lKG5ld1ZhbHVlLCBzdWJzdGFnZS5lbmRUaW1lKVxyXG4gICAgICAgICAgOiBjb21iaW5lRGF0ZVRpbWUoc3Vic3RhZ2UuZW5kRGF0ZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChzdGFydERhdGVUaW1lICYmIG5ld0VuZERhdGVUaW1lICYmIG5ldyBEYXRlKHN0YXJ0RGF0ZVRpbWUpID4gbmV3IERhdGUobmV3RW5kRGF0ZVRpbWUpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLSAke3N1YnN0YWdlLm5hbWV9OiBFbmQgZGF0ZS90aW1lIGNhbm5vdCBiZSBiZWZvcmUgc3RhcnQgZGF0ZS90aW1lYCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG5cclxuICBjb25zdCB2YWxpZGF0ZVN0YWdlU2VxdWVuY2UgPSAoaW5kZXgsIGZpZWxkLCB2YWx1ZSwgdXBkYXRlZE1hdGVyaWFsLCBpc1BsYWluQnVua2VyID0gZmFsc2UpID0+IHtcclxuICAgIGlmIChpc1BsYWluQnVua2VyKSByZXR1cm4gdHJ1ZTsgLy8gTm8gc2VxdWVuY2UgdmFsaWRhdGlvbiBmb3IgcGxhaW4gYnVua2VyXHJcbiAgICBcclxuICAgIGNvbnN0IHN1YnN0YWdlID0gdXBkYXRlZE1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF07XHJcbiAgICBjb25zdCB0ZW1wU3Vic3RhZ2UgPSB7IC4uLnN1YnN0YWdlLCBbZmllbGRdOiB2YWx1ZSB9O1xyXG4gICAgY29uc3Qgc3RhZ2VJbmRleCA9IGluZGV4O1xyXG4gICAgXHJcbiAgICBpZiAoc3RhZ2VJbmRleCA+IDApIHtcclxuICAgICAgY29uc3QgcHJldlN0YWdlID0gdXBkYXRlZE1hdGVyaWFsLnN1YnN0YWdlc1tzdGFnZUluZGV4IC0gMV07XHJcbiAgICAgIGlmIChwcmV2U3RhZ2UuZW5kRGF0ZSAmJiBwcmV2U3RhZ2UuZW5kVGltZSAmJiB0ZW1wU3Vic3RhZ2Uuc3RhcnREYXRlICYmIHRlbXBTdWJzdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgICBjb25zdCBwcmV2RW5kID0gY29tYmluZURhdGVUaW1lKHByZXZTdGFnZS5lbmREYXRlLCBwcmV2U3RhZ2UuZW5kVGltZSk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXJ0ID0gY29tYmluZURhdGVUaW1lKHRlbXBTdWJzdGFnZS5zdGFydERhdGUsIHRlbXBTdWJzdGFnZS5zdGFydFRpbWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChwcmV2RW5kICYmIGN1cnJlbnRTdGFydCAmJiBuZXcgRGF0ZShwcmV2RW5kKSA+IG5ldyBEYXRlKGN1cnJlbnRTdGFydCkpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogJHt0ZW1wU3Vic3RhZ2UubmFtZX0gbXVzdCBzdGFydCBhZnRlciAke3ByZXZTdGFnZS5uYW1lfSBlbmRzYCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzdGFnZUluZGV4IDwgdXBkYXRlZE1hdGVyaWFsLnN1YnN0YWdlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgIGNvbnN0IG5leHRTdGFnZSA9IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXNbc3RhZ2VJbmRleCArIDFdO1xyXG4gICAgICBpZiAodGVtcFN1YnN0YWdlLmVuZERhdGUgJiYgdGVtcFN1YnN0YWdlLmVuZFRpbWUgJiYgbmV4dFN0YWdlLnN0YXJ0RGF0ZSAmJiBuZXh0U3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEVuZCA9IGNvbWJpbmVEYXRlVGltZSh0ZW1wU3Vic3RhZ2UuZW5kRGF0ZSwgdGVtcFN1YnN0YWdlLmVuZFRpbWUpO1xyXG4gICAgICAgIGNvbnN0IG5leHRTdGFydCA9IGNvbWJpbmVEYXRlVGltZShuZXh0U3RhZ2Uuc3RhcnREYXRlLCBuZXh0U3RhZ2Uuc3RhcnRUaW1lKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoY3VycmVudEVuZCAmJiBuZXh0U3RhcnQgJiYgbmV3IERhdGUoY3VycmVudEVuZCkgPiBuZXcgRGF0ZShuZXh0U3RhcnQpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06ICR7bmV4dFN0YWdlLm5hbWV9IG11c3Qgc3RhcnQgYWZ0ZXIgJHt0ZW1wU3Vic3RhZ2UubmFtZX0gZW5kc2ApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRNaW5FbmREYXRlID0gKHN1YnN0YWdlKSA9PiB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlKSB7XHJcbiAgICAgIHJldHVybiBzdWJzdGFnZS5zdGFydERhdGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldE1pbkVuZFRpbWUgPSAoc3Vic3RhZ2UpID0+IHtcclxuICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgPT09IHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgIHJldHVybiBzdWJzdGFnZS5zdGFydFRpbWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGluZGV4LCBmaWVsZCwgdmFsdWUsIGlzUGxhaW5CdW5rZXIgPSBmYWxzZSkgPT4ge1xyXG4gICAgaWYgKHJlYWRPbmx5KSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IHVwZGF0ZWRNYXRlcmlhbCA9IHsgLi4ubWF0ZXJpYWwgfTtcclxuICAgIFxyXG4gICAgaWYgKGlzUGxhaW5CdW5rZXIpIHtcclxuICAgICAgY29uc3Qgc3Vic3RhZ2UgPSB1cGRhdGVkTWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZTtcclxuICAgICAgXHJcbiAgICAgIGlmIChmaWVsZCA9PT0gJ3N0YXJ0RGF0ZScgfHwgZmllbGQgPT09ICdzdGFydFRpbWUnIHx8IGZpZWxkID09PSAnZW5kRGF0ZScgfHwgZmllbGQgPT09ICdlbmRUaW1lJykge1xyXG4gICAgICAgIGlmICghdmFsaWRhdGVEYXRlUmFuZ2Uoc3Vic3RhZ2UsIGZpZWxkLCB2YWx1ZSwgc3Vic3RhZ2UsIHRydWUpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBzdWJzdGFnZVtmaWVsZF0gPSB2YWx1ZTtcclxuICAgICAgXHJcbiAgICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lICYmIHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5zdGFydERhdGV9VCR7c3Vic3RhZ2Uuc3RhcnRUaW1lfWApO1xyXG4gICAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2UuZW5kRGF0ZX1UJHtzdWJzdGFnZS5lbmRUaW1lfWApO1xyXG4gICAgICAgIGNvbnN0IGRpZmZIb3VycyA9IChlbmREYXRlVGltZSAtIHN0YXJ0RGF0ZVRpbWUpIC8gKDEwMDAgKiA2MCAqIDYwKTtcclxuICAgICAgICBzdWJzdGFnZS50b3RhbEhvdXJzID0gZGlmZkhvdXJzLnRvRml4ZWQoMSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHN1YnN0YWdlID0gdXBkYXRlZE1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF07XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmllbGQgPT09ICdzdGFydERhdGUnIHx8IGZpZWxkID09PSAnc3RhcnRUaW1lJyB8fCBmaWVsZCA9PT0gJ2VuZERhdGUnIHx8IGZpZWxkID09PSAnZW5kVGltZScpIHtcclxuICAgICAgICBpZiAoIXZhbGlkYXRlRGF0ZVJhbmdlKHN1YnN0YWdlLCBmaWVsZCwgdmFsdWUsIHN1YnN0YWdlKSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc3Vic3RhZ2VbZmllbGRdID0gdmFsdWU7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXZhbGlkYXRlU3RhZ2VTZXF1ZW5jZShpbmRleCwgZmllbGQsIHZhbHVlLCB1cGRhdGVkTWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSAmJiBzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2Uuc3RhcnREYXRlfVQke3N1YnN0YWdlLnN0YXJ0VGltZX1gKTtcclxuICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLmVuZERhdGV9VCR7c3Vic3RhZ2UuZW5kVGltZX1gKTtcclxuICAgICAgICBjb25zdCBkaWZmSG91cnMgPSAoZW5kRGF0ZVRpbWUgLSBzdGFydERhdGVUaW1lKSAvICgxMDAwICogNjAgKiA2MCk7XHJcbiAgICAgICAgc3Vic3RhZ2UudG90YWxIb3VycyA9IGRpZmZIb3Vycy50b0ZpeGVkKDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uVXBkYXRlKHVwZGF0ZWRNYXRlcmlhbCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0VGFibGVUaXRsZSA9ICgpID0+IHtcclxuICAgIHJldHVybiBgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gU29ha2luZyBQcm9jZXNzYDtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0YWJsZS1zZWN0aW9uXCI+XHJcbiAgICAgIDxoMyBjbGFzc05hbWU9XCJ0YWJsZS10aXRsZVwiPntnZXRUYWJsZVRpdGxlKCl9PC9oMz5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbnRyeS10YWJsZS1jb250YWluZXJcIj5cclxuICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiZW50cnktdGFibGVcIj5cclxuICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPlN1YnN0YWdlPC90aD5cclxuICAgICAgICAgICAgICA8dGggY29sU3Bhbj1cIjJcIj5TdGFydDwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIGNvbFNwYW49XCIyXCI+RW5kPC90aD5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5Ub3RhbCBIb3VyczwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+UmVtYXJrczwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGg+RGF0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoPlRpbWU8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aD5EYXRlPC90aD5cclxuICAgICAgICAgICAgICA8dGg+VGltZTwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICB7bWF0ZXJpYWwuc3Vic3RhZ2VzLm1hcCgoc3Vic3RhZ2UsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgPHRyIGtleT17aW5kZXh9PlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInN1YnN0YWdlLW5hbWVcIj57c3Vic3RhZ2UubmFtZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnN0YXJ0RGF0ZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnc3RhcnREYXRlJywgZS50YXJnZXQudmFsdWUsIGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1heD17c3Vic3RhZ2UuZW5kRGF0ZSB8fCB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnN0YXJ0VGltZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnc3RhcnRUaW1lJywgZS50YXJnZXQudmFsdWUsIGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1heD17c3Vic3RhZ2Uuc3RhcnREYXRlID09PSBzdWJzdGFnZS5lbmREYXRlID8gc3Vic3RhZ2UuZW5kVGltZSA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UuZW5kRGF0ZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnZW5kRGF0ZScsIGUudGFyZ2V0LnZhbHVlLCBmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtaW49e2dldE1pbkVuZERhdGUoc3Vic3RhZ2UpfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRpbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5lbmRUaW1lIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdlbmRUaW1lJywgZS50YXJnZXQudmFsdWUsIGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj17Z2V0TWluRW5kVGltZShzdWJzdGFnZSl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnRvdGFsSG91cnMgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHlcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBdXRvLWNhbGNcIlxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5yZW1hcmtzIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdyZW1hcmtzJywgZS50YXJnZXQudmFsdWUsIGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBZGQgcmVtYXJrcy4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICApKX1cclxuICAgICAgICAgICAge3Nob3dQbGFpbkJ1bmtlciAmJiAoXHJcbiAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cInBsYWluLWJ1bmtlci1yb3dcIj5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJzdWJzdGFnZS1uYW1lIHBsYWluLWJ1bmtlclwiPlBsYWluIEJ1bmtlcjwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZT8uc3RhcnREYXRlIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UobnVsbCwgJ3N0YXJ0RGF0ZScsIGUudGFyZ2V0LnZhbHVlLCB0cnVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1heD17bWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZT8uZW5kRGF0ZSB8fCB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LnN0YXJ0VGltZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKG51bGwsICdzdGFydFRpbWUnLCBlLnRhcmdldC52YWx1ZSwgdHJ1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtYXg9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LnN0YXJ0RGF0ZSA9PT0gbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZT8uZW5kRGF0ZSA/IG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LmVuZFRpbWUgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U/LmVuZERhdGUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShudWxsLCAnZW5kRGF0ZScsIGUudGFyZ2V0LnZhbHVlLCB0cnVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj17Z2V0TWluRW5kRGF0ZShtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlKX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0aW1lXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZT8uZW5kVGltZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKG51bGwsICdlbmRUaW1lJywgZS50YXJnZXQudmFsdWUsIHRydWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWluPXtnZXRNaW5FbmRUaW1lKG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2UpfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlPy50b3RhbEhvdXJzIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQXV0by1jYWxjXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZT8ucmVtYXJrcyB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKG51bGwsICdyZW1hcmtzJywgZS50YXJnZXQudmFsdWUsIHRydWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFkZCByZW1hcmtzLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSk7XHJcblxyXG5NYXRlcmlhbFRhYmxlLmRpc3BsYXlOYW1lID0gJ01hdGVyaWFsVGFibGUnO1xyXG5cclxuZnVuY3Rpb24gQmF0Y2hTZWxlY3Rpb24oeyBvblNlbGVjdEJhdGNoLCBsb2FkaW5nLCBlcnJvciwgaW5pdGlhbEJhdGNoTnVtYmVyLCBpbml0aWFsQmF0Y2hJZCB9KSB7XHJcbiAgY29uc3QgW2JhdGNoTnVtYmVyLCBzZXRCYXRjaE51bWJlcl0gPSB1c2VTdGF0ZShpbml0aWFsQmF0Y2hOdW1iZXIgfHwgJycpO1xyXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpO1xyXG4gIGNvbnN0IGhhc0xvYWRlZFJlZiA9IHVzZVJlZihmYWxzZSk7XHJcblxyXG4gIC8vIEF1dG8tbG9hZCBiYXRjaCBpZiBpbml0aWFsQmF0Y2hOdW1iZXIgaXMgcHJvdmlkZWRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGluaXRpYWxCYXRjaE51bWJlciAmJiAhaGFzTG9hZGVkUmVmLmN1cnJlbnQgJiYgIWxvYWRpbmcpIHtcclxuICAgICAgc2V0QmF0Y2hOdW1iZXIoaW5pdGlhbEJhdGNoTnVtYmVyKTtcclxuICAgICAgaGFuZGxlTG9hZEJhdGNoKGluaXRpYWxCYXRjaE51bWJlciwgaW5pdGlhbEJhdGNoSWQpO1xyXG4gICAgICBoYXNMb2FkZWRSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfSwgW2luaXRpYWxCYXRjaE51bWJlciwgaW5pdGlhbEJhdGNoSWQsIGxvYWRpbmddKTtcclxuXHJcbiAgY29uc3QgZ2V0TWF0ZXJpYWxzRnJvbUJhdGNoID0gKGJhdGNoRGF0YSkgPT4ge1xyXG4gICAgY29uc3QgbWF0ZXJpYWxzID0gbmV3IFNldCgpO1xyXG4gICAgXHJcbiAgICBpZiAoYmF0Y2hEYXRhICYmIGJhdGNoRGF0YS5mb3JtdWxhdGlvbl9lbnRyaWVzKSB7XHJcbiAgICAgIGJhdGNoRGF0YS5mb3JtdWxhdGlvbl9lbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsTmFtZSA9IGVudHJ5Lm5hbWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICBpZiAoTUFURVJJQUxfVFlQRVNbbWF0ZXJpYWxOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBtYXRlcmlhbHMuYWRkKG1hdGVyaWFsTmFtZSk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TjCBGb3VuZCBtYXRlcmlhbDogJHttYXRlcmlhbE5hbWV9IC0+ICR7TUFURVJJQUxfVFlQRVNbbWF0ZXJpYWxOYW1lXX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShtYXRlcmlhbHMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUxvYWRCYXRjaCA9IGFzeW5jIChiYXRjaE51bSwgYmF0Y2hJZCkgPT4ge1xyXG4gICAgaWYgKCFiYXRjaE51bS50cmltKCkpIHtcclxuICAgICAgdG9hc3QuZXJyb3IoJ1BsZWFzZSBlbnRlciBhIGJhdGNoIG51bWJlcicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEZldGNoaW5nIGJhdGNoIGRldGFpbHMgZm9yOiAke2JhdGNoTnVtfSB3aXRoIElEOiAke2JhdGNoSWQgfHwgJ3Vua25vd24nfWApO1xyXG4gICAgICBcclxuICAgICAgbGV0IHNlbGVjdGVkQmF0Y2ggPSBudWxsO1xyXG4gICAgICBsZXQgYmF0Y2hJZFRvVXNlID0gYmF0Y2hJZDtcclxuICAgICAgXHJcbiAgICAgIC8vIElmIGJhdGNoSWQgaXMgcHJvdmlkZWQsIHdlIGNhbiB1c2UgaXQgZGlyZWN0bHlcclxuICAgICAgaWYgKGJhdGNoSWRUb1VzZSkge1xyXG4gICAgICAgIC8vIFRyeSB0byBmZXRjaCBiYXRjaCBkZXRhaWxzIHVzaW5nIElEIGlmIG5lZWRlZFxyXG4gICAgICAgIGNvbnN0IGJhdGNoUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2JhdGNoZXNgKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWJhdGNoUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGJhdGNoZXMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYmF0Y2hSZXN1bHQgPSBhd2FpdCBiYXRjaFJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgYmF0Y2hlcyA9IFtdO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJhdGNoUmVzdWx0KSkge1xyXG4gICAgICAgICAgYmF0Y2hlcyA9IGJhdGNoUmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmF0Y2hSZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgYmF0Y2hlcyA9IGJhdGNoUmVzdWx0LmRhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxlY3RlZEJhdGNoID0gYmF0Y2hlcy5maW5kKGIgPT4gYi5pZCA9PT0gYmF0Y2hJZFRvVXNlKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIXNlbGVjdGVkQmF0Y2gpIHtcclxuICAgICAgICAgIC8vIElmIG5vdCBmb3VuZCBieSBJRCwgdHJ5IGJ5IGJhdGNoIG51bWJlclxyXG4gICAgICAgICAgc2VsZWN0ZWRCYXRjaCA9IGJhdGNoZXMuZmluZChiID0+IGIuYmF0Y2hfbnVtYmVyID09PSBiYXRjaE51bS50cmltKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBObyBiYXRjaElkIHByb3ZpZGVkLCBmZXRjaCBieSBiYXRjaCBudW1iZXJcclxuICAgICAgICBjb25zdCBiYXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9iYXRjaGVzYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFiYXRjaFJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBiYXRjaGVzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJhdGNoUmVzdWx0ID0gYXdhaXQgYmF0Y2hSZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGJhdGNoZXMgPSBbXTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShiYXRjaFJlc3VsdCkpIHtcclxuICAgICAgICAgIGJhdGNoZXMgPSBiYXRjaFJlc3VsdDtcclxuICAgICAgICB9IGVsc2UgaWYgKGJhdGNoUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgIGJhdGNoZXMgPSBiYXRjaFJlc3VsdC5kYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZWN0ZWRCYXRjaCA9IGJhdGNoZXMuZmluZChiID0+IGIuYmF0Y2hfbnVtYmVyID09PSBiYXRjaE51bS50cmltKCkpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNlbGVjdGVkQmF0Y2gpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcignQmF0Y2ggbnVtYmVyIG5vdCBmb3VuZCcpO1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEZvdW5kIGJhdGNoOicsIHNlbGVjdGVkQmF0Y2gpO1xyXG5cclxuICAgICAgY29uc3QgbWF0ZXJpYWxzID0gZ2V0TWF0ZXJpYWxzRnJvbUJhdGNoKHNlbGVjdGVkQmF0Y2gpO1xyXG5cclxuICAgICAgaWYgKG1hdGVyaWFscy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0b2FzdC5lcnJvcignTm8gc3VpdGFibGUgbWF0ZXJpYWxzIChCYWdhc3NlLCBXaGVhdCBTdHJhdywgb3IgUGFkZHkgU3RyYXcpIGZvdW5kIGluIHRoaXMgYmF0Y2gnKTtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCfk4sgTWF0ZXJpYWxzIHRvIHByb2Nlc3M6YCwgbWF0ZXJpYWxzKTtcclxuICAgICAgY29uc29sZS5sb2coYPCfk4sgTnVtYmVyIG9mIG1hdGVyaWFsIHRhYmxlczogJHttYXRlcmlhbHMubGVuZ3RofWApO1xyXG5cclxuICAgICAgY29uc3QgbmV3QmF0Y2ggPSBjcmVhdGVFbXB0eUJhdGNoKGJhdGNoTnVtLCBtYXRlcmlhbHMsIHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBuZXdCYXRjaC5iYXRjaERhdGEgPSBzZWxlY3RlZEJhdGNoO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogRmV0Y2hpbmcgc3RyYXcgZGF0YSBmb3IgYmF0Y2ggSUQ6Jywgc2VsZWN0ZWRCYXRjaC5pZCk7XHJcbiAgICAgIGNvbnN0IHN0cmF3RGF0YVJlc3VsdCA9IGF3YWl0IGZldGNoQmF0Y2hEYXRhKHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHN0cmF3RGF0YVJlc3VsdC5zdWNjZXNzICYmIHN0cmF3RGF0YVJlc3VsdC5kYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk6YgUmF3IEFQSSBkYXRhOicsIHN0cmF3RGF0YVJlc3VsdC5kYXRhKTtcclxuICAgICAgICBjb25zdCBwb3B1bGF0ZWRCYXRjaCA9IGNvbnZlcnRBcGlSZXNwb25zZVRvVUkoc3RyYXdEYXRhUmVzdWx0LmRhdGEsIG5ld0JhdGNoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFBvcHVsYXRlZCBiYXRjaDonLCBwb3B1bGF0ZWRCYXRjaCk7XHJcbiAgICAgICAgb25TZWxlY3RCYXRjaChwb3B1bGF0ZWRCYXRjaCk7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19IHdpdGggZXhpc3RpbmcgZGF0YSAoJHttYXRlcmlhbHMubGVuZ3RofSBtYXRlcmlhbCB0YWJsZSR7bWF0ZXJpYWxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30pYCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3RyYXdEYXRhUmVzdWx0LnN1Y2Nlc3MgJiYgIXN0cmF3RGF0YVJlc3VsdC5kYXRhKSB7XHJcbiAgICAgICAgb25TZWxlY3RCYXRjaChuZXdCYXRjaCk7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19ICgke21hdGVyaWFscy5sZW5ndGh9IG1hdGVyaWFsIHRhYmxlJHttYXRlcmlhbHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSAtIG5vIGV4aXN0aW5nIGRhdGEpYCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9hc3Qud2FybmluZyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19IGJ1dCBmYWlsZWQgdG8gZmV0Y2ggZXhpc3RpbmcgZGF0YWApO1xyXG4gICAgICAgIG9uU2VsZWN0QmF0Y2gobmV3QmF0Y2gpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBsb2FkaW5nIGJhdGNoOicsIGVycik7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdFcnJvciBsb2FkaW5nIGJhdGNoIGRldGFpbHMuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU5ldyA9ICgpID0+IHtcclxuICAgIGlmIChpc0xvYWRpbmcgfHwgbG9hZGluZykgcmV0dXJuO1xyXG4gICAgaGFuZGxlTG9hZEJhdGNoKGJhdGNoTnVtYmVyKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVCYWNrQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAvLyBDbGVhciB0aGUgVVJMIHBhcmFtcyB3aGVuIGdvaW5nIGJhY2tcclxuICAgIHJvdXRlci5wdXNoKCcvc29ha2luZycpO1xyXG4gICAgLy8gQ2xlYXIgdGhlIGJhdGNoIG51bWJlciBhbmQgYWxsb3cgbmV3IGlucHV0XHJcbiAgICBzZXRCYXRjaE51bWJlcignJyk7XHJcbiAgICBoYXNMb2FkZWRSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJhdGNoLXNlbGVjdGlvblwiPlxyXG4gICAgICA8aDI+U29ha2luZyBQcm9jZXNzIEVudHJ5PC9oMj5cclxuICAgICAgXHJcbiAgICAgIHtlcnJvciAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCI+XHJcbiAgICAgICAgICBFcnJvcjoge2Vycm9yfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgICBcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3Rpb24tcGFuZWxcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy1iYXRjaC1zZWN0aW9uXCI+XHJcbiAgICAgICAgICA8aDM+RW50ZXIgQmF0Y2ggTnVtYmVyPC9oMz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmF0Y2gtaW5wdXQtZ3JvdXBcIj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgQmF0Y2ggTnVtYmVyIChlLmcuLCBCQVRDSC0wMDEpXCJcclxuICAgICAgICAgICAgICB2YWx1ZT17YmF0Y2hOdW1iZXJ9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRCYXRjaE51bWJlcihlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmF0Y2gtaW5wdXRcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgbG9hZGluZ31cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDcmVhdGVOZXd9IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGxvYWRpbmd9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7aXNMb2FkaW5nIHx8IGxvYWRpbmcgPyAnTG9hZGluZy4uLicgOiAnTG9hZCBCYXRjaCd9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gU29ha2luZ0NvbnRlbnQoKSB7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xyXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpO1xyXG4gIGNvbnN0IFtjdXJyZW50QmF0Y2gsIHNldEN1cnJlbnRCYXRjaF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbc2F2ZWRCYXRjaGVzLCBzZXRTYXZlZEJhdGNoZXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtpbml0aWFsQmF0Y2hOdW1iZXIsIHNldEluaXRpYWxCYXRjaE51bWJlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbaW5pdGlhbEJhdGNoSWQsIHNldEluaXRpYWxCYXRjaElkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IGlzU2F2aW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gR2V0IGJhdGNoIG51bWJlciBhbmQgSUQgZnJvbSBVUkwgcGFyYW1zXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGJhdGNoTnVtID0gc2VhcmNoUGFyYW1zLmdldCgnYmF0Y2gnKTtcclxuICAgIGNvbnN0IGJhdGNoSWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdiYXRjaElkJyk7XHJcbiAgICBcclxuICAgIGlmIChiYXRjaE51bSkge1xyXG4gICAgICBzZXRJbml0aWFsQmF0Y2hOdW1iZXIoYmF0Y2hOdW0pO1xyXG4gICAgICBzZXRJbml0aWFsQmF0Y2hJZChiYXRjaElkKTtcclxuICAgIH1cclxuICB9LCBbc2VhcmNoUGFyYW1zXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNlbGVjdEJhdGNoID0gKGJhdGNoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFNldHRpbmcgY3VycmVudCBiYXRjaDonLCBiYXRjaCk7XHJcbiAgICBzZXRDdXJyZW50QmF0Y2goYmF0Y2gpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVVwZGF0ZU1hdGVyaWFsID0gdXNlQ2FsbGJhY2soKGluZGV4LCB1cGRhdGVkTWF0ZXJpYWwpID0+IHtcclxuICAgIHNldEN1cnJlbnRCYXRjaChwcmV2QmF0Y2ggPT4ge1xyXG4gICAgICBpZiAoIXByZXZCYXRjaCkgcmV0dXJuIHByZXZCYXRjaDtcclxuICAgICAgY29uc3QgdXBkYXRlZE1hdGVyaWFscyA9IFsuLi5wcmV2QmF0Y2gubWF0ZXJpYWxzXTtcclxuICAgICAgdXBkYXRlZE1hdGVyaWFsc1tpbmRleF0gPSB1cGRhdGVkTWF0ZXJpYWw7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4ucHJldkJhdGNoLFxyXG4gICAgICAgIG1hdGVyaWFsczogdXBkYXRlZE1hdGVyaWFsc1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVNb3ZlVG9QbGFpbkJ1bmtlckNoYW5nZSA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgc2V0Q3VycmVudEJhdGNoKHByZXZCYXRjaCA9PiAoe1xyXG4gICAgICAuLi5wcmV2QmF0Y2gsXHJcbiAgICAgIG1vdmVUb1BsYWluQnVua2VyOiB2YWx1ZSA9PT0gJ3llcydcclxuICAgIH0pKTtcclxuICB9O1xyXG5cclxuICBjb25zdCB2YWxpZGF0ZUJhdGNoRGF0YSA9IChiYXRjaCwgaW5jbHVkZVBsYWluQnVua2VyID0gZmFsc2UpID0+IHtcclxuICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YgYmF0Y2gubWF0ZXJpYWxzKSB7XHJcbiAgICAgIC8vIFZhbGlkYXRlIG1haW4gc3Vic3RhZ2VzXHJcbiAgICAgIGZvciAoY29uc3Qgc3Vic3RhZ2Ugb2YgbWF0ZXJpYWwuc3Vic3RhZ2VzKSB7XHJcbiAgICAgICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiBzdWJzdGFnZS5zdGFydFRpbWUgJiYgc3Vic3RhZ2UuZW5kRGF0ZSAmJiBzdWJzdGFnZS5lbmRUaW1lKSB7XHJcbiAgICAgICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2Uuc3RhcnREYXRlfVQke3N1YnN0YWdlLnN0YXJ0VGltZX1gKTtcclxuICAgICAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2UuZW5kRGF0ZX1UJHtzdWJzdGFnZS5lbmRUaW1lfWApO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoc3RhcnREYXRlVGltZSA+IGVuZERhdGVUaW1lKSB7XHJcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtICR7c3Vic3RhZ2UubmFtZX06IEVuZCBkYXRlL3RpbWUgY2Fubm90IGJlIGJlZm9yZSBzdGFydCBkYXRlL3RpbWVgKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoKHN1YnN0YWdlLnN0YXJ0RGF0ZSB8fCBzdWJzdGFnZS5zdGFydFRpbWUpICYmICghc3Vic3RhZ2Uuc3RhcnREYXRlIHx8ICFzdWJzdGFnZS5zdGFydFRpbWUpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgUGxlYXNlIGNvbXBsZXRlIGJvdGggZGF0ZSBhbmQgdGltZSBmb3IgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLSAke3N1YnN0YWdlLm5hbWV9IHN0YXJ0YCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgoc3Vic3RhZ2UuZW5kRGF0ZSB8fCBzdWJzdGFnZS5lbmRUaW1lKSAmJiAoIXN1YnN0YWdlLmVuZERhdGUgfHwgIXN1YnN0YWdlLmVuZFRpbWUpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgUGxlYXNlIGNvbXBsZXRlIGJvdGggZGF0ZSBhbmQgdGltZSBmb3IgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLSAke3N1YnN0YWdlLm5hbWV9IGVuZGApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKCF2YWxpZGF0ZVN0YWdlU2VxdWVuY2luZyhtYXRlcmlhbCwgdG9hc3QpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBWYWxpZGF0ZSBwbGFpbiBidW5rZXIgaWYgaW5jbHVkZWRcclxuICAgICAgaWYgKGluY2x1ZGVQbGFpbkJ1bmtlciAmJiBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlKSB7XHJcbiAgICAgICAgY29uc3QgcGIgPSBtYXRlcmlhbC5wbGFpbkJ1bmtlclN1YnN0YWdlO1xyXG4gICAgICAgIGNvbnN0IGhhc1BiRGF0YSA9IHBiLnN0YXJ0RGF0ZSB8fCBwYi5zdGFydFRpbWUgfHwgcGIuZW5kRGF0ZSB8fCBwYi5lbmRUaW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChoYXNQYkRhdGEpIHtcclxuICAgICAgICAgIGlmICgocGIuc3RhcnREYXRlICYmICFwYi5zdGFydFRpbWUpIHx8IChwYi5zdGFydFRpbWUgJiYgIXBiLnN0YXJ0RGF0ZSkpIHtcclxuICAgICAgICAgICAgdG9hc3QuZXJyb3IoYFBsZWFzZSBjb21wbGV0ZSBib3RoIGRhdGUgYW5kIHRpbWUgZm9yICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IC0gUGxhaW4gQnVua2VyIHN0YXJ0YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICgocGIuZW5kRGF0ZSAmJiAhcGIuZW5kVGltZSkgfHwgKHBiLmVuZFRpbWUgJiYgIXBiLmVuZERhdGUpKSB7XHJcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKGBQbGVhc2UgY29tcGxldGUgYm90aCBkYXRlIGFuZCB0aW1lIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtIFBsYWluIEJ1bmtlciBlbmRgKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHBiLnN0YXJ0RGF0ZSAmJiBwYi5zdGFydFRpbWUgJiYgcGIuZW5kRGF0ZSAmJiBwYi5lbmRUaW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtwYi5zdGFydERhdGV9VCR7cGIuc3RhcnRUaW1lfWApO1xyXG4gICAgICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3BiLmVuZERhdGV9VCR7cGIuZW5kVGltZX1gKTtcclxuICAgICAgICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUgPiBlbmREYXRlVGltZSkge1xyXG4gICAgICAgICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtIFBsYWluIEJ1bmtlcjogRW5kIGRhdGUvdGltZSBjYW5ub3QgYmUgYmVmb3JlIHN0YXJ0IGRhdGUvdGltZWApO1xyXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlTW92ZVRvUGxhaW5CdW5rZXIgPSAoYmF0Y2gpID0+IHtcclxuICBpZiAoYmF0Y2gubW92ZVRvUGxhaW5CdW5rZXIgPT09IGZhbHNlKSB7XHJcbiAgICAvLyBJZiBcIk5vXCIgaXMgc2VsZWN0ZWQsIHZhbGlkYXRlIHRoYXQgcGxhaW4gYnVua2VyIGRhdGEgaXMgY29tcGxldGUgZm9yIEFMTCBtYXRlcmlhbHNcclxuICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YgYmF0Y2gubWF0ZXJpYWxzKSB7XHJcbiAgICAgIGNvbnN0IHBiID0gbWF0ZXJpYWwucGxhaW5CdW5rZXJTdWJzdGFnZTtcclxuICAgICAgXHJcbiAgICAgIC8vIENoZWNrIGlmIHBsYWluIGJ1bmtlciBoYXMgYWxsIHJlcXVpcmVkIGZpZWxkcyAoZXhjZXB0IHJlbWFya3MpXHJcbiAgICAgIGlmICghcGIuc3RhcnREYXRlKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBQbGFpbiBCdW5rZXIgcm93IGlzIHJlcXVpcmVkIHdoZW4gc2VsZWN0aW5nIFwiTm9cImApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXBiLnN0YXJ0VGltZSkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogUGxhaW4gQnVua2VyIHN0YXJ0IHRpbWUgaXMgcmVxdWlyZWQgd2hlbiBzZWxlY3RpbmcgXCJOb1wiYCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghcGIuZW5kRGF0ZSkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogUGxhaW4gQnVua2VyIGVuZCBkYXRlIGlzIHJlcXVpcmVkIHdoZW4gc2VsZWN0aW5nIFwiTm9cImApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXBiLmVuZFRpbWUpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IFBsYWluIEJ1bmtlciBlbmQgdGltZSBpcyByZXF1aXJlZCB3aGVuIHNlbGVjdGluZyBcIk5vXCJgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFZhbGlkYXRlIGRhdGUgcmFuZ2VcclxuICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3BiLnN0YXJ0RGF0ZX1UJHtwYi5zdGFydFRpbWV9YCk7XHJcbiAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7cGIuZW5kRGF0ZX1UJHtwYi5lbmRUaW1lfWApO1xyXG4gICAgICBpZiAoc3RhcnREYXRlVGltZSA+IGVuZERhdGVUaW1lKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBQbGFpbiBCdW5rZXIgZW5kIGRhdGUvdGltZSBjYW5ub3QgYmUgYmVmb3JlIHN0YXJ0IGRhdGUvdGltZWApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2F2ZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghY3VycmVudEJhdGNoIHx8IGlzU2F2aW5nUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ1xcbj09PT09PT09PT0g8J+agCBTQVZFIFNUQVJURUQgPT09PT09PT09PScpO1xyXG4gICAgY29uc29sZS5sb2coYEJhdGNoOiAke2N1cnJlbnRCYXRjaC5iYXRjaE51bWJlcn0gKElEOiAke2N1cnJlbnRCYXRjaC5pZH0pYCk7XHJcbiAgICBjb25zb2xlLmxvZyhgVG90YWwgbWF0ZXJpYWxzOiAke2N1cnJlbnRCYXRjaC5tYXRlcmlhbHMubGVuZ3RofWApO1xyXG5cclxuICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xyXG4gICAgICBsZXQgaGFzQW55RGF0YVRvU2F2ZSA9IGZhbHNlO1xyXG4gICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcclxuICAgICAgbGV0IGZhaWxDb3VudCA9IDA7XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRCYXRjaC5tYXRlcmlhbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IGN1cnJlbnRCYXRjaC5tYXRlcmlhbHNbaV07XHJcbiAgICAgICAgY29uc29sZS5sb2coYFxcbi0tLSDwn5OdIFByb2Nlc3NpbmcgbWF0ZXJpYWwgJHtpKzF9LyR7Y3VycmVudEJhdGNoLm1hdGVyaWFscy5sZW5ndGh9OiAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtLS1gKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayBpZiBtYXRlcmlhbCBoYXMgY29tcGxldGUgZGF0YSAoaW5jbHVkaW5nIHBsYWluIGJ1bmtlciBpZiBpdCdzIHZpc2libGUpXHJcbiAgICAgICAgY29uc3QgaW5jbHVkZVBsYWluQnVua2VyID0gY3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyID09PSBmYWxzZTtcclxuICAgICAgICBpZiAoaGFzQ29tcGxldGVNYXRlcmlhbERhdGEobWF0ZXJpYWwsIGluY2x1ZGVQbGFpbkJ1bmtlcikpIHtcclxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBjb252ZXJ0VG9BcGlQYXlsb2FkKGN1cnJlbnRCYXRjaCwgbWF0ZXJpYWwsIGZhbHNlKTtcclxuICAgICAgICAgIGlmIChwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIGhhc0FueURhdGFUb1NhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TpCBNYWtpbmcgQVBJIGNhbGwgZm9yICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9ICgke21hdGVyaWFsLnR5cGV9KWApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFRvQXBpKHBheWxvYWQsIG1hdGVyaWFsLnR5cGUsIG1hdGVyaWFsLmRpc3BsYXlOYW1lKTtcclxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgLi4ucmVzdWx0LCBtYXRlcmlhbEluZGV4OiBpLCBtYXRlcmlhbFR5cGU6IG1hdGVyaWFsLnR5cGUgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcclxuICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEuZGF0YSAmJiByZXN1bHQuZGF0YS5kYXRhLmlkKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50QmF0Y2gocHJldkJhdGNoID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZE1hdGVyaWFscyA9IFsuLi5wcmV2QmF0Y2gubWF0ZXJpYWxzXTtcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlZE1hdGVyaWFsc1tpXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAuLi51cGRhdGVkTWF0ZXJpYWxzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZElkOiByZXN1bHQuZGF0YS5kYXRhLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0V4aXN0aW5nRGF0YTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnByZXZCYXRjaCxcclxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbHM6IHVwZGF0ZWRNYXRlcmlhbHNcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSBkYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseSFgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBmYWlsQ291bnQrKztcclxuICAgICAgICAgICAgICB0b2FzdC5lcnJvcihgRmFpbGVkIHRvIHNhdmUgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gZGF0YTogJHtyZXN1bHQuZXJyb3J9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYOKPre+4jyAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSBoYXMgaW5jb21wbGV0ZSBkYXRhLCBza2lwcGluZ2ApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1xcbj09PT09PT09PT0g8J+TiiBTQVZFIFNVTU1BUlkgPT09PT09PT09PScpO1xyXG4gICAgICBjb25zb2xlLmxvZyhgVG90YWwgQVBJIGNhbGxzIGF0dGVtcHRlZDogJHtyZXN1bHRzLmxlbmd0aH1gKTtcclxuICAgICAgY29uc29sZS5sb2coYOKchSBTdWNjZXNzZnVsOiAke3N1Y2Nlc3NDb3VudH1gKTtcclxuICAgICAgY29uc29sZS5sb2coYOKdjCBGYWlsZWQ6ICR7ZmFpbENvdW50fWApO1xyXG4gICAgICBjb25zb2xlLmxvZygnPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcbicpO1xyXG5cclxuICAgICAgaWYgKCFoYXNBbnlEYXRhVG9TYXZlKSB7XHJcbiAgICAgICAgdG9hc3QuaW5mbygnTm8gY29tcGxldGUgZGF0YSB0byBzYXZlLiBQbGVhc2UgZmlsbCBpbiBhbGwgcmVxdWlyZWQgZmllbGRzIGZvciBhdCBsZWFzdCBvbmUgbWF0ZXJpYWwuJyk7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IHNhdmVkQmF0Y2hlcy5maW5kSW5kZXgoYiA9PiBiLmlkID09PSBjdXJyZW50QmF0Y2guaWQpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPj0gMCkge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4uc2F2ZWRCYXRjaGVzXTtcclxuICAgICAgICB1cGRhdGVkW2V4aXN0aW5nSW5kZXhdID0geyAuLi5jdXJyZW50QmF0Y2gsIHN0YXR1czogJ2RyYWZ0JyB9O1xyXG4gICAgICAgIHNldFNhdmVkQmF0Y2hlcyh1cGRhdGVkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRTYXZlZEJhdGNoZXMoWy4uLnNhdmVkQmF0Y2hlcywgeyAuLi5jdXJyZW50QmF0Y2gsIHN0YXR1czogJ2RyYWZ0JyB9XSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGFsbFN1Y2Nlc3MgPSByZXN1bHRzLmV2ZXJ5KHIgPT4gci5zdWNjZXNzKTtcclxuICAgICAgaWYgKGFsbFN1Y2Nlc3MpIHtcclxuICAgICAgICB0b2FzdC5zdWNjZXNzKGBBbGwgJHtzdWNjZXNzQ291bnR9IG1hdGVyaWFsIGRhdGEgc2F2ZWQgc3VjY2Vzc2Z1bGx5IWApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvYXN0Lndhcm5pbmcoYCR7c3VjY2Vzc0NvdW50fSBtYXRlcmlhbChzKSBzYXZlZCBzdWNjZXNzZnVsbHksICR7ZmFpbENvdW50fSBmYWlsZWRgKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgdG9hc3QuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGJhdGNoIGRhdGEnKTtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNhdmUgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbmNvbnN0IGhhbmRsZU1vdmVUb1BsYWluQnVua2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gIGlmICghY3VycmVudEJhdGNoIHx8IGlzU2F2aW5nUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICBcclxuICBjb25zdCBoYXNEYXRhID0gY3VycmVudEJhdGNoLm1hdGVyaWFscy5zb21lKG1hdGVyaWFsID0+XHJcbiAgICBtYXRlcmlhbC5zdWJzdGFnZXMuc29tZShoYXNTdWJzdGFnZURhdGEpXHJcbiAgKTtcclxuICBcclxuICBpZiAoIWhhc0RhdGEpIHtcclxuICAgIHRvYXN0LmVycm9yKCdQbGVhc2UgZW50ZXIgYXQgbGVhc3Qgc29tZSBkYXRhIGJlZm9yZSBtb3ZpbmcnKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXRlIGJhc2VkIG9uIGRyb3Bkb3duIHNlbGVjdGlvblxyXG4gIGlmICghdmFsaWRhdGVNb3ZlVG9QbGFpbkJ1bmtlcihjdXJyZW50QmF0Y2gpKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBGaXJzdCBzYXZlIGFsbCBtYXRlcmlhbCBkYXRhXHJcbiAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICBsZXQgaGFzQW55RGF0YVRvU2F2ZSA9IGZhbHNlO1xyXG4gICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XHJcbiAgICBsZXQgZmFpbENvdW50ID0gMDtcclxuICAgIFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG1hdGVyaWFsID0gY3VycmVudEJhdGNoLm1hdGVyaWFsc1tpXTtcclxuICAgICAgY29uc29sZS5sb2coYFxcbi0tLSDwn5OdIFByb2Nlc3NpbmcgbWF0ZXJpYWwgJHtpKzF9LyR7Y3VycmVudEJhdGNoLm1hdGVyaWFscy5sZW5ndGh9OiAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtLS1gKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEluY2x1ZGUgcGxhaW4gYnVua2VyIGluIHZhbGlkYXRpb24gd2hlbiBtb3ZpbmdcclxuICAgICAgY29uc3QgaW5jbHVkZVBsYWluQnVua2VyID0gY3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyID09PSBmYWxzZTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZvciBcIk5vXCIgc2VsZWN0aW9uLCBlbnN1cmUgcGxhaW4gYnVua2VyIGRhdGEgaXMgY29tcGxldGVcclxuICAgICAgaWYgKGN1cnJlbnRCYXRjaC5tb3ZlVG9QbGFpbkJ1bmtlciA9PT0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBwYiA9IG1hdGVyaWFsLnBsYWluQnVua2VyU3Vic3RhZ2U7XHJcbiAgICAgICAgaWYgKCFwYi5zdGFydERhdGUgfHwgIXBiLnN0YXJ0VGltZSB8fCAhcGIuZW5kRGF0ZSB8fCAhcGIuZW5kVGltZSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBQbGVhc2UgY29tcGxldGUgYWxsIGRhdGUvdGltZSBmaWVsZHMgZm9yIFBsYWluIEJ1bmtlcmApO1xyXG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaGFzQ29tcGxldGVNYXRlcmlhbERhdGEobWF0ZXJpYWwsIGluY2x1ZGVQbGFpbkJ1bmtlcikpIHtcclxuICAgICAgICBjb25zdCBwYXlsb2FkID0gY29udmVydFRvQXBpUGF5bG9hZChjdXJyZW50QmF0Y2gsIG1hdGVyaWFsLCB0cnVlKTtcclxuICAgICAgICBpZiAocGF5bG9hZCkge1xyXG4gICAgICAgICAgaGFzQW55RGF0YVRvU2F2ZSA9IHRydWU7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TpCBNYWtpbmcgQVBJIGNhbGwgZm9yICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9ICgke21hdGVyaWFsLnR5cGV9KWApO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kVG9BcGkocGF5bG9hZCwgbWF0ZXJpYWwudHlwZSwgbWF0ZXJpYWwuZGlzcGxheU5hbWUpO1xyXG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHsgLi4ucmVzdWx0LCBtYXRlcmlhbEluZGV4OiBpLCBtYXRlcmlhbFR5cGU6IG1hdGVyaWFsLnR5cGUgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmRhdGEgJiYgcmVzdWx0LmRhdGEuZGF0YS5pZCkge1xyXG4gICAgICAgICAgICAgIHNldEN1cnJlbnRCYXRjaChwcmV2QmF0Y2ggPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZE1hdGVyaWFscyA9IFsuLi5wcmV2QmF0Y2gubWF0ZXJpYWxzXTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWRNYXRlcmlhbHNbaV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgIC4uLnVwZGF0ZWRNYXRlcmlhbHNbaV0sXHJcbiAgICAgICAgICAgICAgICAgIHJlY29yZElkOiByZXN1bHQuZGF0YS5kYXRhLmlkLFxyXG4gICAgICAgICAgICAgICAgICBoYXNFeGlzdGluZ0RhdGE6IHRydWVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAuLi5wcmV2QmF0Y2gsXHJcbiAgICAgICAgICAgICAgICAgIG1hdGVyaWFsczogdXBkYXRlZE1hdGVyaWFsc1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmFpbENvdW50Kys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDij63vuI8gJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gaGFzIGluY29tcGxldGUgZGF0YSwgc2tpcHBpbmdgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghaGFzQW55RGF0YVRvU2F2ZSkge1xyXG4gICAgICB0b2FzdC5pbmZvKCdObyBjb21wbGV0ZSBkYXRhIHRvIHNhdmUuIFBsZWFzZSBmaWxsIGluIGFsbCByZXF1aXJlZCBmaWVsZHMgZm9yIGF0IGxlYXN0IG9uZSBtYXRlcmlhbC4nKTtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIGFueSBtYXRlcmlhbCBzYXZlIGZhaWxlZCwgc3RvcCB0aGUgcHJvY2Vzc1xyXG4gICAgaWYgKGZhaWxDb3VudCA+IDApIHtcclxuICAgICAgdG9hc3QuZXJyb3IoYEZhaWxlZCB0byBzYXZlICR7ZmFpbENvdW50fSBtYXRlcmlhbChzKS4gQ2Fubm90IHByb2NlZWQgdG8gUGxhaW4gQnVua2VyLmApO1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGJhdGNoIHN0YXR1c1xyXG4gICAgY29uc3QgYmF0Y2hVcGRhdGVSZXN1bHQgPSBhd2FpdCB1cGRhdGVCYXRjaFBsYWluQnVua2VyU3RhdHVzKFxyXG4gICAgICBjdXJyZW50QmF0Y2guaWQsIFxyXG4gICAgICBjdXJyZW50QmF0Y2gubW92ZVRvUGxhaW5CdW5rZXJcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGJhdGNoVXBkYXRlUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgdG9hc3Quc3VjY2VzcyhgQmF0Y2ggbW92ZWQgdG8gUGxhaW4gQnVua2VyIHN1Y2Nlc3NmdWxseSB3aXRoIHN0YXR1czogJHtjdXJyZW50QmF0Y2gubW92ZVRvUGxhaW5CdW5rZXIgPyAnWWVzJyA6ICdObyd9YCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDbGVhciB0aGUgY3VycmVudCBiYXRjaCBhbmQgcmVkaXJlY3QgdG8gdW5pZmllZC1wbGF0Zm9ybVxyXG4gICAgICBzZXRDdXJyZW50QmF0Y2gobnVsbCk7XHJcbiAgICAgIHJvdXRlci5wdXNoKCcvdW5pZmllZC1wbGF0Zm9ybScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdG9hc3QuZXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgYmF0Y2ggc3RhdHVzOiAke2JhdGNoVXBkYXRlUmVzdWx0LmVycm9yfWApO1xyXG4gICAgfVxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdG9hc3QuZXJyb3IoJ0ZhaWxlZCB0byBtb3ZlIGJhdGNoIHRvIFBsYWluIEJ1bmtlcicpO1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIE1vdmUgZXJyb3I6JywgZXJyb3IpO1xyXG4gIH0gZmluYWxseSB7XHJcbiAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICB9LCAxMDAwKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVCYWNrVG9TZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgLy8gQ2xlYXIgdGhlIGN1cnJlbnQgYmF0Y2ggdG8gc2hvdyB0aGUgc2VsZWN0aW9uIFVJXHJcbiAgc2V0Q3VycmVudEJhdGNoKG51bGwpO1xyXG4gIC8vIENsZWFyIFVSTCBwYXJhbXMgd2hlbiBnb2luZyBiYWNrXHJcbiAgcm91dGVyLnB1c2goJy9zb2FraW5nJyk7XHJcbiAgLy8gQ2xlYXIgYW55IHNhdmVkIHN0YXRlXHJcbiAgc2V0RXJyb3IobnVsbCk7XHJcbiAgLy8gUmVzZXQgdGhlIGluaXRpYWwgYmF0Y2ggbnVtYmVyIHN0YXRlIGlmIG5lZWRlZFxyXG4gIHNldEluaXRpYWxCYXRjaE51bWJlcihudWxsKTtcclxuICBzZXRJbml0aWFsQmF0Y2hJZChudWxsKTtcclxufTtcclxuXHJcbiAgaWYgKCFjdXJyZW50QmF0Y2gpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxBcHBMYXlvdXQgdGl0bGU9XCJTb2FraW5nIFByb2Nlc3NcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNvYWtpbmctY29udGFpbmVyXCI+XHJcbiAgICAgICAgICA8QmF0Y2hTZWxlY3Rpb24gXHJcbiAgICAgICAgICAgIG9uU2VsZWN0QmF0Y2g9e2hhbmRsZVNlbGVjdEJhdGNofVxyXG4gICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxyXG4gICAgICAgICAgICBlcnJvcj17ZXJyb3J9XHJcbiAgICAgICAgICAgIGluaXRpYWxCYXRjaE51bWJlcj17aW5pdGlhbEJhdGNoTnVtYmVyfVxyXG4gICAgICAgICAgICBpbml0aWFsQmF0Y2hJZD17aW5pdGlhbEJhdGNoSWR9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L0FwcExheW91dD5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPEFwcExheW91dCB0aXRsZT1cIlNvYWtpbmcgUHJvY2Vzc1wiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNvYWtpbmctY29udGFpbmVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbnRyeS1oZWFkZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWxlZnRcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVCYWNrVG9TZWxlY3Rpb259IGNsYXNzTmFtZT1cImJhY2stYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgPEFycm93QmFja0ljb24vPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGgyPntjdXJyZW50QmF0Y2guYmF0Y2hOdW1iZXJ9PC9oMj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtY291bnRcIj5cclxuICAgICAgICAgICAgICAoe2N1cnJlbnRCYXRjaC5tYXRlcmlhbHMubGVuZ3RofSBtYXRlcmlhbCB0YWJsZXtjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30pXHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItYWN0aW9uc1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vdmUtdG8tcGxhaW4tYnVua2VyLWRyb3Bkb3duXCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJwbGFpbkJ1bmtlclNlbGVjdFwiPk1vdmUgdG8gUGxhaW4gQnVua2VyOjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJwbGFpbkJ1bmtlclNlbGVjdFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17Y3VycmVudEJhdGNoLm1vdmVUb1BsYWluQnVua2VyID09PSB0cnVlID8gJ3llcycgOiBjdXJyZW50QmF0Y2gubW92ZVRvUGxhaW5CdW5rZXIgPT09IGZhbHNlID8gJ25vJyA6ICcnfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVNb3ZlVG9QbGFpbkJ1bmtlckNoYW5nZShlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwbGFpbi1idW5rZXItc2VsZWN0XCJcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIiBkaXNhYmxlZD5TZWxlY3Q8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ5ZXNcIj5ZZXM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJub1wiPk5vPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmV9IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1zYXZlXCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz5cclxuICAgICAgICAgICAgICB7bG9hZGluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUnfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVNb3ZlVG9QbGFpbkJ1bmtlcn0gXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLW1vdmVcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nIHx8IGN1cnJlbnRCYXRjaC5tb3ZlVG9QbGFpbkJ1bmtlciA9PT0gdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEFycm93Rm9yd2FyZEljb24gZm9udFNpemU9XCJzbWFsbFwiIC8+XHJcbiAgICAgICAgICAgICAge2xvYWRpbmcgPyAnUHJvY2Vzc2luZy4uLicgOiAnTW92ZSB0byBQbGFpbiBCdW5rZXInfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7Y3VycmVudEJhdGNoLm1hdGVyaWFscy5tYXAoKG1hdGVyaWFsLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgPE1hdGVyaWFsVGFibGUgXHJcbiAgICAgICAgICAgIGtleT17YCR7bWF0ZXJpYWwudHlwZX0tJHtpbmRleH0tJHttYXRlcmlhbC5yZWNvcmRJZCB8fCAnbmV3J31gfVxyXG4gICAgICAgICAgICBtYXRlcmlhbD17bWF0ZXJpYWx9XHJcbiAgICAgICAgICAgIG9uVXBkYXRlPXsodXBkYXRlZCkgPT4gaGFuZGxlVXBkYXRlTWF0ZXJpYWwoaW5kZXgsIHVwZGF0ZWQpfVxyXG4gICAgICAgICAgICBzaG93UGxhaW5CdW5rZXI9e2N1cnJlbnRCYXRjaC5tb3ZlVG9QbGFpbkJ1bmtlciA9PT0gZmFsc2V9XHJcbiAgICAgICAgICAgIHJlYWRPbmx5PXtmYWxzZX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9BcHBMYXlvdXQ+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU29ha2luZygpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPFRvYXN0UHJvdmlkZXI+XHJcbiAgICAgIDxTb2FraW5nQ29udGVudCAvPlxyXG4gICAgPC9Ub2FzdFByb3ZpZGVyPlxyXG4gICk7XHJcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXNlUm91dGVyIiwidXNlU2VhcmNoUGFyYW1zIiwiQXBwTGF5b3V0IiwiVG9hc3RQcm92aWRlciIsInVzZVRvYXN0IiwiU2F2ZUljb24iLCJBcnJvd0ZvcndhcmRJY29uIiwiQXJyb3dCYWNrSWNvbiIsIk1BVEVSSUFMX1RZUEVTIiwiTUFURVJJQUxfRElTUExBWV9OQU1FUyIsIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiQVBJX0VORFBPSU5UIiwiQVBJX0ZFVENIX0VORFBPSU5UIiwiQkFUQ0hfVVBEQVRFX0VORFBPSU5UIiwiU1RBR0VfTkFNRVMiLCJQTEFJTl9CVU5LRVJfU1RBR0UiLCJjcmVhdGVFbXB0eVN1YnN0YWdlIiwibmFtZSIsInN0YXJ0RGF0ZSIsInN0YXJ0VGltZSIsImVuZERhdGUiLCJlbmRUaW1lIiwidG90YWxIb3VycyIsInJlbWFya3MiLCJjcmVhdGVFbXB0eUJhdGNoIiwiYmF0Y2hOdW1iZXIiLCJtYXRlcmlhbHMiLCJiYXRjaElkIiwiYmF0Y2giLCJpZCIsIkRhdGUiLCJub3ciLCJiYXRjaERhdGEiLCJleGlzdGluZ1JlY29yZHMiLCJtb3ZlVG9QbGFpbkJ1bmtlciIsInVuZGVmaW5lZCIsImZvckVhY2giLCJtYXRlcmlhbCIsImFwaVN0cmF3VHlwZSIsInB1c2giLCJ0eXBlIiwiZGlzcGxheU5hbWUiLCJyZWNvcmRJZCIsImhhc0V4aXN0aW5nRGF0YSIsInN1YnN0YWdlcyIsIm1hcCIsInBsYWluQnVua2VyU3Vic3RhZ2UiLCJwYXJzZURhdGVUaW1lIiwiZGF0ZXRpbWUiLCJkYXRlIiwidGltZSIsImlzTmFOIiwiZ2V0VGltZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiU3RyaW5nIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsImRheSIsImdldERhdGUiLCJob3VycyIsImdldEhvdXJzIiwibWludXRlcyIsImdldE1pbnV0ZXMiLCJlcnJvciIsImNvbnNvbGUiLCJjYWxjdWxhdGVIb3VycyIsInN0YXJ0RGF0ZVRpbWUiLCJlbmREYXRlVGltZSIsInN0YXJ0IiwiZW5kIiwiZGlmZkhvdXJzIiwidG9GaXhlZCIsImZldGNoQmF0Y2hEYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwic3RhdHVzIiwic3VjY2VzcyIsImRhdGEiLCJFcnJvciIsInJlc3BvbnNlRGF0YSIsImpzb24iLCJpdGVtcyIsIkFycmF5IiwiaXNBcnJheSIsImJhdGNoX2lkIiwibWVzc2FnZSIsImNvbWJpbmVEYXRlVGltZSIsImRhdGVUaW1lU3RyIiwidG9JU09TdHJpbmciLCJoYXNTdWJzdGFnZURhdGEiLCJzdWJzdGFnZSIsInZhbGlkYXRlU3RhZ2VTZXF1ZW5jaW5nIiwidG9hc3QiLCJpIiwibGVuZ3RoIiwiY3VycmVudFN0YWdlIiwibmV4dFN0YWdlIiwiY3VycmVudEVuZCIsIm5leHRTdGFydCIsImhhc0NvbXBsZXRlTWF0ZXJpYWxEYXRhIiwiaW5jbHVkZVBsYWluQnVua2VyIiwiaGFzTWFpbkRhdGEiLCJzb21lIiwibG9nIiwicGIiLCJoYXNQYkRhdGEiLCJ2YWxpZGF0ZVBsYWluQnVua2VyRGF0YSIsImNvbnZlcnRUb0FwaVBheWxvYWQiLCJpc0NvbXBsZXRlZCIsInNvYWtpbmciLCJzb2FraW5nUmVzdCIsInJlc29ha2luZ09uZSIsInJlc29ha2luZ1Jlc3QiLCJyZXNvYWtpbmdUd28iLCJyZXNvYWtpbmdUd29SZXN0IiwicGxhaW5CdW5rZXIiLCJmb3JtYXREYXRlVGltZSIsInNlY29uZHMiLCJnZXRTZWNvbmRzIiwic29ha2luZ19zdGFydCIsInNvYWtpbmdfZW5kIiwic29ha2luZ19yZXN0X3N0YXJ0Iiwic29ha2luZ19yZXN0X2VuZCIsInJlc29ha2luZ19vbmVfc3RhcnQiLCJyZXNvYWtpbmdfb25lX2VuZCIsInJlc29ha2luZ19yZXN0X3N0YXJ0IiwicmVzb2FraW5nX3Jlc3RfZW5kIiwicmVzb2FraW5nX3R3b19zdGFydCIsInJlc29ha2luZ190d29fZW5kIiwicmVzb2FraW5nX3R3b19yZXN0X3N0YXJ0IiwicmVzb2FraW5nX3R3b19yZXN0X2VuZCIsInBsYWluX2J1bmtlcl9zdGFydCIsInBsYWluX2J1bmtlcl9lbmQiLCJwYXlsb2FkIiwic3RyYXdfdHlwZSIsInN0YXJ0X3RpbWUiLCJlbmRfdGltZSIsImlzY29tcGxldGVkIiwic29ha2luZ19yZXN0IiwicmVzb2FraW5nX29uZSIsInJlc29ha2luZ19yZXN0IiwicmVzb2FraW5nX3R3byIsInJlc29ha2luZ190d29fcmVzdCIsInBsYWluX2J1bmtlciIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJoYXNWYWxpZEZpZWxkIiwic3ViS2V5IiwiY29udmVydEFwaVJlc3BvbnNlVG9VSSIsImFwaURhdGEiLCJtYXRlcmlhbERhdGEiLCJmaW5kIiwiZCIsInN1YnN0YWdlTWFwcGluZyIsIm1hcHBpbmciLCJpbmRleCIsImR1cmF0aW9uX2hvdXJzIiwidG9TdHJpbmciLCJwYkRhdGEiLCJzZW5kVG9BcGkiLCJtYXRlcmlhbFR5cGUiLCJKU09OIiwic3RyaW5naWZ5IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJlcnJvckRhdGEiLCJjYXRjaCIsImRldGFpbCIsImVycm9yTWVzc2FnZSIsImVyciIsIm1zZyIsImpvaW4iLCJyZXN1bHQiLCJ1cGRhdGVCYXRjaFBsYWluQnVua2VyU3RhdHVzIiwidXJsIiwicGxhaW5fYnVua2VyX21peGVkIiwiTWF0ZXJpYWxUYWJsZSIsIm1lbW8iLCJvblVwZGF0ZSIsInNob3dQbGFpbkJ1bmtlciIsInJlYWRPbmx5IiwidmFsaWRhdGVEYXRlUmFuZ2UiLCJmaWVsZCIsIm5ld1ZhbHVlIiwiY3VycmVudFN1YnN0YWdlIiwiaXNQbGFpbkJ1bmtlciIsIm5ld1N0YXJ0RGF0ZVRpbWUiLCJuZXdFbmREYXRlVGltZSIsInZhbGlkYXRlU3RhZ2VTZXF1ZW5jZSIsInZhbHVlIiwidXBkYXRlZE1hdGVyaWFsIiwidGVtcFN1YnN0YWdlIiwic3RhZ2VJbmRleCIsInByZXZTdGFnZSIsInByZXZFbmQiLCJjdXJyZW50U3RhcnQiLCJnZXRNaW5FbmREYXRlIiwiZ2V0TWluRW5kVGltZSIsImhhbmRsZUlucHV0Q2hhbmdlIiwiZ2V0VGFibGVUaXRsZSIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwidGFibGUiLCJ0aGVhZCIsInRyIiwidGgiLCJyb3dTcGFuIiwiY29sU3BhbiIsInRib2R5IiwidGQiLCJpbnB1dCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImRpc2FibGVkIiwibWF4IiwibWluIiwicGxhY2Vob2xkZXIiLCJCYXRjaFNlbGVjdGlvbiIsIm9uU2VsZWN0QmF0Y2giLCJsb2FkaW5nIiwiaW5pdGlhbEJhdGNoTnVtYmVyIiwiaW5pdGlhbEJhdGNoSWQiLCJzZXRCYXRjaE51bWJlciIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsInJvdXRlciIsInNlYXJjaFBhcmFtcyIsImhhc0xvYWRlZFJlZiIsImN1cnJlbnQiLCJoYW5kbGVMb2FkQmF0Y2giLCJnZXRNYXRlcmlhbHNGcm9tQmF0Y2giLCJTZXQiLCJmb3JtdWxhdGlvbl9lbnRyaWVzIiwiZW50cnkiLCJtYXRlcmlhbE5hbWUiLCJ0b1VwcGVyQ2FzZSIsImFkZCIsImZyb20iLCJiYXRjaE51bSIsInRyaW0iLCJzZWxlY3RlZEJhdGNoIiwiYmF0Y2hJZFRvVXNlIiwiYmF0Y2hSZXNwb25zZSIsImJhdGNoUmVzdWx0IiwiYmF0Y2hlcyIsImIiLCJiYXRjaF9udW1iZXIiLCJuZXdCYXRjaCIsInN0cmF3RGF0YVJlc3VsdCIsInBvcHVsYXRlZEJhdGNoIiwid2FybmluZyIsImhhbmRsZUNyZWF0ZU5ldyIsImhhbmRsZUJhY2tDbGljayIsImgyIiwiYnV0dG9uIiwib25DbGljayIsIlNvYWtpbmdDb250ZW50IiwiY3VycmVudEJhdGNoIiwic2V0Q3VycmVudEJhdGNoIiwic2F2ZWRCYXRjaGVzIiwic2V0U2F2ZWRCYXRjaGVzIiwic2V0TG9hZGluZyIsInNldEVycm9yIiwic2V0SW5pdGlhbEJhdGNoTnVtYmVyIiwic2V0SW5pdGlhbEJhdGNoSWQiLCJpc1NhdmluZ1JlZiIsImdldCIsImhhbmRsZVNlbGVjdEJhdGNoIiwiaGFuZGxlVXBkYXRlTWF0ZXJpYWwiLCJwcmV2QmF0Y2giLCJ1cGRhdGVkTWF0ZXJpYWxzIiwiaGFuZGxlTW92ZVRvUGxhaW5CdW5rZXJDaGFuZ2UiLCJ2YWxpZGF0ZUJhdGNoRGF0YSIsInZhbGlkYXRlTW92ZVRvUGxhaW5CdW5rZXIiLCJoYW5kbGVTYXZlIiwicmVzdWx0cyIsImhhc0FueURhdGFUb1NhdmUiLCJzdWNjZXNzQ291bnQiLCJmYWlsQ291bnQiLCJtYXRlcmlhbEluZGV4IiwiaW5mbyIsImV4aXN0aW5nSW5kZXgiLCJmaW5kSW5kZXgiLCJ1cGRhdGVkIiwiYWxsU3VjY2VzcyIsImV2ZXJ5IiwiciIsInNldFRpbWVvdXQiLCJoYW5kbGVNb3ZlVG9QbGFpbkJ1bmtlciIsImhhc0RhdGEiLCJiYXRjaFVwZGF0ZVJlc3VsdCIsImhhbmRsZUJhY2tUb1NlbGVjdGlvbiIsInRpdGxlIiwic3BhbiIsImxhYmVsIiwiaHRtbEZvciIsInNlbGVjdCIsIm9wdGlvbiIsImZvbnRTaXplIiwiU29ha2luZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(pages)/soaking/page.jsx\n"));

/***/ })

});