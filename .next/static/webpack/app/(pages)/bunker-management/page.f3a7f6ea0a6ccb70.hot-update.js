"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(pages)/bunker-management/page",{

/***/ "(app-pages-browser)/./app/(pages)/bunker-management/page.jsx":
/*!************************************************!*\
  !*** ./app/(pages)/bunker-management/page.jsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BunkerManagement)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/AppLayout */ \"(app-pages-browser)/./app/components/AppLayout.jsx\");\n/* harmony import */ var _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/common/Toaster */ \"(app-pages-browser)/./app/components/common/Toaster.jsx\");\n/* harmony import */ var _styles_pages_unified_platform_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../styles/pages/unified-platform.css */ \"(app-pages-browser)/./app/styles/pages/unified-platform.css\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/Save */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/ArrowBack */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowBack.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst MATERIAL_TYPES = {\n    'BAGASSE': 'BAGASSE',\n    'WHEAT STRAW': 'WHEAT',\n    'PADDY STRAW': 'PADDY'\n};\nconst MATERIAL_DISPLAY_NAMES = {\n    'BAGASSE': 'Bagasse',\n    'WHEAT': 'Wheat Straw',\n    'PADDY': 'Paddy Straw'\n};\nconst API_BASE_URL = \"http://192.168.1.148:8000\";\nconst API_ENDPOINT = \"\".concat(API_BASE_URL, \"/bunker-management\");\nconst API_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/bunker-management\");\nconst BATCH_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/batches\");\nconst STAGE_NAMES = [\n    \"Bunker Process 1\",\n    \"Bunker Process 1 Rest\",\n    \"Bunker Process 2\",\n    \"Bunker Process 2 Rest\",\n    \"Bunker Process 3\",\n    \"Bunker Process 3 Rest\"\n];\nconst createEmptySubstage = function(name) {\n    let includeMoisture = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n    return {\n        name: name,\n        startDate: '',\n        startTime: '',\n        endDate: '',\n        endTime: '',\n        totalHours: '',\n        moisture: '',\n        temperature: '',\n        remarks: ''\n    };\n};\nconst createEmptyBatch = function(batchNumber) {\n    let materials = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], batchId = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n    const batch = {\n        id: batchId || Date.now(),\n        batchNumber: batchNumber,\n        materials: [],\n        batchData: null,\n        existingRecords: {}\n    };\n    materials.forEach((material)=>{\n        const apiStrawType = MATERIAL_TYPES[material];\n        if (apiStrawType !== undefined) {\n            batch.materials.push({\n                type: apiStrawType,\n                name: material,\n                displayName: MATERIAL_DISPLAY_NAMES[apiStrawType] || material,\n                recordId: null,\n                hasExistingData: false,\n                substages: STAGE_NAMES.map((name)=>createEmptySubstage(name, true))\n            });\n        }\n    });\n    return batch;\n};\nconst parseDateTime = (datetime)=>{\n    if (!datetime) return {\n        date: '',\n        time: ''\n    };\n    try {\n        const date = new Date(datetime);\n        if (isNaN(date.getTime())) return {\n            date: '',\n            time: ''\n        };\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        const hours = String(date.getHours()).padStart(2, '0');\n        const minutes = String(date.getMinutes()).padStart(2, '0');\n        return {\n            date: \"\".concat(year, \"-\").concat(month, \"-\").concat(day),\n            time: \"\".concat(hours, \":\").concat(minutes)\n        };\n    } catch (error) {\n        console.error('Error parsing datetime:', error);\n        return {\n            date: '',\n            time: ''\n        };\n    }\n};\nconst calculateHours = (startDateTime, endDateTime)=>{\n    if (!startDateTime || !endDateTime) return '';\n    try {\n        const start = new Date(startDateTime);\n        const end = new Date(endDateTime);\n        if (isNaN(start.getTime()) || isNaN(end.getTime())) return '';\n        const diffHours = (end - start) / (1000 * 60 * 60);\n        return diffHours.toFixed(1);\n    } catch (error) {\n        return '';\n    }\n};\nconst fetchBatchData = async (batchId)=>{\n    try {\n        console.log(\"\\uD83D\\uDCCA Fetching bunker data for batch ID: \".concat(batchId));\n        const response = await fetch(\"\".concat(API_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            if (response.status === 404) {\n                console.log('ðŸ“­ No existing bunker data found for batch');\n                return {\n                    success: true,\n                    data: null\n                };\n            }\n            throw new Error(\"Failed to fetch bunker data: \".concat(response.status));\n        }\n        const responseData = await response.json();\n        console.log('ðŸ“¦ Fetched bunker data:', responseData);\n        if (responseData.success && responseData.data && responseData.data.items) {\n            return {\n                success: true,\n                data: responseData.data.items\n            };\n        }\n        if (responseData.data && Array.isArray(responseData.data)) {\n            return {\n                success: true,\n                data: responseData.data\n            };\n        }\n        if (Array.isArray(responseData)) {\n            return {\n                success: true,\n                data: responseData\n            };\n        }\n        if (responseData.id || responseData.batch_id) {\n            return {\n                success: true,\n                data: [\n                    responseData\n                ]\n            };\n        }\n        return {\n            success: true,\n            data: null\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching bunker data:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst fetchBatchDetails = async (batchId)=>{\n    try {\n        const response = await fetch(\"\".concat(BATCH_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch batch details: \".concat(response.status));\n        }\n        const data = await response.json();\n        return {\n            success: true,\n            data\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching batch details:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst combineDateTime = (date, time)=>{\n    if (!date || !time) return null;\n    try {\n        const dateTimeStr = \"\".concat(date, \"T\").concat(time, \":00\");\n        const datetime = new Date(dateTimeStr);\n        if (isNaN(datetime.getTime())) return null;\n        return datetime.toISOString();\n    } catch (error) {\n        console.error('Error combining datetime:', error);\n        return null;\n    }\n};\nconst hasSubstageData = (substage)=>{\n    return substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.moisture || substage.temperature || substage.remarks;\n};\nconst validateStageSequencing = (material, toast)=>{\n    for(let i = 0; i < material.substages.length - 1; i++){\n        const currentStage = material.substages[i];\n        const nextStage = material.substages[i + 1];\n        if (!currentStage.endDate || !currentStage.endTime || !nextStage.startDate || !nextStage.startTime) {\n            continue;\n        }\n        const currentEnd = combineDateTime(currentStage.endDate, currentStage.endTime);\n        const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n        if (currentEnd && nextStart) {\n            if (new Date(currentEnd) > new Date(nextStart)) {\n                toast.error(\"\".concat(material.displayName, \": \").concat(nextStage.name, \" must start after \").concat(currentStage.name, \" ends\"));\n                return false;\n            }\n        }\n    }\n    return true;\n};\nconst hasCompleteMaterialData = (material)=>{\n    // Check main substages\n    const hasMainData = material.substages.some((substage)=>substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.moisture || substage.temperature || substage.remarks);\n    // If no data at all in main stages, return false (nothing to save)\n    if (!hasMainData) {\n        console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": No data entered in main stages\"));\n        return false;\n    }\n    // Check main substages for completeness\n    for (const substage of material.substages){\n        if (substage.startDate && !substage.startTime) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete start data in \").concat(substage.name, \" (date without time)\"));\n            return false;\n        }\n        if (substage.startTime && !substage.startDate) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete start data in \").concat(substage.name, \" (time without date)\"));\n            return false;\n        }\n        if (substage.endDate && !substage.endTime) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete end data in \").concat(substage.name, \" (date without time)\"));\n            return false;\n        }\n        if (substage.endTime && !substage.endDate) {\n            console.log(\"\\uD83D\\uDCDD \".concat(material.displayName, \": Incomplete end data in \").concat(substage.name, \" (time without date)\"));\n            return false;\n        }\n    }\n    console.log(\"âœ… \".concat(material.displayName, \": Has valid data to save\"));\n    return true;\n};\nconst convertToApiPayload = (batch, material, isCompleted)=>{\n    if (!material) return null;\n    const bunker1 = material.substages[0] || createEmptySubstage(\"Bunker Process 1\", true);\n    const bunker1Rest = material.substages[1] || createEmptySubstage(\"Bunker Process 1 Rest\", true);\n    const bunker2 = material.substages[2] || createEmptySubstage(\"Bunker Process 2\", true);\n    const bunker2Rest = material.substages[3] || createEmptySubstage(\"Bunker Process 2 Rest\", true);\n    const bunker3 = material.substages[4] || createEmptySubstage(\"Bunker Process 3\", true);\n    const bunker3Rest = material.substages[5] || createEmptySubstage(\"Bunker Process 3 Rest\", true);\n    // Helper function to format datetime without milliseconds and timezone\n    const formatDateTime = (dateTimeStr)=>{\n        if (!dateTimeStr) return null;\n        try {\n            const date = new Date(dateTimeStr);\n            if (isNaN(date.getTime())) return null;\n            const year = date.getFullYear();\n            const month = String(date.getMonth() + 1).padStart(2, '0');\n            const day = String(date.getDate()).padStart(2, '0');\n            const hours = String(date.getHours()).padStart(2, '0');\n            const minutes = String(date.getMinutes()).padStart(2, '0');\n            const seconds = String(date.getSeconds()).padStart(2, '0');\n            return \"\".concat(year, \"-\").concat(month, \"-\").concat(day, \"T\").concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n        } catch (error) {\n            console.error('Error formatting datetime:', error);\n            return null;\n        }\n    };\n    // Only combine dates if both date and time exist\n    const bunker1_start = bunker1.startDate && bunker1.startTime ? combineDateTime(bunker1.startDate, bunker1.startTime) : null;\n    const bunker1_end = bunker1.endDate && bunker1.endTime ? combineDateTime(bunker1.endDate, bunker1.endTime) : null;\n    const bunker1_rest_start = bunker1Rest.startDate && bunker1Rest.startTime ? combineDateTime(bunker1Rest.startDate, bunker1Rest.startTime) : null;\n    const bunker1_rest_end = bunker1Rest.endDate && bunker1Rest.endTime ? combineDateTime(bunker1Rest.endDate, bunker1Rest.endTime) : null;\n    const bunker2_start = bunker2.startDate && bunker2.startTime ? combineDateTime(bunker2.startDate, bunker2.startTime) : null;\n    const bunker2_end = bunker2.endDate && bunker2.endTime ? combineDateTime(bunker2.endDate, bunker2.endTime) : null;\n    const bunker2_rest_start = bunker2Rest.startDate && bunker2Rest.startTime ? combineDateTime(bunker2Rest.startDate, bunker2Rest.startTime) : null;\n    const bunker2_rest_end = bunker2Rest.endDate && bunker2Rest.endTime ? combineDateTime(bunker2Rest.endDate, bunker2Rest.endTime) : null;\n    const bunker3_start = bunker3.startDate && bunker3.startTime ? combineDateTime(bunker3.startDate, bunker3.startTime) : null;\n    const bunker3_end = bunker3.endDate && bunker3.endTime ? combineDateTime(bunker3.endDate, bunker3.endTime) : null;\n    const bunker3_rest_start = bunker3Rest.startDate && bunker3Rest.startTime ? combineDateTime(bunker3Rest.startDate, bunker3Rest.startTime) : null;\n    const bunker3_rest_end = bunker3Rest.endDate && bunker3Rest.endTime ? combineDateTime(bunker3Rest.endDate, bunker3Rest.endTime) : null;\n    const apiStrawType = material.type;\n    // Determine overall start_time (earliest start across all stages)\n    const allStarts = [\n        bunker1_start,\n        bunker1_rest_start,\n        bunker2_start,\n        bunker2_rest_start,\n        bunker3_start,\n        bunker3_rest_start\n    ].filter((start)=>start !== null);\n    const overall_start_time = allStarts.length > 0 ? formatDateTime(new Date(Math.min(...allStarts.map((d)=>new Date(d).getTime())))) : null;\n    // Format all datetime fields to match the expected format\n    const payload = {\n        batch_id: batch.id,\n        straw_type: apiStrawType,\n        start_time: overall_start_time,\n        iscompleted: isCompleted,\n        bunker_process1: {\n            start_time: formatDateTime(bunker1_start),\n            end_time: formatDateTime(bunker1_end),\n            moisture: bunker1.moisture ? parseInt(bunker1.moisture) : null,\n            temperature: bunker1.temperature ? parseInt(bunker1.temperature) : null\n        },\n        bunker_process1_rest: {\n            start_time: formatDateTime(bunker1_rest_start),\n            end_time: formatDateTime(bunker1_rest_end),\n            moisture: bunker1Rest.moisture ? parseInt(bunker1Rest.moisture) : null,\n            temperature: bunker1Rest.temperature ? parseInt(bunker1Rest.temperature) : null\n        },\n        bunker_process2: {\n            start_time: formatDateTime(bunker2_start),\n            end_time: formatDateTime(bunker2_end),\n            moisture: bunker2.moisture ? parseInt(bunker2.moisture) : null,\n            temperature: bunker2.temperature ? parseInt(bunker2.temperature) : null\n        },\n        bunker_process2_rest: {\n            start_time: formatDateTime(bunker2_rest_start),\n            end_time: formatDateTime(bunker2_rest_end),\n            moisture: bunker2Rest.moisture ? parseInt(bunker2Rest.moisture) : null,\n            temperature: bunker2Rest.temperature ? parseInt(bunker2Rest.temperature) : null\n        },\n        bunker_process3: {\n            start_time: formatDateTime(bunker3_start),\n            end_time: formatDateTime(bunker3_end),\n            moisture: bunker3.moisture ? parseInt(bunker3.moisture) : null,\n            temperature: bunker3.temperature ? parseInt(bunker3.temperature) : null\n        },\n        bunker_process3_rest: {\n            start_time: formatDateTime(bunker3_rest_start),\n            end_time: formatDateTime(bunker3_rest_end),\n            moisture: bunker3Rest.moisture ? parseInt(bunker3Rest.moisture) : null,\n            temperature: bunker3Rest.temperature ? parseInt(bunker3Rest.temperature) : null\n        }\n    };\n    // Remove null values but keep the structure\n    Object.keys(payload).forEach((key)=>{\n        if (payload[key] === null) {\n            delete payload[key];\n        } else if (typeof payload[key] === 'object' && payload[key] !== null && key !== 'batch_id' && key !== 'straw_type' && key !== 'iscompleted') {\n            // Remove null fields from nested objects\n            Object.keys(payload[key]).forEach((subKey)=>{\n                if (payload[key][subKey] === null || payload[key][subKey] === undefined) {\n                    delete payload[key][subKey];\n                }\n            });\n            // If nested object has no properties left, remove it\n            if (Object.keys(payload[key]).length === 0) {\n                delete payload[key];\n            }\n        }\n    });\n    console.log(\"\\uD83D\\uDCE6 Generated payload for \".concat(material.displayName, \":\"), payload);\n    return payload;\n};\nconst convertApiResponseToUI = (apiData, batch)=>{\n    if (!apiData || !Array.isArray(apiData)) {\n        console.log('âŒ No valid API data array to convert:', apiData);\n        return batch;\n    }\n    console.log('ðŸ”„ Converting API data to UI. Found items:', apiData.length);\n    batch.materials.forEach((material)=>{\n        const materialData = apiData.find((d)=>d.straw_type && d.straw_type === material.type);\n        if (!materialData) {\n            console.log(\"â„¹ï¸ No data found for material: \".concat(material.displayName, \" (type: \").concat(material.type, \")\"));\n            return;\n        }\n        console.log(\"âœ… Found data for \".concat(material.displayName, \":\"), materialData);\n        if (materialData.id) {\n            material.recordId = materialData.id;\n            material.hasExistingData = true;\n            console.log(\"\\uD83D\\uDCDD Setting recordId for \".concat(material.displayName, \": \").concat(materialData.id));\n        }\n        const substageMapping = [\n            {\n                name: \"Bunker Process 1\",\n                data: materialData.bunker_process1\n            },\n            {\n                name: \"Bunker Process 1 Rest\",\n                data: materialData.bunker_process1_rest\n            },\n            {\n                name: \"Bunker Process 2\",\n                data: materialData.bunker_process2\n            },\n            {\n                name: \"Bunker Process 2 Rest\",\n                data: materialData.bunker_process2_rest\n            },\n            {\n                name: \"Bunker Process 3\",\n                data: materialData.bunker_process3\n            },\n            {\n                name: \"Bunker Process 3 Rest\",\n                data: materialData.bunker_process3_rest\n            }\n        ];\n        substageMapping.forEach((mapping, index)=>{\n            if (mapping.data) {\n                console.log(\"\\uD83D\\uDCCA Processing \".concat(mapping.name, \" for \").concat(material.displayName, \":\"), mapping.data);\n                if (mapping.data.start_time) {\n                    const { date: startDate, time: startTime } = parseDateTime(mapping.data.start_time);\n                    material.substages[index].startDate = startDate;\n                    material.substages[index].startTime = startTime;\n                    console.log(\"  Start: \".concat(startDate, \" \").concat(startTime));\n                }\n                if (mapping.data.end_time) {\n                    const { date: endDate, time: endTime } = parseDateTime(mapping.data.end_time);\n                    material.substages[index].endDate = endDate;\n                    material.substages[index].endTime = endTime;\n                    console.log(\"  End: \".concat(endDate, \" \").concat(endTime));\n                }\n                if (mapping.data.duration_hours !== undefined && mapping.data.duration_hours !== null) {\n                    material.substages[index].totalHours = mapping.data.duration_hours.toString();\n                    console.log(\"  Duration: \".concat(mapping.data.duration_hours, \" hours\"));\n                }\n                if (mapping.data.moisture !== undefined && mapping.data.moisture !== null) {\n                    material.substages[index].moisture = mapping.data.moisture.toString();\n                    console.log(\"  Moisture: \".concat(mapping.data.moisture, \"%\"));\n                }\n                if (mapping.data.temperature !== undefined && mapping.data.temperature !== null) {\n                    material.substages[index].temperature = mapping.data.temperature.toString();\n                    console.log(\"  Temperature: \".concat(mapping.data.temperature, \"\\xb0C\"));\n                }\n                if (mapping.data.remarks) {\n                    material.substages[index].remarks = mapping.data.remarks;\n                }\n            } else {\n                console.log(\"âš ï¸ No data for \".concat(mapping.name, \" in \").concat(material.displayName));\n            }\n        });\n    });\n    console.log('âœ… Finished converting API data to UI');\n    return batch;\n};\nconst sendToApi = async (payload, materialType, displayName)=>{\n    try {\n        const response = await fetch(API_ENDPOINT, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE for \".concat(displayName, \": Status \").concat(response.status));\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error('âŒ API Error Response:', errorData);\n            let errorMessage = \"API error: \".concat(response.status);\n            if (errorData.detail) {\n                if (typeof errorData.detail === 'string') {\n                    errorMessage = errorData.detail;\n                } else if (Array.isArray(errorData.detail)) {\n                    errorMessage = errorData.detail.map((err)=>err.msg).join(', ');\n                } else if (typeof errorData.detail === 'object') {\n                    errorMessage = JSON.stringify(errorData.detail);\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        console.log(\"âœ… SUCCESS for \".concat(displayName, \":\"), result);\n        return {\n            success: true,\n            data: result,\n            materialType,\n            displayName\n        };\n    } catch (error) {\n        console.error(\"âŒ ERROR sending \".concat(displayName, \" data:\"), error);\n        return {\n            success: false,\n            error: error.message,\n            materialType,\n            displayName\n        };\n    }\n};\nconst MaterialTable = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(_s((param)=>{\n    let { material, onUpdate, readOnly = false } = param;\n    _s();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const validateDateRange = (substage, field, newValue, currentSubstage)=>{\n        if (field === 'startDate' || field === 'startTime') {\n            if (substage.endDate && substage.endTime) {\n                const newStartDateTime = field === 'startDate' ? combineDateTime(newValue, substage.startTime) : combineDateTime(substage.startDate, newValue);\n                const endDateTime = combineDateTime(substage.endDate, substage.endTime);\n                if (newStartDateTime && endDateTime && new Date(newStartDateTime) > new Date(endDateTime)) {\n                    toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": Start date/time cannot be after end date/time\"));\n                    return false;\n                }\n            }\n        } else if (field === 'endDate' || field === 'endTime') {\n            if (substage.startDate && substage.startTime) {\n                const startDateTime = combineDateTime(substage.startDate, substage.startTime);\n                const newEndDateTime = field === 'endDate' ? combineDateTime(newValue, substage.endTime) : combineDateTime(substage.endDate, newValue);\n                if (startDateTime && newEndDateTime && new Date(startDateTime) > new Date(newEndDateTime)) {\n                    toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": End date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const validateStageSequence = (index, field, value, updatedMaterial)=>{\n        const substage = updatedMaterial.substages[index];\n        const tempSubstage = {\n            ...substage,\n            [field]: value\n        };\n        const stageIndex = index;\n        if (stageIndex > 0) {\n            const prevStage = updatedMaterial.substages[stageIndex - 1];\n            if (prevStage.endDate && prevStage.endTime && tempSubstage.startDate && tempSubstage.startTime) {\n                const prevEnd = combineDateTime(prevStage.endDate, prevStage.endTime);\n                const currentStart = combineDateTime(tempSubstage.startDate, tempSubstage.startTime);\n                if (prevEnd && currentStart && new Date(prevEnd) > new Date(currentStart)) {\n                    toast.error(\"\".concat(material.displayName, \": \").concat(tempSubstage.name, \" must start after \").concat(prevStage.name, \" ends\"));\n                    return false;\n                }\n            }\n        }\n        if (stageIndex < updatedMaterial.substages.length - 1) {\n            const nextStage = updatedMaterial.substages[stageIndex + 1];\n            if (tempSubstage.endDate && tempSubstage.endTime && nextStage.startDate && nextStage.startTime) {\n                const currentEnd = combineDateTime(tempSubstage.endDate, tempSubstage.endTime);\n                const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n                if (currentEnd && nextStart && new Date(currentEnd) > new Date(nextStart)) {\n                    toast.error(\"\".concat(material.displayName, \": \").concat(nextStage.name, \" must start after \").concat(tempSubstage.name, \" ends\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const getMinEndDate = (substage)=>{\n        if (substage.startDate) {\n            return substage.startDate;\n        }\n        return undefined;\n    };\n    const getMinEndTime = (substage)=>{\n        if (substage.startDate === substage.endDate && substage.startTime) {\n            return substage.startTime;\n        }\n        return undefined;\n    };\n    const handleInputChange = (index, field, value)=>{\n        if (readOnly) return;\n        const updatedMaterial = {\n            ...material\n        };\n        const substage = updatedMaterial.substages[index];\n        if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n            if (!validateDateRange(substage, field, value, substage)) {\n                return;\n            }\n        }\n        substage[field] = value;\n        if (!validateStageSequence(index, field, value, updatedMaterial)) {\n            return;\n        }\n        if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n            const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n            const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n            const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n            substage.totalHours = diffHours.toFixed(1);\n        }\n        onUpdate(updatedMaterial);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"table-section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"table-title\",\n                children: [\n                    material.displayName,\n                    \" Bunker Process\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 637,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"entry-table-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                    className: \"entry-table unified-platform-table\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Substage\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 642,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"Start\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 643,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"End\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 644,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Total Hours\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 645,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Moisture (%)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 646,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Temperature (\\xb0C)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 647,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Remarks\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 648,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 641,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 651,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 652,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 653,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 654,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 650,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 640,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                            children: material.substages.map((substage, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"substage-name\",\n                                            children: substage.name\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 660,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: substage.startDate || '',\n                                                onChange: (e)=>handleInputChange(index, 'startDate', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: substage.endDate || undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 662,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 661,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: substage.startTime || '',\n                                                onChange: (e)=>handleInputChange(index, 'startTime', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: substage.startDate === substage.endDate ? substage.endTime : undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 672,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 671,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: substage.endDate || '',\n                                                onChange: (e)=>handleInputChange(index, 'endDate', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndDate(substage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 682,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 681,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: substage.endTime || '',\n                                                onChange: (e)=>handleInputChange(index, 'endTime', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndTime(substage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 692,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 691,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: substage.totalHours || '',\n                                                readOnly: true,\n                                                className: \"table-input hours-input\",\n                                                placeholder: \"Auto\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 702,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 701,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                value: substage.moisture || '',\n                                                onChange: (e)=>handleInputChange(index, 'moisture', e.target.value),\n                                                className: \"table-input moisture-input\",\n                                                placeholder: \"%\",\n                                                min: \"0\",\n                                                max: \"100\",\n                                                step: \"0.1\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 711,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 710,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                value: substage.temperature || '',\n                                                onChange: (e)=>handleInputChange(index, 'temperature', e.target.value),\n                                                className: \"table-input temperature-input\",\n                                                placeholder: \"\\xb0C\",\n                                                min: \"0\",\n                                                max: \"100\",\n                                                step: \"0.1\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 724,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 723,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: substage.remarks || '',\n                                                onChange: (e)=>handleInputChange(index, 'remarks', e.target.value),\n                                                className: \"table-input remarks-input\",\n                                                placeholder: \"Add remarks...\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 737,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 736,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 659,\n                                    columnNumber: 15\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 657,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 639,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 638,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 636,\n        columnNumber: 5\n    }, undefined);\n}, \"WUU7e0p6AiTpvVrXhi50JBdcu+0=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast\n    ];\n}));\n_c = MaterialTable;\nMaterialTable.displayName = 'MaterialTable';\nfunction BatchSelection(param) {\n    let { onSelectBatch, loading, error, initialBatchNumber, initialBatchId } = param;\n    _s1();\n    const [batchNumber, setBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBatchNumber || '');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const hasLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Auto-load batch if initialBatchNumber is provided\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BatchSelection.useEffect\": ()=>{\n            if (initialBatchNumber && !hasLoadedRef.current && !loading) {\n                setBatchNumber(initialBatchNumber);\n                handleLoadBatch(initialBatchNumber, initialBatchId);\n                hasLoadedRef.current = true;\n            }\n        }\n    }[\"BatchSelection.useEffect\"], [\n        initialBatchNumber,\n        initialBatchId,\n        loading\n    ]);\n    const getMaterialsFromBatch = (batchData)=>{\n        const materials = new Set();\n        if (batchData && batchData.formulation_entries) {\n            batchData.formulation_entries.forEach((entry)=>{\n                const materialName = entry.name.toUpperCase();\n                if (MATERIAL_TYPES[materialName] !== undefined) {\n                    materials.add(materialName);\n                    console.log(\"\\uD83D\\uDCCC Found material: \".concat(materialName, \" -> \").concat(MATERIAL_TYPES[materialName]));\n                }\n            });\n        }\n        return Array.from(materials);\n    };\n    const handleLoadBatch = async (batchNum, batchId)=>{\n        if (!batchNum.trim()) {\n            toast.error('Please enter a batch number');\n            return;\n        }\n        setIsLoading(true);\n        try {\n            console.log(\"\\uD83D\\uDD0D Fetching batch details for: \".concat(batchNum, \" with ID: \").concat(batchId || 'unknown'));\n            let selectedBatch = null;\n            let batchIdToUse = batchId;\n            // If batchId is provided, we can use it directly\n            if (batchIdToUse) {\n                // Try to fetch batch details using ID\n                const batchResponse = await fetch(\"\".concat(BATCH_FETCH_ENDPOINT, \"/\").concat(batchIdToUse));\n                if (batchResponse.ok) {\n                    const batchResult = await batchResponse.json();\n                    selectedBatch = batchResult.data || batchResult;\n                } else {\n                    // Fallback to fetching all batches\n                    const allBatchesResponse = await fetch(BATCH_FETCH_ENDPOINT);\n                    if (allBatchesResponse.ok) {\n                        const allBatchesResult = await allBatchesResponse.json();\n                        let batches = [];\n                        if (Array.isArray(allBatchesResult)) {\n                            batches = allBatchesResult;\n                        } else if (allBatchesResult.success) {\n                            batches = allBatchesResult.data;\n                        }\n                        selectedBatch = batches.find((b)=>b.id === batchIdToUse);\n                    }\n                }\n            } else {\n                // No batchId provided, fetch by batch number\n                const batchResponse = await fetch(BATCH_FETCH_ENDPOINT);\n                if (!batchResponse.ok) {\n                    throw new Error('Failed to fetch batches');\n                }\n                const batchResult = await batchResponse.json();\n                let batches = [];\n                if (Array.isArray(batchResult)) {\n                    batches = batchResult;\n                } else if (batchResult.success) {\n                    batches = batchResult.data;\n                }\n                selectedBatch = batches.find((b)=>b.batch_number === batchNum.trim());\n            }\n            if (!selectedBatch) {\n                toast.error('Batch number not found');\n                setIsLoading(false);\n                return;\n            }\n            console.log('âœ… Found batch:', selectedBatch);\n            const materials = getMaterialsFromBatch(selectedBatch);\n            if (materials.length === 0) {\n                toast.error('No suitable materials (Bagasse, Wheat Straw, or Paddy Straw) found in this batch');\n                setIsLoading(false);\n                return;\n            }\n            console.log(\"\\uD83D\\uDCCB Materials to process:\", materials);\n            console.log(\"\\uD83D\\uDCCB Number of material tables: \".concat(materials.length));\n            const newBatch = createEmptyBatch(batchNum, materials, selectedBatch.id);\n            newBatch.batchData = selectedBatch;\n            console.log('ðŸ“Š Fetching bunker data for batch ID:', selectedBatch.id);\n            const strawDataResult = await fetchBatchData(selectedBatch.id);\n            if (strawDataResult.success && strawDataResult.data) {\n                console.log('ðŸ“¦ Raw API data:', strawDataResult.data);\n                const populatedBatch = convertApiResponseToUI(strawDataResult.data, newBatch);\n                console.log('âœ… Populated batch:', populatedBatch);\n                onSelectBatch(populatedBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" with existing data (\").concat(materials.length, \" material table\").concat(materials.length > 1 ? 's' : '', \")\"));\n            } else if (strawDataResult.success && !strawDataResult.data) {\n                onSelectBatch(newBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" (\").concat(materials.length, \" material table\").concat(materials.length > 1 ? 's' : '', \" - no existing data)\"));\n            } else {\n                toast.warning(\"Loaded batch \".concat(batchNum, \" but failed to fetch existing data\"));\n                onSelectBatch(newBatch);\n            }\n        } catch (err) {\n            console.error('âŒ Error loading batch:', err);\n            toast.error('Error loading batch details. Please try again.');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleCreateNew = ()=>{\n        if (isLoading || loading) return;\n        handleLoadBatch(batchNumber);\n    };\n    const handleBackClick = ()=>{\n        // Clear the URL params when going back\n        router.push('/bunker-management');\n        // Clear the batch number and allow new input\n        setBatchNumber('');\n        hasLoadedRef.current = false;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"batch-selection\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Bunker Management Process Entry\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 908,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 911,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"selection-panel\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"new-batch-section\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Enter Batch Number\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 918,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"batch-input-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    placeholder: \"Enter Batch Number (e.g., BATCH-001)\",\n                                    value: batchNumber,\n                                    onChange: (e)=>setBatchNumber(e.target.value),\n                                    className: \"batch-input\",\n                                    disabled: isLoading || loading\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 920,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCreateNew,\n                                    className: \"btn-primary\",\n                                    disabled: isLoading || loading,\n                                    children: isLoading || loading ? 'Loading...' : 'Load Batch'\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 928,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 919,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 917,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 916,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 907,\n        columnNumber: 5\n    }, this);\n}\n_s1(BatchSelection, \"bSsv6SxcH5WNCl5iqtC1T5kE3FA=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c1 = BatchSelection;\nfunction BunkerManagementContent() {\n    _s2();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [currentBatch, setCurrentBatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [savedBatches, setSavedBatches] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchNumber, setInitialBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchId, setInitialBatchId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isSavingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Get batch number and ID from URL params\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BunkerManagementContent.useEffect\": ()=>{\n            const batchNum = searchParams.get('batch');\n            const batchId = searchParams.get('batchId');\n            if (batchNum) {\n                setInitialBatchNumber(batchNum);\n                setInitialBatchId(batchId);\n            }\n        }\n    }[\"BunkerManagementContent.useEffect\"], [\n        searchParams\n    ]);\n    const handleSelectBatch = (batch)=>{\n        console.log('âœ… Setting current batch:', batch);\n        setCurrentBatch(batch);\n    };\n    const handleUpdateMaterial = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"BunkerManagementContent.useCallback[handleUpdateMaterial]\": (index, updatedMaterial)=>{\n            setCurrentBatch({\n                \"BunkerManagementContent.useCallback[handleUpdateMaterial]\": (prevBatch)=>{\n                    if (!prevBatch) return prevBatch;\n                    const updatedMaterials = [\n                        ...prevBatch.materials\n                    ];\n                    updatedMaterials[index] = updatedMaterial;\n                    return {\n                        ...prevBatch,\n                        materials: updatedMaterials\n                    };\n                }\n            }[\"BunkerManagementContent.useCallback[handleUpdateMaterial]\"]);\n        }\n    }[\"BunkerManagementContent.useCallback[handleUpdateMaterial]\"], []);\n    const validateBatchData = (batch)=>{\n        for (const material of batch.materials){\n            // Validate main substages\n            for (const substage of material.substages){\n                if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                    const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                    const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                    if (startDateTime > endDateTime) {\n                        toast.error(\"\".concat(material.displayName, \" - \").concat(substage.name, \": End date/time cannot be before start date/time\"));\n                        return false;\n                    }\n                }\n                if ((substage.startDate || substage.startTime) && (!substage.startDate || !substage.startTime)) {\n                    toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - \").concat(substage.name, \" start\"));\n                    return false;\n                }\n                if ((substage.endDate || substage.endTime) && (!substage.endDate || !substage.endTime)) {\n                    toast.error(\"Please complete both date and time for \".concat(material.displayName, \" - \").concat(substage.name, \" end\"));\n                    return false;\n                }\n            }\n            if (!validateStageSequencing(material, toast)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    const handleSave = async ()=>{\n        if (!currentBatch || isSavingRef.current) return;\n        console.log('\\n========== ðŸš€ SAVE STARTED ==========');\n        console.log(\"Batch: \".concat(currentBatch.batchNumber, \" (ID: \").concat(currentBatch.id, \")\"));\n        console.log(\"Total materials: \".concat(currentBatch.materials.length));\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            for(let i = 0; i < currentBatch.materials.length; i++){\n                const material = currentBatch.materials[i];\n                console.log(\"\\n--- \\uD83D\\uDCDD Processing material \".concat(i + 1, \"/\").concat(currentBatch.materials.length, \": \").concat(material.displayName, \" ---\"));\n                // Check if material has complete data\n                if (hasCompleteMaterialData(material)) {\n                    const payload = convertToApiPayload(currentBatch, material, false);\n                    if (payload) {\n                        hasAnyDataToSave = true;\n                        console.log(\"\\uD83D\\uDCE4 Making API call for \".concat(material.displayName, \" (\").concat(material.type, \")\"));\n                        const result = await sendToApi(payload, material.type, material.displayName);\n                        results.push({\n                            ...result,\n                            materialIndex: i,\n                            materialType: material.type\n                        });\n                        if (result.success) {\n                            successCount++;\n                            if (result.data && result.data.data && result.data.data.id) {\n                                setCurrentBatch((prevBatch)=>{\n                                    const updatedMaterials = [\n                                        ...prevBatch.materials\n                                    ];\n                                    updatedMaterials[i] = {\n                                        ...updatedMaterials[i],\n                                        recordId: result.data.data.id,\n                                        hasExistingData: true\n                                    };\n                                    return {\n                                        ...prevBatch,\n                                        materials: updatedMaterials\n                                    };\n                                });\n                            }\n                            toast.success(\"\".concat(material.displayName, \" data saved successfully!\"));\n                        } else {\n                            failCount++;\n                            toast.error(\"Failed to save \".concat(material.displayName, \" data: \").concat(result.error));\n                        }\n                    }\n                } else {\n                    console.log(\"â­ï¸ \".concat(material.displayName, \" has incomplete data, skipping\"));\n                }\n            }\n            console.log('\\n========== ðŸ“Š SAVE SUMMARY ==========');\n            console.log(\"Total API calls attempted: \".concat(results.length));\n            console.log(\"âœ… Successful: \".concat(successCount));\n            console.log(\"âŒ Failed: \".concat(failCount));\n            console.log('=====================================\\n');\n            if (!hasAnyDataToSave) {\n                toast.info('No complete data to save. Please fill in all required fields for at least one material.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            const existingIndex = savedBatches.findIndex((b)=>b.id === currentBatch.id);\n            if (existingIndex >= 0) {\n                const updated = [\n                    ...savedBatches\n                ];\n                updated[existingIndex] = {\n                    ...currentBatch,\n                    status: 'draft'\n                };\n                setSavedBatches(updated);\n            } else {\n                setSavedBatches([\n                    ...savedBatches,\n                    {\n                        ...currentBatch,\n                        status: 'draft'\n                    }\n                ]);\n            }\n            const allSuccess = results.every((r)=>r.success);\n            if (allSuccess) {\n                toast.success(\"All \".concat(successCount, \" material data saved successfully!\"));\n            } else {\n                toast.warning(\"\".concat(successCount, \" material(s) saved successfully, \").concat(failCount, \" failed\"));\n            }\n        } catch (error) {\n            toast.error('Failed to save batch data');\n            console.error('âŒ Save error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleBackToSelection = ()=>{\n        // Clear the current batch to show the selection UI\n        setCurrentBatch(null);\n        // Clear URL params when going back\n        router.push('/bunker-management');\n        // Clear any saved state\n        setError(null);\n        // Reset the initial batch number state if needed\n        setInitialBatchNumber(null);\n        setInitialBatchId(null);\n    };\n    if (!currentBatch) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            title: \"Bunker Management\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"unified-platform-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BatchSelection, {\n                    onSelectBatch: handleSelectBatch,\n                    loading: loading,\n                    error: error,\n                    initialBatchNumber: initialBatchNumber,\n                    initialBatchId: initialBatchId\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1126,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 1125,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1124,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Bunker Management\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"unified-platform-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"entry-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-left\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleBackToSelection,\n                                    className: \"back-button\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                        lineNumber: 1144,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1143,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: currentBatch.batchNumber\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1146,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-count\",\n                                    children: [\n                                        \"(\",\n                                        currentBatch.materials.length,\n                                        \" material table\",\n                                        currentBatch.materials.length > 1 ? 's' : '',\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1147,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 1142,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-actions\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSave,\n                                className: \"btn-save\",\n                                disabled: loading,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        fontSize: \"small\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                        lineNumber: 1157,\n                                        columnNumber: 15\n                                    }, this),\n                                    loading ? 'Saving...' : 'Save'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                lineNumber: 1152,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 1151,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1141,\n                    columnNumber: 9\n                }, this),\n                currentBatch.materials.map((material, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MaterialTable, {\n                        material: material,\n                        onUpdate: (updated)=>handleUpdateMaterial(index, updated),\n                        readOnly: false\n                    }, \"\".concat(material.type, \"-\").concat(index, \"-\").concat(material.recordId || 'new'), false, {\n                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                        lineNumber: 1164,\n                        columnNumber: 11\n                    }, this))\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1140,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 1139,\n        columnNumber: 5\n    }, this);\n}\n_s2(BunkerManagementContent, \"rZKbJLDIlUtXNw4nU4EjzL8GEKM=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = BunkerManagementContent;\nfunction BunkerManagement() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.ToastProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BunkerManagementContent, {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1179,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 1178,\n        columnNumber: 5\n    }, this);\n} // if 2 tables come combine 2 and i need 1 table \n_c3 = BunkerManagement;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"MaterialTable\");\n$RefreshReg$(_c1, \"BatchSelection\");\n$RefreshReg$(_c2, \"BunkerManagementContent\");\n$RefreshReg$(_c3, \"BunkerManagement\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocGFnZXMpL2J1bmtlci1tYW5hZ2VtZW50L3BhZ2UuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUN3RTtBQUNYO0FBQ1Y7QUFDdUI7QUFDekI7QUFFRDtBQUNnQjtBQUNOO0FBRTFELE1BQU1hLGlCQUFpQjtJQUNyQixXQUFXO0lBQ1gsZUFBZTtJQUNmLGVBQWU7QUFDakI7QUFFQSxNQUFNQyx5QkFBeUI7SUFDN0IsV0FBVztJQUNYLFNBQVM7SUFDVCxTQUFTO0FBQ1g7QUFFQSxNQUFNQyxlQUFlQywyQkFBK0I7QUFDcEQsTUFBTUcsZUFBZSxHQUFnQixPQUFiSixjQUFhO0FBQ3JDLE1BQU1LLHFCQUFxQixHQUFnQixPQUFiTCxjQUFhO0FBQzNDLE1BQU1NLHVCQUF1QixHQUFnQixPQUFiTixjQUFhO0FBRTdDLE1BQU1PLGNBQWM7SUFDbEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxNQUFNQyxzQkFBc0IsU0FBQ0M7UUFBTUMsbUZBQWtCO1dBQVU7UUFDN0RELE1BQU1BO1FBQ05FLFdBQVc7UUFDWEMsV0FBVztRQUNYQyxTQUFTO1FBQ1RDLFNBQVM7UUFDVEMsWUFBWTtRQUNaQyxVQUFVO1FBQ1ZDLGFBQWE7UUFDYkMsU0FBUztJQUNYOztBQUVBLE1BQU1DLG1CQUFtQixTQUFDQztRQUFhQyw2RUFBWSxFQUFFLEVBQUVDLDJFQUFVO0lBQy9ELE1BQU1DLFFBQVE7UUFDWkMsSUFBSUYsV0FBV0csS0FBS0MsR0FBRztRQUN2Qk4sYUFBYUE7UUFDYkMsV0FBVyxFQUFFO1FBQ2JNLFdBQVc7UUFDWEMsaUJBQWlCLENBQUM7SUFDcEI7SUFFQVAsVUFBVVEsT0FBTyxDQUFDQyxDQUFBQTtRQUNoQixNQUFNQyxlQUFlakMsY0FBYyxDQUFDZ0MsU0FBUztRQUM3QyxJQUFJQyxpQkFBaUJDLFdBQVc7WUFDOUJULE1BQU1GLFNBQVMsQ0FBQ1ksSUFBSSxDQUFDO2dCQUNuQkMsTUFBTUg7Z0JB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akcsOERBQUNrRzs0QkFBSUMsV0FBVTtzQ0FDYiw0RUFBQ3lEO2dDQUNDQyxTQUFTaUI7Z0NBQ1QzRSxXQUFVO2dDQUNWYyxVQUFVTTs7a0RBRVYsOERBQUN4TixnRUFBUUE7d0NBQUNnUyxVQUFTOzs7Ozs7b0NBQ2xCeEUsVUFBVSxjQUFjOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0JBSzlCd0MsYUFBYXRPLFNBQVMsQ0FBQ2tCLEdBQUcsQ0FBQyxDQUFDVCxVQUFVeUgsc0JBQ3JDLDhEQUFDa0I7d0JBRUMzSSxVQUFVQTt3QkFDVjZJLFVBQVUsQ0FBQ3dHLFVBQVliLHFCQUFxQi9HLE9BQU80SDt3QkFDbkR2RyxVQUFVO3VCQUhMLEdBQW9CckIsT0FBakJ6SCxTQUFTSSxJQUFJLEVBQUMsS0FBWUosT0FBVHlILE9BQU0sS0FBOEIsT0FBM0J6SCxTQUFTTSxRQUFRLElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTbkU7SUF4T1NzTjs7UUFDUXBRLHNEQUFTQTtRQUNWSSxnRUFBUUE7UUFDREgsNERBQWVBOzs7TUFIN0JtUTtBQTBPTSxTQUFTa0M7SUFDdEIscUJBQ0UsOERBQUNuUyxxRUFBYUE7a0JBQ1osNEVBQUNpUTs7Ozs7Ozs7OztBQUdQLEVBRUEsaURBQWlEO01BUnpCa0MiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWRtaW5cXERvd25sb2Fkc1xcYnJpdGlzaGFncm8tYWRtaW4tcGFuZWxcXGJyaXRpc2hhZ3JvXFxhcHBcXChwYWdlcylcXGJ1bmtlci1tYW5hZ2VtZW50XFxwYWdlLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XHJcbmltcG9ydCBBcHBMYXlvdXQgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQXBwTGF5b3V0XCI7XHJcbmltcG9ydCB7IFRvYXN0UHJvdmlkZXIsIHVzZVRvYXN0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvY29tbW9uL1RvYXN0ZXJcIjtcclxuaW1wb3J0IFwiLi4vLi4vc3R5bGVzL3BhZ2VzL3VuaWZpZWQtcGxhdGZvcm0uY3NzXCI7XHJcblxyXG5pbXBvcnQgU2F2ZUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TYXZlJztcclxuaW1wb3J0IEFycm93Rm9yd2FyZEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9BcnJvd0ZvcndhcmQnO1xyXG5pbXBvcnQgQXJyb3dCYWNrSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Fycm93QmFjayc7XHJcblxyXG5jb25zdCBNQVRFUklBTF9UWVBFUyA9IHtcclxuICAnQkFHQVNTRSc6ICdCQUdBU1NFJyxcclxuICAnV0hFQVQgU1RSQVcnOiAnV0hFQVQnLFxyXG4gICdQQUREWSBTVFJBVyc6ICdQQUREWSdcclxufTtcclxuXHJcbmNvbnN0IE1BVEVSSUFMX0RJU1BMQVlfTkFNRVMgPSB7XHJcbiAgJ0JBR0FTU0UnOiAnQmFnYXNzZScsXHJcbiAgJ1dIRUFUJzogJ1doZWF0IFN0cmF3JyxcclxuICAnUEFERFknOiAnUGFkZHkgU3RyYXcnXHJcbn07XHJcblxyXG5jb25zdCBBUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMO1xyXG5jb25zdCBBUElfRU5EUE9JTlQgPSBgJHtBUElfQkFTRV9VUkx9L2J1bmtlci1tYW5hZ2VtZW50YDtcclxuY29uc3QgQVBJX0ZFVENIX0VORFBPSU5UID0gYCR7QVBJX0JBU0VfVVJMfS9idW5rZXItbWFuYWdlbWVudGA7XHJcbmNvbnN0IEJBVENIX0ZFVENIX0VORFBPSU5UID0gYCR7QVBJX0JBU0VfVVJMfS9iYXRjaGVzYDtcclxuXHJcbmNvbnN0IFNUQUdFX05BTUVTID0gW1xyXG4gIFwiQnVua2VyIFByb2Nlc3MgMVwiLFxyXG4gIFwiQnVua2VyIFByb2Nlc3MgMSBSZXN0XCIsIFxyXG4gIFwiQnVua2VyIFByb2Nlc3MgMlwiLFxyXG4gIFwiQnVua2VyIFByb2Nlc3MgMiBSZXN0XCIsXHJcbiAgXCJCdW5rZXIgUHJvY2VzcyAzXCIsXHJcbiAgXCJCdW5rZXIgUHJvY2VzcyAzIFJlc3RcIlxyXG5dO1xyXG5cclxuY29uc3QgY3JlYXRlRW1wdHlTdWJzdGFnZSA9IChuYW1lLCBpbmNsdWRlTW9pc3R1cmUgPSB0cnVlKSA9PiAoe1xyXG4gIG5hbWU6IG5hbWUsXHJcbiAgc3RhcnREYXRlOiAnJyxcclxuICBzdGFydFRpbWU6ICcnLFxyXG4gIGVuZERhdGU6ICcnLFxyXG4gIGVuZFRpbWU6ICcnLFxyXG4gIHRvdGFsSG91cnM6ICcnLFxyXG4gIG1vaXN0dXJlOiAnJyxcclxuICB0ZW1wZXJhdHVyZTogJycsIC8vIEFkZGVkIHRlbXBlcmF0dXJlIGZpZWxkXHJcbiAgcmVtYXJrczogJydcclxufSk7XHJcblxyXG5jb25zdCBjcmVhdGVFbXB0eUJhdGNoID0gKGJhdGNoTnVtYmVyLCBtYXRlcmlhbHMgPSBbXSwgYmF0Y2hJZCA9IG51bGwpID0+IHtcclxuICBjb25zdCBiYXRjaCA9IHtcclxuICAgIGlkOiBiYXRjaElkIHx8IERhdGUubm93KCksXHJcbiAgICBiYXRjaE51bWJlcjogYmF0Y2hOdW1iZXIsXHJcbiAgICBtYXRlcmlhbHM6IFtdLFxyXG4gICAgYmF0Y2hEYXRhOiBudWxsLFxyXG4gICAgZXhpc3RpbmdSZWNvcmRzOiB7fVxyXG4gIH07XHJcblxyXG4gIG1hdGVyaWFscy5mb3JFYWNoKG1hdGVyaWFsID0+IHtcclxuICAgIGNvbnN0IGFwaVN0cmF3VHlwZSA9IE1BVEVSSUFMX1RZUEVTW21hdGVyaWFsXTtcclxuICAgIGlmIChhcGlTdHJhd1R5cGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBiYXRjaC5tYXRlcmlhbHMucHVzaCh7XHJcbiAgICAgICAgdHlwZTogYXBpU3RyYXdUeXBlLFxyXG4gICAgICAgIG5hbWU6IG1hdGVyaWFsLFxyXG4gICAgICAgIGRpc3BsYXlOYW1lOiBNQVRFUklBTF9ESVNQTEFZX05BTUVTW2FwaVN0cmF3VHlwZV0gfHwgbWF0ZXJpYWwsXHJcbiAgICAgICAgcmVjb3JkSWQ6IG51bGwsXHJcbiAgICAgICAgaGFzRXhpc3RpbmdEYXRhOiBmYWxzZSxcclxuICAgICAgICBzdWJzdGFnZXM6IFNUQUdFX05BTUVTLm1hcChuYW1lID0+IGNyZWF0ZUVtcHR5U3Vic3RhZ2UobmFtZSwgdHJ1ZSkpXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gYmF0Y2g7XHJcbn07XHJcblxyXG5jb25zdCBwYXJzZURhdGVUaW1lID0gKGRhdGV0aW1lKSA9PiB7XHJcbiAgaWYgKCFkYXRldGltZSkgcmV0dXJuIHsgZGF0ZTogJycsIHRpbWU6ICcnIH07XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRldGltZSk7XHJcbiAgICBpZiAoaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSByZXR1cm4geyBkYXRlOiAnJywgdGltZTogJycgfTtcclxuICAgIFxyXG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBob3VycyA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBtaW51dGVzID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRlOiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gLFxyXG4gICAgICB0aW1lOiBgJHtob3Vyc306JHttaW51dGVzfWBcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0ZTogJycsIHRpbWU6ICcnIH07XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY2FsY3VsYXRlSG91cnMgPSAoc3RhcnREYXRlVGltZSwgZW5kRGF0ZVRpbWUpID0+IHtcclxuICBpZiAoIXN0YXJ0RGF0ZVRpbWUgfHwgIWVuZERhdGVUaW1lKSByZXR1cm4gJyc7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoc3RhcnREYXRlVGltZSk7XHJcbiAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZShlbmREYXRlVGltZSk7XHJcbiAgICBpZiAoaXNOYU4oc3RhcnQuZ2V0VGltZSgpKSB8fCBpc05hTihlbmQuZ2V0VGltZSgpKSkgcmV0dXJuICcnO1xyXG4gICAgXHJcbiAgICBjb25zdCBkaWZmSG91cnMgPSAoZW5kIC0gc3RhcnQpIC8gKDEwMDAgKiA2MCAqIDYwKTtcclxuICAgIHJldHVybiBkaWZmSG91cnMudG9GaXhlZCgxKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGZldGNoQmF0Y2hEYXRhID0gYXN5bmMgKGJhdGNoSWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coYPCfk4ogRmV0Y2hpbmcgYnVua2VyIGRhdGEgZm9yIGJhdGNoIElEOiAke2JhdGNoSWR9YCk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9GRVRDSF9FTkRQT0lOVH0vJHtiYXRjaElkfWApO1xyXG4gICAgXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OtIE5vIGV4aXN0aW5nIGJ1bmtlciBkYXRhIGZvdW5kIGZvciBiYXRjaCcpO1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG51bGwgfTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBidW5rZXIgZGF0YTogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKCfwn5OmIEZldGNoZWQgYnVua2VyIGRhdGE6JywgcmVzcG9uc2VEYXRhKTtcclxuICAgIFxyXG4gICAgaWYgKHJlc3BvbnNlRGF0YS5zdWNjZXNzICYmIHJlc3BvbnNlRGF0YS5kYXRhICYmIHJlc3BvbnNlRGF0YS5kYXRhLml0ZW1zKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3BvbnNlRGF0YS5kYXRhLml0ZW1zIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChyZXNwb25zZURhdGEuZGF0YSAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlRGF0YS5kYXRhKSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXNwb25zZURhdGEuZGF0YSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNwb25zZURhdGEpKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3BvbnNlRGF0YSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocmVzcG9uc2VEYXRhLmlkIHx8IHJlc3BvbnNlRGF0YS5iYXRjaF9pZCkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbcmVzcG9uc2VEYXRhXSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmZXRjaGluZyBidW5rZXIgZGF0YTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBmZXRjaEJhdGNoRGV0YWlscyA9IGFzeW5jIChiYXRjaElkKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFUQ0hfRkVUQ0hfRU5EUE9JTlR9LyR7YmF0Y2hJZH1gKTtcclxuICAgIFxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBiYXRjaCBkZXRhaWxzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIGJhdGNoIGRldGFpbHM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY29tYmluZURhdGVUaW1lID0gKGRhdGUsIHRpbWUpID0+IHtcclxuICBpZiAoIWRhdGUgfHwgIXRpbWUpIHJldHVybiBudWxsO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRlVGltZVN0ciA9IGAke2RhdGV9VCR7dGltZX06MDBgO1xyXG4gICAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZShkYXRlVGltZVN0cik7XHJcbiAgICBcclxuICAgIGlmIChpc05hTihkYXRldGltZS5nZXRUaW1lKCkpKSByZXR1cm4gbnVsbDtcclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGV0aW1lLnRvSVNPU3RyaW5nKCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbWJpbmluZyBkYXRldGltZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNTdWJzdGFnZURhdGEgPSAoc3Vic3RhZ2UpID0+IHtcclxuICByZXR1cm4gc3Vic3RhZ2Uuc3RhcnREYXRlIHx8IHN1YnN0YWdlLnN0YXJ0VGltZSB8fCBzdWJzdGFnZS5lbmREYXRlIHx8IHN1YnN0YWdlLmVuZFRpbWUgfHwgXHJcbiAgICAgICAgIHN1YnN0YWdlLm1vaXN0dXJlIHx8IHN1YnN0YWdlLnRlbXBlcmF0dXJlIHx8IHN1YnN0YWdlLnJlbWFya3M7XHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0ZVN0YWdlU2VxdWVuY2luZyA9IChtYXRlcmlhbCwgdG9hc3QpID0+IHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGVyaWFsLnN1YnN0YWdlcy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgIGNvbnN0IGN1cnJlbnRTdGFnZSA9IG1hdGVyaWFsLnN1YnN0YWdlc1tpXTtcclxuICAgIGNvbnN0IG5leHRTdGFnZSA9IG1hdGVyaWFsLnN1YnN0YWdlc1tpICsgMV07XHJcbiAgICBcclxuICAgIGlmICghY3VycmVudFN0YWdlLmVuZERhdGUgfHwgIWN1cnJlbnRTdGFnZS5lbmRUaW1lIHx8ICFuZXh0U3RhZ2Uuc3RhcnREYXRlIHx8ICFuZXh0U3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBjdXJyZW50RW5kID0gY29tYmluZURhdGVUaW1lKGN1cnJlbnRTdGFnZS5lbmREYXRlLCBjdXJyZW50U3RhZ2UuZW5kVGltZSk7XHJcbiAgICBjb25zdCBuZXh0U3RhcnQgPSBjb21iaW5lRGF0ZVRpbWUobmV4dFN0YWdlLnN0YXJ0RGF0ZSwgbmV4dFN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICBcclxuICAgIGlmIChjdXJyZW50RW5kICYmIG5leHRTdGFydCkge1xyXG4gICAgICBpZiAobmV3IERhdGUoY3VycmVudEVuZCkgPiBuZXcgRGF0ZShuZXh0U3RhcnQpKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiAke25leHRTdGFnZS5uYW1lfSBtdXN0IHN0YXJ0IGFmdGVyICR7Y3VycmVudFN0YWdlLm5hbWV9IGVuZHNgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5jb25zdCBoYXNDb21wbGV0ZU1hdGVyaWFsRGF0YSA9IChtYXRlcmlhbCkgPT4ge1xyXG4gIC8vIENoZWNrIG1haW4gc3Vic3RhZ2VzXHJcbiAgY29uc3QgaGFzTWFpbkRhdGEgPSBtYXRlcmlhbC5zdWJzdGFnZXMuc29tZShzdWJzdGFnZSA9PiBcclxuICAgIHN1YnN0YWdlLnN0YXJ0RGF0ZSB8fCBzdWJzdGFnZS5zdGFydFRpbWUgfHwgc3Vic3RhZ2UuZW5kRGF0ZSB8fCBzdWJzdGFnZS5lbmRUaW1lIHx8IFxyXG4gICAgc3Vic3RhZ2UubW9pc3R1cmUgfHwgc3Vic3RhZ2UudGVtcGVyYXR1cmUgfHwgc3Vic3RhZ2UucmVtYXJrc1xyXG4gICk7XHJcbiAgXHJcbiAgLy8gSWYgbm8gZGF0YSBhdCBhbGwgaW4gbWFpbiBzdGFnZXMsIHJldHVybiBmYWxzZSAobm90aGluZyB0byBzYXZlKVxyXG4gIGlmICghaGFzTWFpbkRhdGEpIHtcclxuICAgIGNvbnNvbGUubG9nKGDwn5OdICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBObyBkYXRhIGVudGVyZWQgaW4gbWFpbiBzdGFnZXNgKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgLy8gQ2hlY2sgbWFpbiBzdWJzdGFnZXMgZm9yIGNvbXBsZXRlbmVzc1xyXG4gIGZvciAoY29uc3Qgc3Vic3RhZ2Ugb2YgbWF0ZXJpYWwuc3Vic3RhZ2VzKSB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmICFzdWJzdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IEluY29tcGxldGUgc3RhcnQgZGF0YSBpbiAke3N1YnN0YWdlLm5hbWV9IChkYXRlIHdpdGhvdXQgdGltZSlgKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnRUaW1lICYmICFzdWJzdGFnZS5zdGFydERhdGUpIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06IEluY29tcGxldGUgc3RhcnQgZGF0YSBpbiAke3N1YnN0YWdlLm5hbWV9ICh0aW1lIHdpdGhvdXQgZGF0ZSlgKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2UuZW5kRGF0ZSAmJiAhc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogSW5jb21wbGV0ZSBlbmQgZGF0YSBpbiAke3N1YnN0YWdlLm5hbWV9IChkYXRlIHdpdGhvdXQgdGltZSlgKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2UuZW5kVGltZSAmJiAhc3Vic3RhZ2UuZW5kRGF0ZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogSW5jb21wbGV0ZSBlbmQgZGF0YSBpbiAke3N1YnN0YWdlLm5hbWV9ICh0aW1lIHdpdGhvdXQgZGF0ZSlgKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBjb25zb2xlLmxvZyhg4pyFICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OiBIYXMgdmFsaWQgZGF0YSB0byBzYXZlYCk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5jb25zdCBjb252ZXJ0VG9BcGlQYXlsb2FkID0gKGJhdGNoLCBtYXRlcmlhbCwgaXNDb21wbGV0ZWQpID0+IHtcclxuICBpZiAoIW1hdGVyaWFsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgY29uc3QgYnVua2VyMSA9IG1hdGVyaWFsLnN1YnN0YWdlc1swXSB8fCBjcmVhdGVFbXB0eVN1YnN0YWdlKFwiQnVua2VyIFByb2Nlc3MgMVwiLCB0cnVlKTtcclxuICBjb25zdCBidW5rZXIxUmVzdCA9IG1hdGVyaWFsLnN1YnN0YWdlc1sxXSB8fCBjcmVhdGVFbXB0eVN1YnN0YWdlKFwiQnVua2VyIFByb2Nlc3MgMSBSZXN0XCIsIHRydWUpO1xyXG4gIGNvbnN0IGJ1bmtlcjIgPSBtYXRlcmlhbC5zdWJzdGFnZXNbMl0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIkJ1bmtlciBQcm9jZXNzIDJcIiwgdHJ1ZSk7XHJcbiAgY29uc3QgYnVua2VyMlJlc3QgPSBtYXRlcmlhbC5zdWJzdGFnZXNbM10gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIkJ1bmtlciBQcm9jZXNzIDIgUmVzdFwiLCB0cnVlKTtcclxuICBjb25zdCBidW5rZXIzID0gbWF0ZXJpYWwuc3Vic3RhZ2VzWzRdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJCdW5rZXIgUHJvY2VzcyAzXCIsIHRydWUpO1xyXG4gIGNvbnN0IGJ1bmtlcjNSZXN0ID0gbWF0ZXJpYWwuc3Vic3RhZ2VzWzVdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJCdW5rZXIgUHJvY2VzcyAzIFJlc3RcIiwgdHJ1ZSk7XHJcblxyXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JtYXQgZGF0ZXRpbWUgd2l0aG91dCBtaWxsaXNlY29uZHMgYW5kIHRpbWV6b25lXHJcbiAgY29uc3QgZm9ybWF0RGF0ZVRpbWUgPSAoZGF0ZVRpbWVTdHIpID0+IHtcclxuICAgIGlmICghZGF0ZVRpbWVTdHIpIHJldHVybiBudWxsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVUaW1lU3RyKTtcclxuICAgICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuIG51bGw7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3Qgc2Vjb25kcyA9IFN0cmluZyhkYXRlLmdldFNlY29uZHMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1UJHtob3Vyc306JHttaW51dGVzfToke3NlY29uZHN9YDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZvcm1hdHRpbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBPbmx5IGNvbWJpbmUgZGF0ZXMgaWYgYm90aCBkYXRlIGFuZCB0aW1lIGV4aXN0XHJcbiAgY29uc3QgYnVua2VyMV9zdGFydCA9IChidW5rZXIxLnN0YXJ0RGF0ZSAmJiBidW5rZXIxLnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIxLnN0YXJ0RGF0ZSwgYnVua2VyMS5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IGJ1bmtlcjFfZW5kID0gKGJ1bmtlcjEuZW5kRGF0ZSAmJiBidW5rZXIxLmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyMS5lbmREYXRlLCBidW5rZXIxLmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIFxyXG4gIGNvbnN0IGJ1bmtlcjFfcmVzdF9zdGFydCA9IChidW5rZXIxUmVzdC5zdGFydERhdGUgJiYgYnVua2VyMVJlc3Quc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjFSZXN0LnN0YXJ0RGF0ZSwgYnVua2VyMVJlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCBidW5rZXIxX3Jlc3RfZW5kID0gKGJ1bmtlcjFSZXN0LmVuZERhdGUgJiYgYnVua2VyMVJlc3QuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIxUmVzdC5lbmREYXRlLCBidW5rZXIxUmVzdC5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBcclxuICBjb25zdCBidW5rZXIyX3N0YXJ0ID0gKGJ1bmtlcjIuc3RhcnREYXRlICYmIGJ1bmtlcjIuc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjIuc3RhcnREYXRlLCBidW5rZXIyLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgYnVua2VyMl9lbmQgPSAoYnVua2VyMi5lbmREYXRlICYmIGJ1bmtlcjIuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIyLmVuZERhdGUsIGJ1bmtlcjIuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3QgYnVua2VyMl9yZXN0X3N0YXJ0ID0gKGJ1bmtlcjJSZXN0LnN0YXJ0RGF0ZSAmJiBidW5rZXIyUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyMlJlc3Quc3RhcnREYXRlLCBidW5rZXIyUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IGJ1bmtlcjJfcmVzdF9lbmQgPSAoYnVua2VyMlJlc3QuZW5kRGF0ZSAmJiBidW5rZXIyUmVzdC5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjJSZXN0LmVuZERhdGUsIGJ1bmtlcjJSZXN0LmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG5cclxuICBjb25zdCBidW5rZXIzX3N0YXJ0ID0gKGJ1bmtlcjMuc3RhcnREYXRlICYmIGJ1bmtlcjMuc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjMuc3RhcnREYXRlLCBidW5rZXIzLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgYnVua2VyM19lbmQgPSAoYnVua2VyMy5lbmREYXRlICYmIGJ1bmtlcjMuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIzLmVuZERhdGUsIGJ1bmtlcjMuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcblxyXG4gIGNvbnN0IGJ1bmtlcjNfcmVzdF9zdGFydCA9IChidW5rZXIzUmVzdC5zdGFydERhdGUgJiYgYnVua2VyM1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjNSZXN0LnN0YXJ0RGF0ZSwgYnVua2VyM1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCBidW5rZXIzX3Jlc3RfZW5kID0gKGJ1bmtlcjNSZXN0LmVuZERhdGUgJiYgYnVua2VyM1Jlc3QuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIzUmVzdC5lbmREYXRlLCBidW5rZXIzUmVzdC5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuXHJcbiAgY29uc3QgYXBpU3RyYXdUeXBlID0gbWF0ZXJpYWwudHlwZTtcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIG92ZXJhbGwgc3RhcnRfdGltZSAoZWFybGllc3Qgc3RhcnQgYWNyb3NzIGFsbCBzdGFnZXMpXHJcbiAgY29uc3QgYWxsU3RhcnRzID0gW1xyXG4gICAgYnVua2VyMV9zdGFydCxcclxuICAgIGJ1bmtlcjFfcmVzdF9zdGFydCxcclxuICAgIGJ1bmtlcjJfc3RhcnQsXHJcbiAgICBidW5rZXIyX3Jlc3Rfc3RhcnQsXHJcbiAgICBidW5rZXIzX3N0YXJ0LFxyXG4gICAgYnVua2VyM19yZXN0X3N0YXJ0XHJcbiAgXS5maWx0ZXIoc3RhcnQgPT4gc3RhcnQgIT09IG51bGwpO1xyXG4gIFxyXG4gIGNvbnN0IG92ZXJhbGxfc3RhcnRfdGltZSA9IGFsbFN0YXJ0cy5sZW5ndGggPiAwIFxyXG4gICAgPyBmb3JtYXREYXRlVGltZShuZXcgRGF0ZShNYXRoLm1pbiguLi5hbGxTdGFydHMubWFwKGQgPT4gbmV3IERhdGUoZCkuZ2V0VGltZSgpKSkpKVxyXG4gICAgOiBudWxsO1xyXG5cclxuICAvLyBGb3JtYXQgYWxsIGRhdGV0aW1lIGZpZWxkcyB0byBtYXRjaCB0aGUgZXhwZWN0ZWQgZm9ybWF0XHJcbiAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgIGJhdGNoX2lkOiBiYXRjaC5pZCxcclxuICAgIHN0cmF3X3R5cGU6IGFwaVN0cmF3VHlwZSxcclxuICAgIHN0YXJ0X3RpbWU6IG92ZXJhbGxfc3RhcnRfdGltZSxcclxuICAgIGlzY29tcGxldGVkOiBpc0NvbXBsZXRlZCxcclxuICAgIGJ1bmtlcl9wcm9jZXNzMToge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIxX3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjFfZW5kKSxcclxuICAgICAgbW9pc3R1cmU6IGJ1bmtlcjEubW9pc3R1cmUgPyBwYXJzZUludChidW5rZXIxLm1vaXN0dXJlKSA6IG51bGwsXHJcbiAgICAgIHRlbXBlcmF0dXJlOiBidW5rZXIxLnRlbXBlcmF0dXJlID8gcGFyc2VJbnQoYnVua2VyMS50ZW1wZXJhdHVyZSkgOiBudWxsXHJcbiAgICB9LFxyXG4gICAgYnVua2VyX3Byb2Nlc3MxX3Jlc3Q6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMV9yZXN0X3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjFfcmVzdF9lbmQpLFxyXG4gICAgICBtb2lzdHVyZTogYnVua2VyMVJlc3QubW9pc3R1cmUgPyBwYXJzZUludChidW5rZXIxUmVzdC5tb2lzdHVyZSkgOiBudWxsLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogYnVua2VyMVJlc3QudGVtcGVyYXR1cmUgPyBwYXJzZUludChidW5rZXIxUmVzdC50ZW1wZXJhdHVyZSkgOiBudWxsXHJcbiAgICB9LFxyXG4gICAgYnVua2VyX3Byb2Nlc3MyOiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjJfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMl9lbmQpLFxyXG4gICAgICBtb2lzdHVyZTogYnVua2VyMi5tb2lzdHVyZSA/IHBhcnNlSW50KGJ1bmtlcjIubW9pc3R1cmUpIDogbnVsbCxcclxuICAgICAgdGVtcGVyYXR1cmU6IGJ1bmtlcjIudGVtcGVyYXR1cmUgPyBwYXJzZUludChidW5rZXIyLnRlbXBlcmF0dXJlKSA6IG51bGxcclxuICAgIH0sXHJcbiAgICBidW5rZXJfcHJvY2VzczJfcmVzdDoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIyX3Jlc3Rfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMl9yZXN0X2VuZCksXHJcbiAgICAgIG1vaXN0dXJlOiBidW5rZXIyUmVzdC5tb2lzdHVyZSA/IHBhcnNlSW50KGJ1bmtlcjJSZXN0Lm1vaXN0dXJlKSA6IG51bGwsXHJcbiAgICAgIHRlbXBlcmF0dXJlOiBidW5rZXIyUmVzdC50ZW1wZXJhdHVyZSA/IHBhcnNlSW50KGJ1bmtlcjJSZXN0LnRlbXBlcmF0dXJlKSA6IG51bGxcclxuICAgIH0sXHJcbiAgICBidW5rZXJfcHJvY2VzczM6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyM19zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIzX2VuZCksXHJcbiAgICAgIG1vaXN0dXJlOiBidW5rZXIzLm1vaXN0dXJlID8gcGFyc2VJbnQoYnVua2VyMy5tb2lzdHVyZSkgOiBudWxsLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogYnVua2VyMy50ZW1wZXJhdHVyZSA/IHBhcnNlSW50KGJ1bmtlcjMudGVtcGVyYXR1cmUpIDogbnVsbFxyXG4gICAgfSxcclxuICAgIGJ1bmtlcl9wcm9jZXNzM19yZXN0OiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjNfcmVzdF9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIzX3Jlc3RfZW5kKSxcclxuICAgICAgbW9pc3R1cmU6IGJ1bmtlcjNSZXN0Lm1vaXN0dXJlID8gcGFyc2VJbnQoYnVua2VyM1Jlc3QubW9pc3R1cmUpIDogbnVsbCxcclxuICAgICAgdGVtcGVyYXR1cmU6IGJ1bmtlcjNSZXN0LnRlbXBlcmF0dXJlID8gcGFyc2VJbnQoYnVua2VyM1Jlc3QudGVtcGVyYXR1cmUpIDogbnVsbFxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFJlbW92ZSBudWxsIHZhbHVlcyBidXQga2VlcCB0aGUgc3RydWN0dXJlXHJcbiAgT2JqZWN0LmtleXMocGF5bG9hZCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgaWYgKHBheWxvYWRba2V5XSA9PT0gbnVsbCkge1xyXG4gICAgICBkZWxldGUgcGF5bG9hZFtrZXldO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGF5bG9hZFtrZXldID09PSAnb2JqZWN0JyAmJiBwYXlsb2FkW2tleV0gIT09IG51bGwgJiYga2V5ICE9PSAnYmF0Y2hfaWQnICYmIGtleSAhPT0gJ3N0cmF3X3R5cGUnICYmIGtleSAhPT0gJ2lzY29tcGxldGVkJykge1xyXG4gICAgICAvLyBSZW1vdmUgbnVsbCBmaWVsZHMgZnJvbSBuZXN0ZWQgb2JqZWN0c1xyXG4gICAgICBPYmplY3Qua2V5cyhwYXlsb2FkW2tleV0pLmZvckVhY2goc3ViS2V5ID0+IHtcclxuICAgICAgICBpZiAocGF5bG9hZFtrZXldW3N1YktleV0gPT09IG51bGwgfHwgcGF5bG9hZFtrZXldW3N1YktleV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgZGVsZXRlIHBheWxvYWRba2V5XVtzdWJLZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBJZiBuZXN0ZWQgb2JqZWN0IGhhcyBubyBwcm9wZXJ0aWVzIGxlZnQsIHJlbW92ZSBpdFxyXG4gICAgICBpZiAoT2JqZWN0LmtleXMocGF5bG9hZFtrZXldKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBkZWxldGUgcGF5bG9hZFtrZXldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnNvbGUubG9nKGDwn5OmIEdlbmVyYXRlZCBwYXlsb2FkIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTpgLCBwYXlsb2FkKTtcclxuICByZXR1cm4gcGF5bG9hZDtcclxufTtcclxuXHJcbmNvbnN0IGNvbnZlcnRBcGlSZXNwb25zZVRvVUkgPSAoYXBpRGF0YSwgYmF0Y2gpID0+IHtcclxuICBpZiAoIWFwaURhdGEgfHwgIUFycmF5LmlzQXJyYXkoYXBpRGF0YSkpIHtcclxuICAgIGNvbnNvbGUubG9nKCfinYwgTm8gdmFsaWQgQVBJIGRhdGEgYXJyYXkgdG8gY29udmVydDonLCBhcGlEYXRhKTtcclxuICAgIHJldHVybiBiYXRjaDtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKCfwn5SEIENvbnZlcnRpbmcgQVBJIGRhdGEgdG8gVUkuIEZvdW5kIGl0ZW1zOicsIGFwaURhdGEubGVuZ3RoKTtcclxuXHJcbiAgYmF0Y2gubWF0ZXJpYWxzLmZvckVhY2gobWF0ZXJpYWwgPT4ge1xyXG4gICAgY29uc3QgbWF0ZXJpYWxEYXRhID0gYXBpRGF0YS5maW5kKGQgPT4gXHJcbiAgICAgIGQuc3RyYXdfdHlwZSAmJiBkLnN0cmF3X3R5cGUgPT09IG1hdGVyaWFsLnR5cGVcclxuICAgICk7XHJcbiAgICBcclxuICAgIGlmICghbWF0ZXJpYWxEYXRhKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDihLnvuI8gTm8gZGF0YSBmb3VuZCBmb3IgbWF0ZXJpYWw6ICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9ICh0eXBlOiAke21hdGVyaWFsLnR5cGV9KWApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coYOKchSBGb3VuZCBkYXRhIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTpgLCBtYXRlcmlhbERhdGEpO1xyXG4gICAgXHJcbiAgICBpZiAobWF0ZXJpYWxEYXRhLmlkKSB7XHJcbiAgICAgIG1hdGVyaWFsLnJlY29yZElkID0gbWF0ZXJpYWxEYXRhLmlkO1xyXG4gICAgICBtYXRlcmlhbC5oYXNFeGlzdGluZ0RhdGEgPSB0cnVlO1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSBTZXR0aW5nIHJlY29yZElkIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogJHttYXRlcmlhbERhdGEuaWR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3Vic3RhZ2VNYXBwaW5nID0gW1xyXG4gICAgICB7IG5hbWU6IFwiQnVua2VyIFByb2Nlc3MgMVwiLCBkYXRhOiBtYXRlcmlhbERhdGEuYnVua2VyX3Byb2Nlc3MxIH0sXHJcbiAgICAgIHsgbmFtZTogXCJCdW5rZXIgUHJvY2VzcyAxIFJlc3RcIiwgZGF0YTogbWF0ZXJpYWxEYXRhLmJ1bmtlcl9wcm9jZXNzMV9yZXN0IH0sXHJcbiAgICAgIHsgbmFtZTogXCJCdW5rZXIgUHJvY2VzcyAyXCIsIGRhdGE6IG1hdGVyaWFsRGF0YS5idW5rZXJfcHJvY2VzczIgfSxcclxuICAgICAgeyBuYW1lOiBcIkJ1bmtlciBQcm9jZXNzIDIgUmVzdFwiLCBkYXRhOiBtYXRlcmlhbERhdGEuYnVua2VyX3Byb2Nlc3MyX3Jlc3QgfSxcclxuICAgICAgeyBuYW1lOiBcIkJ1bmtlciBQcm9jZXNzIDNcIiwgZGF0YTogbWF0ZXJpYWxEYXRhLmJ1bmtlcl9wcm9jZXNzMyB9LFxyXG4gICAgICB7IG5hbWU6IFwiQnVua2VyIFByb2Nlc3MgMyBSZXN0XCIsIGRhdGE6IG1hdGVyaWFsRGF0YS5idW5rZXJfcHJvY2VzczNfcmVzdCB9XHJcbiAgICBdO1xyXG5cclxuICAgIHN1YnN0YWdlTWFwcGluZy5mb3JFYWNoKChtYXBwaW5nLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAobWFwcGluZy5kYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogUHJvY2Vzc2luZyAke21hcHBpbmcubmFtZX0gZm9yICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9OmAsIG1hcHBpbmcuZGF0YSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG1hcHBpbmcuZGF0YS5zdGFydF90aW1lKSB7XHJcbiAgICAgICAgICBjb25zdCB7IGRhdGU6IHN0YXJ0RGF0ZSwgdGltZTogc3RhcnRUaW1lIH0gPSBwYXJzZURhdGVUaW1lKG1hcHBpbmcuZGF0YS5zdGFydF90aW1lKTtcclxuICAgICAgICAgIG1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF0uc3RhcnREYXRlID0gc3RhcnREYXRlO1xyXG4gICAgICAgICAgbWF0ZXJpYWwuc3Vic3RhZ2VzW2luZGV4XS5zdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgICBTdGFydDogJHtzdGFydERhdGV9ICR7c3RhcnRUaW1lfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAobWFwcGluZy5kYXRhLmVuZF90aW1lKSB7XHJcbiAgICAgICAgICBjb25zdCB7IGRhdGU6IGVuZERhdGUsIHRpbWU6IGVuZFRpbWUgfSA9IHBhcnNlRGF0ZVRpbWUobWFwcGluZy5kYXRhLmVuZF90aW1lKTtcclxuICAgICAgICAgIG1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF0uZW5kRGF0ZSA9IGVuZERhdGU7XHJcbiAgICAgICAgICBtYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdLmVuZFRpbWUgPSBlbmRUaW1lO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYCAgRW5kOiAke2VuZERhdGV9ICR7ZW5kVGltZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG1hcHBpbmcuZGF0YS5kdXJhdGlvbl9ob3VycyAhPT0gdW5kZWZpbmVkICYmIG1hcHBpbmcuZGF0YS5kdXJhdGlvbl9ob3VycyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgbWF0ZXJpYWwuc3Vic3RhZ2VzW2luZGV4XS50b3RhbEhvdXJzID0gbWFwcGluZy5kYXRhLmR1cmF0aW9uX2hvdXJzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgICBEdXJhdGlvbjogJHttYXBwaW5nLmRhdGEuZHVyYXRpb25faG91cnN9IGhvdXJzYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChtYXBwaW5nLmRhdGEubW9pc3R1cmUgIT09IHVuZGVmaW5lZCAmJiBtYXBwaW5nLmRhdGEubW9pc3R1cmUgIT09IG51bGwpIHtcclxuICAgICAgICAgIG1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF0ubW9pc3R1cmUgPSBtYXBwaW5nLmRhdGEubW9pc3R1cmUudG9TdHJpbmcoKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGAgIE1vaXN0dXJlOiAke21hcHBpbmcuZGF0YS5tb2lzdHVyZX0lYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChtYXBwaW5nLmRhdGEudGVtcGVyYXR1cmUgIT09IHVuZGVmaW5lZCAmJiBtYXBwaW5nLmRhdGEudGVtcGVyYXR1cmUgIT09IG51bGwpIHtcclxuICAgICAgICAgIG1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF0udGVtcGVyYXR1cmUgPSBtYXBwaW5nLmRhdGEudGVtcGVyYXR1cmUudG9TdHJpbmcoKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGAgIFRlbXBlcmF0dXJlOiAke21hcHBpbmcuZGF0YS50ZW1wZXJhdHVyZX3CsENgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG1hcHBpbmcuZGF0YS5yZW1hcmtzKSB7XHJcbiAgICAgICAgICBtYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdLnJlbWFya3MgPSBtYXBwaW5nLmRhdGEucmVtYXJrcztcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYOKaoO+4jyBObyBkYXRhIGZvciAke21hcHBpbmcubmFtZX0gaW4gJHttYXRlcmlhbC5kaXNwbGF5TmFtZX1gKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnNvbGUubG9nKCfinIUgRmluaXNoZWQgY29udmVydGluZyBBUEkgZGF0YSB0byBVSScpO1xyXG4gIHJldHVybiBiYXRjaDtcclxufTtcclxuXHJcbmNvbnN0IHNlbmRUb0FwaSA9IGFzeW5jIChwYXlsb2FkLCBtYXRlcmlhbFR5cGUsIGRpc3BsYXlOYW1lKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChBUElfRU5EUE9JTlQsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhg8J+TpSBSRVNQT05TRSBmb3IgJHtkaXNwbGF5TmFtZX06IFN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBkZXRhaWw6ICdVbmtub3duIGVycm9yJyB9KSk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBUEkgRXJyb3IgUmVzcG9uc2U6JywgZXJyb3JEYXRhKTtcclxuICAgICAgXHJcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xyXG4gICAgICBpZiAoZXJyb3JEYXRhLmRldGFpbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXJyb3JEYXRhLmRldGFpbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5kZXRhaWw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVycm9yRGF0YS5kZXRhaWwpKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZGV0YWlsLm1hcChlcnIgPT4gZXJyLm1zZykuam9pbignLCAnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlcnJvckRhdGEuZGV0YWlsID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZXJyb3JEYXRhLmRldGFpbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFNVQ0NFU1MgZm9yICR7ZGlzcGxheU5hbWV9OmAsIHJlc3VsdCk7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihg4p2MIEVSUk9SIHNlbmRpbmcgJHtkaXNwbGF5TmFtZX0gZGF0YTpgLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBNYXRlcmlhbFRhYmxlID0gUmVhY3QubWVtbygoeyBtYXRlcmlhbCwgb25VcGRhdGUsIHJlYWRPbmx5ID0gZmFsc2UgfSkgPT4ge1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVEYXRlUmFuZ2UgPSAoc3Vic3RhZ2UsIGZpZWxkLCBuZXdWYWx1ZSwgY3VycmVudFN1YnN0YWdlKSA9PiB7XHJcbiAgICBpZiAoZmllbGQgPT09ICdzdGFydERhdGUnIHx8IGZpZWxkID09PSAnc3RhcnRUaW1lJykge1xyXG4gICAgICBpZiAoc3Vic3RhZ2UuZW5kRGF0ZSAmJiBzdWJzdGFnZS5lbmRUaW1lKSB7XHJcbiAgICAgICAgY29uc3QgbmV3U3RhcnREYXRlVGltZSA9IGZpZWxkID09PSAnc3RhcnREYXRlJyBcclxuICAgICAgICAgID8gY29tYmluZURhdGVUaW1lKG5ld1ZhbHVlLCBzdWJzdGFnZS5zdGFydFRpbWUpXHJcbiAgICAgICAgICA6IGNvbWJpbmVEYXRlVGltZShzdWJzdGFnZS5zdGFydERhdGUsIG5ld1ZhbHVlKTtcclxuICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IGNvbWJpbmVEYXRlVGltZShzdWJzdGFnZS5lbmREYXRlLCBzdWJzdGFnZS5lbmRUaW1lKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAobmV3U3RhcnREYXRlVGltZSAmJiBlbmREYXRlVGltZSAmJiBuZXcgRGF0ZShuZXdTdGFydERhdGVUaW1lKSA+IG5ldyBEYXRlKGVuZERhdGVUaW1lKSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IC0gJHtzdWJzdGFnZS5uYW1lfTogU3RhcnQgZGF0ZS90aW1lIGNhbm5vdCBiZSBhZnRlciBlbmQgZGF0ZS90aW1lYCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGZpZWxkID09PSAnZW5kRGF0ZScgfHwgZmllbGQgPT09ICdlbmRUaW1lJykge1xyXG4gICAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBjb21iaW5lRGF0ZVRpbWUoc3Vic3RhZ2Uuc3RhcnREYXRlLCBzdWJzdGFnZS5zdGFydFRpbWUpO1xyXG4gICAgICAgIGNvbnN0IG5ld0VuZERhdGVUaW1lID0gZmllbGQgPT09ICdlbmREYXRlJ1xyXG4gICAgICAgICAgPyBjb21iaW5lRGF0ZVRpbWUobmV3VmFsdWUsIHN1YnN0YWdlLmVuZFRpbWUpXHJcbiAgICAgICAgICA6IGNvbWJpbmVEYXRlVGltZShzdWJzdGFnZS5lbmREYXRlLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUgJiYgbmV3RW5kRGF0ZVRpbWUgJiYgbmV3IERhdGUoc3RhcnREYXRlVGltZSkgPiBuZXcgRGF0ZShuZXdFbmREYXRlVGltZSkpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtICR7c3Vic3RhZ2UubmFtZX06IEVuZCBkYXRlL3RpbWUgY2Fubm90IGJlIGJlZm9yZSBzdGFydCBkYXRlL3RpbWVgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHZhbGlkYXRlU3RhZ2VTZXF1ZW5jZSA9IChpbmRleCwgZmllbGQsIHZhbHVlLCB1cGRhdGVkTWF0ZXJpYWwpID0+IHtcclxuICAgIGNvbnN0IHN1YnN0YWdlID0gdXBkYXRlZE1hdGVyaWFsLnN1YnN0YWdlc1tpbmRleF07XHJcbiAgICBjb25zdCB0ZW1wU3Vic3RhZ2UgPSB7IC4uLnN1YnN0YWdlLCBbZmllbGRdOiB2YWx1ZSB9O1xyXG4gICAgY29uc3Qgc3RhZ2VJbmRleCA9IGluZGV4O1xyXG4gICAgXHJcbiAgICBpZiAoc3RhZ2VJbmRleCA+IDApIHtcclxuICAgICAgY29uc3QgcHJldlN0YWdlID0gdXBkYXRlZE1hdGVyaWFsLnN1YnN0YWdlc1tzdGFnZUluZGV4IC0gMV07XHJcbiAgICAgIGlmIChwcmV2U3RhZ2UuZW5kRGF0ZSAmJiBwcmV2U3RhZ2UuZW5kVGltZSAmJiB0ZW1wU3Vic3RhZ2Uuc3RhcnREYXRlICYmIHRlbXBTdWJzdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgICBjb25zdCBwcmV2RW5kID0gY29tYmluZURhdGVUaW1lKHByZXZTdGFnZS5lbmREYXRlLCBwcmV2U3RhZ2UuZW5kVGltZSk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXJ0ID0gY29tYmluZURhdGVUaW1lKHRlbXBTdWJzdGFnZS5zdGFydERhdGUsIHRlbXBTdWJzdGFnZS5zdGFydFRpbWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChwcmV2RW5kICYmIGN1cnJlbnRTdGFydCAmJiBuZXcgRGF0ZShwcmV2RW5kKSA+IG5ldyBEYXRlKGN1cnJlbnRTdGFydCkpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGAke21hdGVyaWFsLmRpc3BsYXlOYW1lfTogJHt0ZW1wU3Vic3RhZ2UubmFtZX0gbXVzdCBzdGFydCBhZnRlciAke3ByZXZTdGFnZS5uYW1lfSBlbmRzYCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzdGFnZUluZGV4IDwgdXBkYXRlZE1hdGVyaWFsLnN1YnN0YWdlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgIGNvbnN0IG5leHRTdGFnZSA9IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXNbc3RhZ2VJbmRleCArIDFdO1xyXG4gICAgICBpZiAodGVtcFN1YnN0YWdlLmVuZERhdGUgJiYgdGVtcFN1YnN0YWdlLmVuZFRpbWUgJiYgbmV4dFN0YWdlLnN0YXJ0RGF0ZSAmJiBuZXh0U3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEVuZCA9IGNvbWJpbmVEYXRlVGltZSh0ZW1wU3Vic3RhZ2UuZW5kRGF0ZSwgdGVtcFN1YnN0YWdlLmVuZFRpbWUpO1xyXG4gICAgICAgIGNvbnN0IG5leHRTdGFydCA9IGNvbWJpbmVEYXRlVGltZShuZXh0U3RhZ2Uuc3RhcnREYXRlLCBuZXh0U3RhZ2Uuc3RhcnRUaW1lKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoY3VycmVudEVuZCAmJiBuZXh0U3RhcnQgJiYgbmV3IERhdGUoY3VycmVudEVuZCkgPiBuZXcgRGF0ZShuZXh0U3RhcnQpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX06ICR7bmV4dFN0YWdlLm5hbWV9IG11c3Qgc3RhcnQgYWZ0ZXIgJHt0ZW1wU3Vic3RhZ2UubmFtZX0gZW5kc2ApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRNaW5FbmREYXRlID0gKHN1YnN0YWdlKSA9PiB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlKSB7XHJcbiAgICAgIHJldHVybiBzdWJzdGFnZS5zdGFydERhdGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldE1pbkVuZFRpbWUgPSAoc3Vic3RhZ2UpID0+IHtcclxuICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgPT09IHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgIHJldHVybiBzdWJzdGFnZS5zdGFydFRpbWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGluZGV4LCBmaWVsZCwgdmFsdWUpID0+IHtcclxuICAgIGlmIChyZWFkT25seSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCB1cGRhdGVkTWF0ZXJpYWwgPSB7IC4uLm1hdGVyaWFsIH07XHJcbiAgICBjb25zdCBzdWJzdGFnZSA9IHVwZGF0ZWRNYXRlcmlhbC5zdWJzdGFnZXNbaW5kZXhdO1xyXG4gICAgXHJcbiAgICBpZiAoZmllbGQgPT09ICdzdGFydERhdGUnIHx8IGZpZWxkID09PSAnc3RhcnRUaW1lJyB8fCBmaWVsZCA9PT0gJ2VuZERhdGUnIHx8IGZpZWxkID09PSAnZW5kVGltZScpIHtcclxuICAgICAgaWYgKCF2YWxpZGF0ZURhdGVSYW5nZShzdWJzdGFnZSwgZmllbGQsIHZhbHVlLCBzdWJzdGFnZSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgc3Vic3RhZ2VbZmllbGRdID0gdmFsdWU7XHJcbiAgICBcclxuICAgIGlmICghdmFsaWRhdGVTdGFnZVNlcXVlbmNlKGluZGV4LCBmaWVsZCwgdmFsdWUsIHVwZGF0ZWRNYXRlcmlhbCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSAmJiBzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLnN0YXJ0RGF0ZX1UJHtzdWJzdGFnZS5zdGFydFRpbWV9YCk7XHJcbiAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2UuZW5kRGF0ZX1UJHtzdWJzdGFnZS5lbmRUaW1lfWApO1xyXG4gICAgICBjb25zdCBkaWZmSG91cnMgPSAoZW5kRGF0ZVRpbWUgLSBzdGFydERhdGVUaW1lKSAvICgxMDAwICogNjAgKiA2MCk7XHJcbiAgICAgIHN1YnN0YWdlLnRvdGFsSG91cnMgPSBkaWZmSG91cnMudG9GaXhlZCgxKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25VcGRhdGUodXBkYXRlZE1hdGVyaWFsKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0YWJsZS1zZWN0aW9uXCI+XHJcbiAgICAgIDxoMyBjbGFzc05hbWU9XCJ0YWJsZS10aXRsZVwiPnttYXRlcmlhbC5kaXNwbGF5TmFtZX0gQnVua2VyIFByb2Nlc3M8L2gzPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImVudHJ5LXRhYmxlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJlbnRyeS10YWJsZSB1bmlmaWVkLXBsYXRmb3JtLXRhYmxlXCI+XHJcbiAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5TdWJzdGFnZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIGNvbFNwYW49XCIyXCI+U3RhcnQ8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCBjb2xTcGFuPVwiMlwiPkVuZDwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+VG90YWwgSG91cnM8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPk1vaXN0dXJlICglKTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+VGVtcGVyYXR1cmUgKMKwQyk8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPlJlbWFya3M8L3RoPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgPHRoPkRhdGU8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aD5UaW1lPC90aD5cclxuICAgICAgICAgICAgICA8dGg+RGF0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoPlRpbWU8L3RoPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAge21hdGVyaWFsLnN1YnN0YWdlcy5tYXAoKHN1YnN0YWdlLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgIDx0ciBrZXk9e2luZGV4fT5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJzdWJzdGFnZS1uYW1lXCI+e3N1YnN0YWdlLm5hbWV9PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5zdGFydERhdGUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3N0YXJ0RGF0ZScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1heD17c3Vic3RhZ2UuZW5kRGF0ZSB8fCB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnN0YXJ0VGltZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnc3RhcnRUaW1lJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PXtzdWJzdGFnZS5zdGFydERhdGUgPT09IHN1YnN0YWdlLmVuZERhdGUgPyBzdWJzdGFnZS5lbmRUaW1lIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5lbmREYXRlIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdlbmREYXRlJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWluPXtnZXRNaW5FbmREYXRlKHN1YnN0YWdlKX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0aW1lXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UuZW5kVGltZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnZW5kVGltZScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj17Z2V0TWluRW5kVGltZShzdWJzdGFnZSl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnRvdGFsSG91cnMgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHlcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dCBob3Vycy1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBdXRvXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5tb2lzdHVyZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnbW9pc3R1cmUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXQgbW9pc3R1cmUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiJVwiXHJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PVwiMTAwXCJcclxuICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UudGVtcGVyYXR1cmUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3RlbXBlcmF0dXJlJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0IHRlbXBlcmF0dXJlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIsKwQ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PVwiMTAwXCJcclxuICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnJlbWFya3MgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3JlbWFya3MnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXQgcmVtYXJrcy1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBZGQgcmVtYXJrcy4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICApKX1cclxuICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59KTtcclxuXHJcbk1hdGVyaWFsVGFibGUuZGlzcGxheU5hbWUgPSAnTWF0ZXJpYWxUYWJsZSc7XHJcblxyXG5mdW5jdGlvbiBCYXRjaFNlbGVjdGlvbih7IG9uU2VsZWN0QmF0Y2gsIGxvYWRpbmcsIGVycm9yLCBpbml0aWFsQmF0Y2hOdW1iZXIsIGluaXRpYWxCYXRjaElkIH0pIHtcclxuICBjb25zdCBbYmF0Y2hOdW1iZXIsIHNldEJhdGNoTnVtYmVyXSA9IHVzZVN0YXRlKGluaXRpYWxCYXRjaE51bWJlciB8fCAnJyk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KCk7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XHJcbiAgY29uc3QgaGFzTG9hZGVkUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gQXV0by1sb2FkIGJhdGNoIGlmIGluaXRpYWxCYXRjaE51bWJlciBpcyBwcm92aWRlZFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaW5pdGlhbEJhdGNoTnVtYmVyICYmICFoYXNMb2FkZWRSZWYuY3VycmVudCAmJiAhbG9hZGluZykge1xyXG4gICAgICBzZXRCYXRjaE51bWJlcihpbml0aWFsQmF0Y2hOdW1iZXIpO1xyXG4gICAgICBoYW5kbGVMb2FkQmF0Y2goaW5pdGlhbEJhdGNoTnVtYmVyLCBpbml0aWFsQmF0Y2hJZCk7XHJcbiAgICAgIGhhc0xvYWRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIH1cclxuICB9LCBbaW5pdGlhbEJhdGNoTnVtYmVyLCBpbml0aWFsQmF0Y2hJZCwgbG9hZGluZ10pO1xyXG5cclxuICBjb25zdCBnZXRNYXRlcmlhbHNGcm9tQmF0Y2ggPSAoYmF0Y2hEYXRhKSA9PiB7XHJcbiAgICBjb25zdCBtYXRlcmlhbHMgPSBuZXcgU2V0KCk7XHJcbiAgICBcclxuICAgIGlmIChiYXRjaERhdGEgJiYgYmF0Y2hEYXRhLmZvcm11bGF0aW9uX2VudHJpZXMpIHtcclxuICAgICAgYmF0Y2hEYXRhLmZvcm11bGF0aW9uX2VudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWxOYW1lID0gZW50cnkubmFtZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChNQVRFUklBTF9UWVBFU1ttYXRlcmlhbE5hbWVdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIG1hdGVyaWFscy5hZGQobWF0ZXJpYWxOYW1lKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OMIEZvdW5kIG1hdGVyaWFsOiAke21hdGVyaWFsTmFtZX0gLT4gJHtNQVRFUklBTF9UWVBFU1ttYXRlcmlhbE5hbWVdfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBBcnJheS5mcm9tKG1hdGVyaWFscyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTG9hZEJhdGNoID0gYXN5bmMgKGJhdGNoTnVtLCBiYXRjaElkKSA9PiB7XHJcbiAgICBpZiAoIWJhdGNoTnVtLnRyaW0oKSkge1xyXG4gICAgICB0b2FzdC5lcnJvcignUGxlYXNlIGVudGVyIGEgYmF0Y2ggbnVtYmVyJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coYPCflI0gRmV0Y2hpbmcgYmF0Y2ggZGV0YWlscyBmb3I6ICR7YmF0Y2hOdW19IHdpdGggSUQ6ICR7YmF0Y2hJZCB8fCAndW5rbm93bid9YCk7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgc2VsZWN0ZWRCYXRjaCA9IG51bGw7XHJcbiAgICAgIGxldCBiYXRjaElkVG9Vc2UgPSBiYXRjaElkO1xyXG4gICAgICBcclxuICAgICAgLy8gSWYgYmF0Y2hJZCBpcyBwcm92aWRlZCwgd2UgY2FuIHVzZSBpdCBkaXJlY3RseVxyXG4gICAgICBpZiAoYmF0Y2hJZFRvVXNlKSB7XHJcbiAgICAgICAgLy8gVHJ5IHRvIGZldGNoIGJhdGNoIGRldGFpbHMgdXNpbmcgSURcclxuICAgICAgICBjb25zdCBiYXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFUQ0hfRkVUQ0hfRU5EUE9JTlR9LyR7YmF0Y2hJZFRvVXNlfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChiYXRjaFJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICBjb25zdCBiYXRjaFJlc3VsdCA9IGF3YWl0IGJhdGNoUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgc2VsZWN0ZWRCYXRjaCA9IGJhdGNoUmVzdWx0LmRhdGEgfHwgYmF0Y2hSZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGZldGNoaW5nIGFsbCBiYXRjaGVzXHJcbiAgICAgICAgICBjb25zdCBhbGxCYXRjaGVzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChCQVRDSF9GRVRDSF9FTkRQT0lOVCk7XHJcbiAgICAgICAgICBpZiAoYWxsQmF0Y2hlc1Jlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFsbEJhdGNoZXNSZXN1bHQgPSBhd2FpdCBhbGxCYXRjaGVzUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICBsZXQgYmF0Y2hlcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhbGxCYXRjaGVzUmVzdWx0KSkge1xyXG4gICAgICAgICAgICAgIGJhdGNoZXMgPSBhbGxCYXRjaGVzUmVzdWx0O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsbEJhdGNoZXNSZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgIGJhdGNoZXMgPSBhbGxCYXRjaGVzUmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZWN0ZWRCYXRjaCA9IGJhdGNoZXMuZmluZChiID0+IGIuaWQgPT09IGJhdGNoSWRUb1VzZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIE5vIGJhdGNoSWQgcHJvdmlkZWQsIGZldGNoIGJ5IGJhdGNoIG51bWJlclxyXG4gICAgICAgIGNvbnN0IGJhdGNoUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChCQVRDSF9GRVRDSF9FTkRQT0lOVCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFiYXRjaFJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBiYXRjaGVzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJhdGNoUmVzdWx0ID0gYXdhaXQgYmF0Y2hSZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGJhdGNoZXMgPSBbXTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShiYXRjaFJlc3VsdCkpIHtcclxuICAgICAgICAgIGJhdGNoZXMgPSBiYXRjaFJlc3VsdDtcclxuICAgICAgICB9IGVsc2UgaWYgKGJhdGNoUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgIGJhdGNoZXMgPSBiYXRjaFJlc3VsdC5kYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZWN0ZWRCYXRjaCA9IGJhdGNoZXMuZmluZChiID0+IGIuYmF0Y2hfbnVtYmVyID09PSBiYXRjaE51bS50cmltKCkpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNlbGVjdGVkQmF0Y2gpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcignQmF0Y2ggbnVtYmVyIG5vdCBmb3VuZCcpO1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEZvdW5kIGJhdGNoOicsIHNlbGVjdGVkQmF0Y2gpO1xyXG5cclxuICAgICAgY29uc3QgbWF0ZXJpYWxzID0gZ2V0TWF0ZXJpYWxzRnJvbUJhdGNoKHNlbGVjdGVkQmF0Y2gpO1xyXG5cclxuICAgICAgaWYgKG1hdGVyaWFscy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0b2FzdC5lcnJvcignTm8gc3VpdGFibGUgbWF0ZXJpYWxzIChCYWdhc3NlLCBXaGVhdCBTdHJhdywgb3IgUGFkZHkgU3RyYXcpIGZvdW5kIGluIHRoaXMgYmF0Y2gnKTtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCfk4sgTWF0ZXJpYWxzIHRvIHByb2Nlc3M6YCwgbWF0ZXJpYWxzKTtcclxuICAgICAgY29uc29sZS5sb2coYPCfk4sgTnVtYmVyIG9mIG1hdGVyaWFsIHRhYmxlczogJHttYXRlcmlhbHMubGVuZ3RofWApO1xyXG5cclxuICAgICAgY29uc3QgbmV3QmF0Y2ggPSBjcmVhdGVFbXB0eUJhdGNoKGJhdGNoTnVtLCBtYXRlcmlhbHMsIHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBuZXdCYXRjaC5iYXRjaERhdGEgPSBzZWxlY3RlZEJhdGNoO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogRmV0Y2hpbmcgYnVua2VyIGRhdGEgZm9yIGJhdGNoIElEOicsIHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBjb25zdCBzdHJhd0RhdGFSZXN1bHQgPSBhd2FpdCBmZXRjaEJhdGNoRGF0YShzZWxlY3RlZEJhdGNoLmlkKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChzdHJhd0RhdGFSZXN1bHQuc3VjY2VzcyAmJiBzdHJhd0RhdGFSZXN1bHQuZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OmIFJhdyBBUEkgZGF0YTonLCBzdHJhd0RhdGFSZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgY29uc3QgcG9wdWxhdGVkQmF0Y2ggPSBjb252ZXJ0QXBpUmVzcG9uc2VUb1VJKHN0cmF3RGF0YVJlc3VsdC5kYXRhLCBuZXdCYXRjaCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBQb3B1bGF0ZWQgYmF0Y2g6JywgcG9wdWxhdGVkQmF0Y2gpO1xyXG4gICAgICAgIG9uU2VsZWN0QmF0Y2gocG9wdWxhdGVkQmF0Y2gpO1xyXG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYExvYWRlZCBiYXRjaCAke2JhdGNoTnVtfSB3aXRoIGV4aXN0aW5nIGRhdGEgKCR7bWF0ZXJpYWxzLmxlbmd0aH0gbWF0ZXJpYWwgdGFibGUke21hdGVyaWFscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9KWApO1xyXG4gICAgICB9IGVsc2UgaWYgKHN0cmF3RGF0YVJlc3VsdC5zdWNjZXNzICYmICFzdHJhd0RhdGFSZXN1bHQuZGF0YSkge1xyXG4gICAgICAgIG9uU2VsZWN0QmF0Y2gobmV3QmF0Y2gpO1xyXG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYExvYWRlZCBiYXRjaCAke2JhdGNoTnVtfSAoJHttYXRlcmlhbHMubGVuZ3RofSBtYXRlcmlhbCB0YWJsZSR7bWF0ZXJpYWxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gLSBubyBleGlzdGluZyBkYXRhKWApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvYXN0Lndhcm5pbmcoYExvYWRlZCBiYXRjaCAke2JhdGNoTnVtfSBidXQgZmFpbGVkIHRvIGZldGNoIGV4aXN0aW5nIGRhdGFgKTtcclxuICAgICAgICBvblNlbGVjdEJhdGNoKG5ld0JhdGNoKTtcclxuICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgbG9hZGluZyBiYXRjaDonLCBlcnIpO1xyXG4gICAgICB0b2FzdC5lcnJvcignRXJyb3IgbG9hZGluZyBiYXRjaCBkZXRhaWxzLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDcmVhdGVOZXcgPSAoKSA9PiB7XHJcbiAgICBpZiAoaXNMb2FkaW5nIHx8IGxvYWRpbmcpIHJldHVybjtcclxuICAgIGhhbmRsZUxvYWRCYXRjaChiYXRjaE51bWJlcik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQmFja0NsaWNrID0gKCkgPT4ge1xyXG4gICAgLy8gQ2xlYXIgdGhlIFVSTCBwYXJhbXMgd2hlbiBnb2luZyBiYWNrXHJcbiAgICByb3V0ZXIucHVzaCgnL2J1bmtlci1tYW5hZ2VtZW50Jyk7XHJcbiAgICAvLyBDbGVhciB0aGUgYmF0Y2ggbnVtYmVyIGFuZCBhbGxvdyBuZXcgaW5wdXRcclxuICAgIHNldEJhdGNoTnVtYmVyKCcnKTtcclxuICAgIGhhc0xvYWRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmF0Y2gtc2VsZWN0aW9uXCI+XHJcbiAgICAgIDxoMj5CdW5rZXIgTWFuYWdlbWVudCBQcm9jZXNzIEVudHJ5PC9oMj5cclxuICAgICAgXHJcbiAgICAgIHtlcnJvciAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCI+XHJcbiAgICAgICAgICBFcnJvcjoge2Vycm9yfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgICBcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3Rpb24tcGFuZWxcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy1iYXRjaC1zZWN0aW9uXCI+XHJcbiAgICAgICAgICA8aDM+RW50ZXIgQmF0Y2ggTnVtYmVyPC9oMz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmF0Y2gtaW5wdXQtZ3JvdXBcIj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgQmF0Y2ggTnVtYmVyIChlLmcuLCBCQVRDSC0wMDEpXCJcclxuICAgICAgICAgICAgICB2YWx1ZT17YmF0Y2hOdW1iZXJ9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRCYXRjaE51bWJlcihlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmF0Y2gtaW5wdXRcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgbG9hZGluZ31cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDcmVhdGVOZXd9IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGxvYWRpbmd9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7aXNMb2FkaW5nIHx8IGxvYWRpbmcgPyAnTG9hZGluZy4uLicgOiAnTG9hZCBCYXRjaCd9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gQnVua2VyTWFuYWdlbWVudENvbnRlbnQoKSB7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xyXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpO1xyXG4gIGNvbnN0IFtjdXJyZW50QmF0Y2gsIHNldEN1cnJlbnRCYXRjaF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbc2F2ZWRCYXRjaGVzLCBzZXRTYXZlZEJhdGNoZXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtpbml0aWFsQmF0Y2hOdW1iZXIsIHNldEluaXRpYWxCYXRjaE51bWJlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbaW5pdGlhbEJhdGNoSWQsIHNldEluaXRpYWxCYXRjaElkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IGlzU2F2aW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gR2V0IGJhdGNoIG51bWJlciBhbmQgSUQgZnJvbSBVUkwgcGFyYW1zXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGJhdGNoTnVtID0gc2VhcmNoUGFyYW1zLmdldCgnYmF0Y2gnKTtcclxuICAgIGNvbnN0IGJhdGNoSWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdiYXRjaElkJyk7XHJcbiAgICBcclxuICAgIGlmIChiYXRjaE51bSkge1xyXG4gICAgICBzZXRJbml0aWFsQmF0Y2hOdW1iZXIoYmF0Y2hOdW0pO1xyXG4gICAgICBzZXRJbml0aWFsQmF0Y2hJZChiYXRjaElkKTtcclxuICAgIH1cclxuICB9LCBbc2VhcmNoUGFyYW1zXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNlbGVjdEJhdGNoID0gKGJhdGNoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFNldHRpbmcgY3VycmVudCBiYXRjaDonLCBiYXRjaCk7XHJcbiAgICBzZXRDdXJyZW50QmF0Y2goYmF0Y2gpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVVwZGF0ZU1hdGVyaWFsID0gdXNlQ2FsbGJhY2soKGluZGV4LCB1cGRhdGVkTWF0ZXJpYWwpID0+IHtcclxuICAgIHNldEN1cnJlbnRCYXRjaChwcmV2QmF0Y2ggPT4ge1xyXG4gICAgICBpZiAoIXByZXZCYXRjaCkgcmV0dXJuIHByZXZCYXRjaDtcclxuICAgICAgY29uc3QgdXBkYXRlZE1hdGVyaWFscyA9IFsuLi5wcmV2QmF0Y2gubWF0ZXJpYWxzXTtcclxuICAgICAgdXBkYXRlZE1hdGVyaWFsc1tpbmRleF0gPSB1cGRhdGVkTWF0ZXJpYWw7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4ucHJldkJhdGNoLFxyXG4gICAgICAgIG1hdGVyaWFsczogdXBkYXRlZE1hdGVyaWFsc1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCB2YWxpZGF0ZUJhdGNoRGF0YSA9IChiYXRjaCkgPT4ge1xyXG4gICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiBiYXRjaC5tYXRlcmlhbHMpIHtcclxuICAgICAgLy8gVmFsaWRhdGUgbWFpbiBzdWJzdGFnZXNcclxuICAgICAgZm9yIChjb25zdCBzdWJzdGFnZSBvZiBtYXRlcmlhbC5zdWJzdGFnZXMpIHtcclxuICAgICAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSAmJiBzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5zdGFydERhdGV9VCR7c3Vic3RhZ2Uuc3RhcnRUaW1lfWApO1xyXG4gICAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5lbmREYXRlfVQke3N1YnN0YWdlLmVuZFRpbWV9YCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChzdGFydERhdGVUaW1lID4gZW5kRGF0ZVRpbWUpIHtcclxuICAgICAgICAgICAgdG9hc3QuZXJyb3IoYCR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IC0gJHtzdWJzdGFnZS5uYW1lfTogRW5kIGRhdGUvdGltZSBjYW5ub3QgYmUgYmVmb3JlIHN0YXJ0IGRhdGUvdGltZWApO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICgoc3Vic3RhZ2Uuc3RhcnREYXRlIHx8IHN1YnN0YWdlLnN0YXJ0VGltZSkgJiYgKCFzdWJzdGFnZS5zdGFydERhdGUgfHwgIXN1YnN0YWdlLnN0YXJ0VGltZSkpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGBQbGVhc2UgY29tcGxldGUgYm90aCBkYXRlIGFuZCB0aW1lIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtICR7c3Vic3RhZ2UubmFtZX0gc3RhcnRgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChzdWJzdGFnZS5lbmREYXRlIHx8IHN1YnN0YWdlLmVuZFRpbWUpICYmICghc3Vic3RhZ2UuZW5kRGF0ZSB8fCAhc3Vic3RhZ2UuZW5kVGltZSkpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGBQbGVhc2UgY29tcGxldGUgYm90aCBkYXRlIGFuZCB0aW1lIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAtICR7c3Vic3RhZ2UubmFtZX0gZW5kYCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXZhbGlkYXRlU3RhZ2VTZXF1ZW5jaW5nKG1hdGVyaWFsLCB0b2FzdCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNhdmUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWN1cnJlbnRCYXRjaCB8fCBpc1NhdmluZ1JlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdcXG49PT09PT09PT09IPCfmoAgU0FWRSBTVEFSVEVEID09PT09PT09PT0nKTtcclxuICAgIGNvbnNvbGUubG9nKGBCYXRjaDogJHtjdXJyZW50QmF0Y2guYmF0Y2hOdW1iZXJ9IChJRDogJHtjdXJyZW50QmF0Y2guaWR9KWApO1xyXG4gICAgY29uc29sZS5sb2coYFRvdGFsIG1hdGVyaWFsczogJHtjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLmxlbmd0aH1gKTtcclxuXHJcbiAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuICAgICAgbGV0IGhhc0FueURhdGFUb1NhdmUgPSBmYWxzZTtcclxuICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XHJcbiAgICAgIGxldCBmYWlsQ291bnQgPSAwO1xyXG4gICAgICBcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBjdXJyZW50QmF0Y2gubWF0ZXJpYWxzW2ldO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBcXG4tLS0g8J+TnSBQcm9jZXNzaW5nIG1hdGVyaWFsICR7aSsxfS8ke2N1cnJlbnRCYXRjaC5tYXRlcmlhbHMubGVuZ3RofTogJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gLS0tYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgbWF0ZXJpYWwgaGFzIGNvbXBsZXRlIGRhdGFcclxuICAgICAgICBpZiAoaGFzQ29tcGxldGVNYXRlcmlhbERhdGEobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gY29udmVydFRvQXBpUGF5bG9hZChjdXJyZW50QmF0Y2gsIG1hdGVyaWFsLCBmYWxzZSk7XHJcbiAgICAgICAgICBpZiAocGF5bG9hZCkge1xyXG4gICAgICAgICAgICBoYXNBbnlEYXRhVG9TYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk6QgTWFraW5nIEFQSSBjYWxsIGZvciAke21hdGVyaWFsLmRpc3BsYXlOYW1lfSAoJHttYXRlcmlhbC50eXBlfSlgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRUb0FwaShwYXlsb2FkLCBtYXRlcmlhbC50eXBlLCBtYXRlcmlhbC5kaXNwbGF5TmFtZSk7XHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7IC4uLnJlc3VsdCwgbWF0ZXJpYWxJbmRleDogaSwgbWF0ZXJpYWxUeXBlOiBtYXRlcmlhbC50eXBlIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmRhdGEgJiYgcmVzdWx0LmRhdGEuZGF0YS5pZCkge1xyXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEJhdGNoKHByZXZCYXRjaCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRNYXRlcmlhbHMgPSBbLi4ucHJldkJhdGNoLm1hdGVyaWFsc107XHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRNYXRlcmlhbHNbaV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4udXBkYXRlZE1hdGVyaWFsc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICByZWNvcmRJZDogcmVzdWx0LmRhdGEuZGF0YS5pZCxcclxuICAgICAgICAgICAgICAgICAgICBoYXNFeGlzdGluZ0RhdGE6IHRydWVcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5wcmV2QmF0Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxzOiB1cGRhdGVkTWF0ZXJpYWxzXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhgJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gZGF0YSBzYXZlZCBzdWNjZXNzZnVsbHkhYCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgZmFpbENvdW50Kys7XHJcbiAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoYEZhaWxlZCB0byBzYXZlICR7bWF0ZXJpYWwuZGlzcGxheU5hbWV9IGRhdGE6ICR7cmVzdWx0LmVycm9yfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDij63vuI8gJHttYXRlcmlhbC5kaXNwbGF5TmFtZX0gaGFzIGluY29tcGxldGUgZGF0YSwgc2tpcHBpbmdgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdcXG49PT09PT09PT09IPCfk4ogU0FWRSBTVU1NQVJZID09PT09PT09PT0nKTtcclxuICAgICAgY29uc29sZS5sb2coYFRvdGFsIEFQSSBjYWxscyBhdHRlbXB0ZWQ6ICR7cmVzdWx0cy5sZW5ndGh9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgU3VjY2Vzc2Z1bDogJHtzdWNjZXNzQ291bnR9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinYwgRmFpbGVkOiAke2ZhaWxDb3VudH1gKTtcclxuICAgICAgY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG4nKTtcclxuXHJcbiAgICAgIGlmICghaGFzQW55RGF0YVRvU2F2ZSkge1xyXG4gICAgICAgIHRvYXN0LmluZm8oJ05vIGNvbXBsZXRlIGRhdGEgdG8gc2F2ZS4gUGxlYXNlIGZpbGwgaW4gYWxsIHJlcXVpcmVkIGZpZWxkcyBmb3IgYXQgbGVhc3Qgb25lIG1hdGVyaWFsLicpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBzYXZlZEJhdGNoZXMuZmluZEluZGV4KGIgPT4gYi5pZCA9PT0gY3VycmVudEJhdGNoLmlkKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChleGlzdGluZ0luZGV4ID49IDApIHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnNhdmVkQmF0Y2hlc107XHJcbiAgICAgICAgdXBkYXRlZFtleGlzdGluZ0luZGV4XSA9IHsgLi4uY3VycmVudEJhdGNoLCBzdGF0dXM6ICdkcmFmdCcgfTtcclxuICAgICAgICBzZXRTYXZlZEJhdGNoZXModXBkYXRlZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0U2F2ZWRCYXRjaGVzKFsuLi5zYXZlZEJhdGNoZXMsIHsgLi4uY3VycmVudEJhdGNoLCBzdGF0dXM6ICdkcmFmdCcgfV0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBhbGxTdWNjZXNzID0gcmVzdWx0cy5ldmVyeShyID0+IHIuc3VjY2Vzcyk7XHJcbiAgICAgIGlmIChhbGxTdWNjZXNzKSB7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgQWxsICR7c3VjY2Vzc0NvdW50fSBtYXRlcmlhbCBkYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseSFgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b2FzdC53YXJuaW5nKGAke3N1Y2Nlc3NDb3VudH0gbWF0ZXJpYWwocykgc2F2ZWQgc3VjY2Vzc2Z1bGx5LCAke2ZhaWxDb3VudH0gZmFpbGVkYCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBiYXRjaCBkYXRhJyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTYXZlIGVycm9yOicsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUJhY2tUb1NlbGVjdGlvbiA9ICgpID0+IHtcclxuICAgIC8vIENsZWFyIHRoZSBjdXJyZW50IGJhdGNoIHRvIHNob3cgdGhlIHNlbGVjdGlvbiBVSVxyXG4gICAgc2V0Q3VycmVudEJhdGNoKG51bGwpO1xyXG4gICAgLy8gQ2xlYXIgVVJMIHBhcmFtcyB3aGVuIGdvaW5nIGJhY2tcclxuICAgIHJvdXRlci5wdXNoKCcvYnVua2VyLW1hbmFnZW1lbnQnKTtcclxuICAgIC8vIENsZWFyIGFueSBzYXZlZCBzdGF0ZVxyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAvLyBSZXNldCB0aGUgaW5pdGlhbCBiYXRjaCBudW1iZXIgc3RhdGUgaWYgbmVlZGVkXHJcbiAgICBzZXRJbml0aWFsQmF0Y2hOdW1iZXIobnVsbCk7XHJcbiAgICBzZXRJbml0aWFsQmF0Y2hJZChudWxsKTtcclxuICB9O1xyXG5cclxuICBpZiAoIWN1cnJlbnRCYXRjaCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEFwcExheW91dCB0aXRsZT1cIkJ1bmtlciBNYW5hZ2VtZW50XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1bmlmaWVkLXBsYXRmb3JtLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgPEJhdGNoU2VsZWN0aW9uIFxyXG4gICAgICAgICAgICBvblNlbGVjdEJhdGNoPXtoYW5kbGVTZWxlY3RCYXRjaH1cclxuICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cclxuICAgICAgICAgICAgZXJyb3I9e2Vycm9yfVxyXG4gICAgICAgICAgICBpbml0aWFsQmF0Y2hOdW1iZXI9e2luaXRpYWxCYXRjaE51bWJlcn1cclxuICAgICAgICAgICAgaW5pdGlhbEJhdGNoSWQ9e2luaXRpYWxCYXRjaElkfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9BcHBMYXlvdXQ+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxBcHBMYXlvdXQgdGl0bGU9XCJCdW5rZXIgTWFuYWdlbWVudFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVuaWZpZWQtcGxhdGZvcm0tY29udGFpbmVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbnRyeS1oZWFkZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWxlZnRcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVCYWNrVG9TZWxlY3Rpb259IGNsYXNzTmFtZT1cImJhY2stYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgPEFycm93QmFja0ljb24vPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGgyPntjdXJyZW50QmF0Y2guYmF0Y2hOdW1iZXJ9PC9oMj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtY291bnRcIj5cclxuICAgICAgICAgICAgICAoe2N1cnJlbnRCYXRjaC5tYXRlcmlhbHMubGVuZ3RofSBtYXRlcmlhbCB0YWJsZXtjdXJyZW50QmF0Y2gubWF0ZXJpYWxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30pXHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItYWN0aW9uc1wiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmV9IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1zYXZlXCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz5cclxuICAgICAgICAgICAgICB7bG9hZGluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUnfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7Y3VycmVudEJhdGNoLm1hdGVyaWFscy5tYXAoKG1hdGVyaWFsLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgPE1hdGVyaWFsVGFibGUgXHJcbiAgICAgICAgICAgIGtleT17YCR7bWF0ZXJpYWwudHlwZX0tJHtpbmRleH0tJHttYXRlcmlhbC5yZWNvcmRJZCB8fCAnbmV3J31gfVxyXG4gICAgICAgICAgICBtYXRlcmlhbD17bWF0ZXJpYWx9XHJcbiAgICAgICAgICAgIG9uVXBkYXRlPXsodXBkYXRlZCkgPT4gaGFuZGxlVXBkYXRlTWF0ZXJpYWwoaW5kZXgsIHVwZGF0ZWQpfVxyXG4gICAgICAgICAgICByZWFkT25seT17ZmFsc2V9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICkpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvQXBwTGF5b3V0PlxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJ1bmtlck1hbmFnZW1lbnQoKSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxUb2FzdFByb3ZpZGVyPlxyXG4gICAgICA8QnVua2VyTWFuYWdlbWVudENvbnRlbnQgLz5cclxuICAgIDwvVG9hc3RQcm92aWRlcj5cclxuICApO1xyXG59XHJcblxyXG4vLyBpZiAyIHRhYmxlcyBjb21lIGNvbWJpbmUgMiBhbmQgaSBuZWVkIDEgdGFibGUgIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZVJvdXRlciIsInVzZVNlYXJjaFBhcmFtcyIsIkFwcExheW91dCIsIlRvYXN0UHJvdmlkZXIiLCJ1c2VUb2FzdCIsIlNhdmVJY29uIiwiQXJyb3dGb3J3YXJkSWNvbiIsIkFycm93QmFja0ljb24iLCJNQVRFUklBTF9UWVBFUyIsIk1BVEVSSUFMX0RJU1BMQVlfTkFNRVMiLCJBUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkFQSV9FTkRQT0lOVCIsIkFQSV9GRVRDSF9FTkRQT0lOVCIsIkJBVENIX0ZFVENIX0VORFBPSU5UIiwiU1RBR0VfTkFNRVMiLCJjcmVhdGVFbXB0eVN1YnN0YWdlIiwibmFtZSIsImluY2x1ZGVNb2lzdHVyZSIsInN0YXJ0RGF0ZSIsInN0YXJ0VGltZSIsImVuZERhdGUiLCJlbmRUaW1lIiwidG90YWxIb3VycyIsIm1vaXN0dXJlIiwidGVtcGVyYXR1cmUiLCJyZW1hcmtzIiwiY3JlYXRlRW1wdHlCYXRjaCIsImJhdGNoTnVtYmVyIiwibWF0ZXJpYWxzIiwiYmF0Y2hJZCIsImJhdGNoIiwiaWQiLCJEYXRlIiwibm93IiwiYmF0Y2hEYXRhIiwiZXhpc3RpbmdSZWNvcmRzIiwiZm9yRWFjaCIsIm1hdGVyaWFsIiwiYXBpU3RyYXdUeXBlIiwidW5kZWZpbmVkIiwicHVzaCIsInR5cGUiLCJkaXNwbGF5TmFtZSIsInJlY29yZElkIiwiaGFzRXhpc3RpbmdEYXRhIiwic3Vic3RhZ2VzIiwibWFwIiwicGFyc2VEYXRlVGltZSIsImRhdGV0aW1lIiwiZGF0ZSIsInRpbWUiLCJpc05hTiIsImdldFRpbWUiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aCIsIlN0cmluZyIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJnZXREYXRlIiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnV0ZXMiLCJnZXRNaW51dGVzIiwiZXJyb3IiLCJjb25zb2xlIiwiY2FsY3VsYXRlSG91cnMiLCJzdGFydERhdGVUaW1lIiwiZW5kRGF0ZVRpbWUiLCJzdGFydCIsImVuZCIsImRpZmZIb3VycyIsInRvRml4ZWQiLCJmZXRjaEJhdGNoRGF0YSIsImxvZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInN0YXR1cyIsInN1Y2Nlc3MiLCJkYXRhIiwiRXJyb3IiLCJyZXNwb25zZURhdGEiLCJqc29uIiwiaXRlbXMiLCJBcnJheSIsImlzQXJyYXkiLCJiYXRjaF9pZCIsIm1lc3NhZ2UiLCJmZXRjaEJhdGNoRGV0YWlscyIsImNvbWJpbmVEYXRlVGltZSIsImRhdGVUaW1lU3RyIiwidG9JU09TdHJpbmciLCJoYXNTdWJzdGFnZURhdGEiLCJzdWJzdGFnZSIsInZhbGlkYXRlU3RhZ2VTZXF1ZW5jaW5nIiwidG9hc3QiLCJpIiwibGVuZ3RoIiwiY3VycmVudFN0YWdlIiwibmV4dFN0YWdlIiwiY3VycmVudEVuZCIsIm5leHRTdGFydCIsImhhc0NvbXBsZXRlTWF0ZXJpYWxEYXRhIiwiaGFzTWFpbkRhdGEiLCJzb21lIiwiY29udmVydFRvQXBpUGF5bG9hZCIsImlzQ29tcGxldGVkIiwiYnVua2VyMSIsImJ1bmtlcjFSZXN0IiwiYnVua2VyMiIsImJ1bmtlcjJSZXN0IiwiYnVua2VyMyIsImJ1bmtlcjNSZXN0IiwiZm9ybWF0RGF0ZVRpbWUiLCJzZWNvbmRzIiwiZ2V0U2Vjb25kcyIsImJ1bmtlcjFfc3RhcnQiLCJidW5rZXIxX2VuZCIsImJ1bmtlcjFfcmVzdF9zdGFydCIsImJ1bmtlcjFfcmVzdF9lbmQiLCJidW5rZXIyX3N0YXJ0IiwiYnVua2VyMl9lbmQiLCJidW5rZXIyX3Jlc3Rfc3RhcnQiLCJidW5rZXIyX3Jlc3RfZW5kIiwiYnVua2VyM19zdGFydCIsImJ1bmtlcjNfZW5kIiwiYnVua2VyM19yZXN0X3N0YXJ0IiwiYnVua2VyM19yZXN0X2VuZCIsImFsbFN0YXJ0cyIsImZpbHRlciIsIm92ZXJhbGxfc3RhcnRfdGltZSIsIk1hdGgiLCJtaW4iLCJkIiwicGF5bG9hZCIsInN0cmF3X3R5cGUiLCJzdGFydF90aW1lIiwiaXNjb21wbGV0ZWQiLCJidW5rZXJfcHJvY2VzczEiLCJlbmRfdGltZSIsInBhcnNlSW50IiwiYnVua2VyX3Byb2Nlc3MxX3Jlc3QiLCJidW5rZXJfcHJvY2VzczIiLCJidW5rZXJfcHJvY2VzczJfcmVzdCIsImJ1bmtlcl9wcm9jZXNzMyIsImJ1bmtlcl9wcm9jZXNzM19yZXN0IiwiT2JqZWN0Iiwia2V5cyIsImtleSIsInN1YktleSIsImNvbnZlcnRBcGlSZXNwb25zZVRvVUkiLCJhcGlEYXRhIiwibWF0ZXJpYWxEYXRhIiwiZmluZCIsInN1YnN0YWdlTWFwcGluZyIsIm1hcHBpbmciLCJpbmRleCIsImR1cmF0aW9uX2hvdXJzIiwidG9TdHJpbmciLCJzZW5kVG9BcGkiLCJtYXRlcmlhbFR5cGUiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvckRhdGEiLCJjYXRjaCIsImRldGFpbCIsImVycm9yTWVzc2FnZSIsImVyciIsIm1zZyIsImpvaW4iLCJyZXN1bHQiLCJNYXRlcmlhbFRhYmxlIiwibWVtbyIsIm9uVXBkYXRlIiwicmVhZE9ubHkiLCJ2YWxpZGF0ZURhdGVSYW5nZSIsImZpZWxkIiwibmV3VmFsdWUiLCJjdXJyZW50U3Vic3RhZ2UiLCJuZXdTdGFydERhdGVUaW1lIiwibmV3RW5kRGF0ZVRpbWUiLCJ2YWxpZGF0ZVN0YWdlU2VxdWVuY2UiLCJ2YWx1ZSIsInVwZGF0ZWRNYXRlcmlhbCIsInRlbXBTdWJzdGFnZSIsInN0YWdlSW5kZXgiLCJwcmV2U3RhZ2UiLCJwcmV2RW5kIiwiY3VycmVudFN0YXJ0IiwiZ2V0TWluRW5kRGF0ZSIsImdldE1pbkVuZFRpbWUiLCJoYW5kbGVJbnB1dENoYW5nZSIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwidGFibGUiLCJ0aGVhZCIsInRyIiwidGgiLCJyb3dTcGFuIiwiY29sU3BhbiIsInRib2R5IiwidGQiLCJpbnB1dCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImRpc2FibGVkIiwibWF4IiwicGxhY2Vob2xkZXIiLCJzdGVwIiwiQmF0Y2hTZWxlY3Rpb24iLCJvblNlbGVjdEJhdGNoIiwibG9hZGluZyIsImluaXRpYWxCYXRjaE51bWJlciIsImluaXRpYWxCYXRjaElkIiwic2V0QmF0Y2hOdW1iZXIiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJyb3V0ZXIiLCJzZWFyY2hQYXJhbXMiLCJoYXNMb2FkZWRSZWYiLCJjdXJyZW50IiwiaGFuZGxlTG9hZEJhdGNoIiwiZ2V0TWF0ZXJpYWxzRnJvbUJhdGNoIiwiU2V0IiwiZm9ybXVsYXRpb25fZW50cmllcyIsImVudHJ5IiwibWF0ZXJpYWxOYW1lIiwidG9VcHBlckNhc2UiLCJhZGQiLCJmcm9tIiwiYmF0Y2hOdW0iLCJ0cmltIiwic2VsZWN0ZWRCYXRjaCIsImJhdGNoSWRUb1VzZSIsImJhdGNoUmVzcG9uc2UiLCJiYXRjaFJlc3VsdCIsImFsbEJhdGNoZXNSZXNwb25zZSIsImFsbEJhdGNoZXNSZXN1bHQiLCJiYXRjaGVzIiwiYiIsImJhdGNoX251bWJlciIsIm5ld0JhdGNoIiwic3RyYXdEYXRhUmVzdWx0IiwicG9wdWxhdGVkQmF0Y2giLCJ3YXJuaW5nIiwiaGFuZGxlQ3JlYXRlTmV3IiwiaGFuZGxlQmFja0NsaWNrIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwiQnVua2VyTWFuYWdlbWVudENvbnRlbnQiLCJjdXJyZW50QmF0Y2giLCJzZXRDdXJyZW50QmF0Y2giLCJzYXZlZEJhdGNoZXMiLCJzZXRTYXZlZEJhdGNoZXMiLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJzZXRJbml0aWFsQmF0Y2hOdW1iZXIiLCJzZXRJbml0aWFsQmF0Y2hJZCIsImlzU2F2aW5nUmVmIiwiZ2V0IiwiaGFuZGxlU2VsZWN0QmF0Y2giLCJoYW5kbGVVcGRhdGVNYXRlcmlhbCIsInByZXZCYXRjaCIsInVwZGF0ZWRNYXRlcmlhbHMiLCJ2YWxpZGF0ZUJhdGNoRGF0YSIsImhhbmRsZVNhdmUiLCJyZXN1bHRzIiwiaGFzQW55RGF0YVRvU2F2ZSIsInN1Y2Nlc3NDb3VudCIsImZhaWxDb3VudCIsIm1hdGVyaWFsSW5kZXgiLCJpbmZvIiwiZXhpc3RpbmdJbmRleCIsImZpbmRJbmRleCIsInVwZGF0ZWQiLCJhbGxTdWNjZXNzIiwiZXZlcnkiLCJyIiwic2V0VGltZW91dCIsImhhbmRsZUJhY2tUb1NlbGVjdGlvbiIsInRpdGxlIiwic3BhbiIsImZvbnRTaXplIiwiQnVua2VyTWFuYWdlbWVudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(pages)/bunker-management/page.jsx\n"));

/***/ })

});