"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(pages)/bunker-management/page",{

/***/ "(app-pages-browser)/./app/(pages)/bunker-management/page.jsx":
/*!************************************************!*\
  !*** ./app/(pages)/bunker-management/page.jsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BunkerManagement)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/AppLayout */ \"(app-pages-browser)/./app/components/AppLayout.jsx\");\n/* harmony import */ var _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/common/Toaster */ \"(app-pages-browser)/./app/components/common/Toaster.jsx\");\n/* harmony import */ var _styles_pages_unified_platform_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../styles/pages/unified-platform.css */ \"(app-pages-browser)/./app/styles/pages/unified-platform.css\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/Save */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/ArrowBack */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowBack.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst MATERIAL_TYPES = {\n    'BAGASSE': 'BAGASSE',\n    'WHEAT STRAW': 'WHEAT',\n    'PADDY STRAW': 'PADDY'\n};\nconst MATERIAL_DISPLAY_NAMES = {\n    'BAGASSE': 'Bagasse',\n    'WHEAT': 'Wheat Straw',\n    'PADDY': 'Paddy Straw'\n};\nconst API_BASE_URL = \"http://192.168.1.148:8000\";\nconst API_ENDPOINT = \"\".concat(API_BASE_URL, \"/bunker-process-logs\");\nconst API_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/bunker-process-logs\");\nconst BATCH_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/batches\");\nconst STAGE_NAMES = [\n    \"Bunker Process 1\",\n    \"Bunker Process 1 Rest\",\n    \"Bunker Process 2\",\n    \"Bunker Process 2 Rest\",\n    \"Bunker Process 3\",\n    \"Bunker Process 3 Rest\"\n];\n// Single table structure - one row per substage for ALL materials combined\nconst createEmptySubstage = (name)=>({\n        name: name,\n        startDate: '',\n        startTime: '',\n        endDate: '',\n        endTime: '',\n        totalHours: '',\n        moisture: '',\n        temperature: '',\n        remarks: ''\n    });\nconst createEmptyBatch = function(batchNumber) {\n    let materials = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], batchId = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n    // Store the list of materials present\n    const materialTypes = materials.map((m)=>MATERIAL_TYPES[m]).filter(Boolean);\n    const materialDisplayNames = materialTypes.map((t)=>MATERIAL_DISPLAY_NAMES[t]);\n    const batch = {\n        id: batchId || Date.now(),\n        batchNumber: batchNumber,\n        materialTypes: materialTypes,\n        materialDisplayNames: materialDisplayNames,\n        batchData: null,\n        existingRecords: {},\n        // Single set of substages for the combined table\n        substages: STAGE_NAMES.map((name)=>createEmptySubstage(name))\n    };\n    return batch;\n};\nconst parseDateTime = (datetime)=>{\n    if (!datetime) return {\n        date: '',\n        time: ''\n    };\n    try {\n        const date = new Date(datetime);\n        if (isNaN(date.getTime())) return {\n            date: '',\n            time: ''\n        };\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        const hours = String(date.getHours()).padStart(2, '0');\n        const minutes = String(date.getMinutes()).padStart(2, '0');\n        return {\n            date: \"\".concat(year, \"-\").concat(month, \"-\").concat(day),\n            time: \"\".concat(hours, \":\").concat(minutes)\n        };\n    } catch (error) {\n        console.error('Error parsing datetime:', error);\n        return {\n            date: '',\n            time: ''\n        };\n    }\n};\nconst fetchBatchData = async (batchId)=>{\n    try {\n        console.log(\"\\uD83D\\uDCCA Fetching bunker data for batch ID: \".concat(batchId));\n        const response = await fetch(\"\".concat(API_FETCH_ENDPOINT));\n        if (!response.ok) {\n            if (response.status === 404) {\n                console.log('ðŸ“­ No existing bunker data found for batch');\n                return {\n                    success: true,\n                    data: null\n                };\n            }\n            throw new Error(\"Failed to fetch bunker data: \".concat(response.status));\n        }\n        const responseData = await response.json();\n        console.log('ðŸ“¦ Fetched bunker data:', responseData);\n        if (responseData.success && responseData.data && responseData.data.items) {\n            return {\n                success: true,\n                data: responseData.data.items\n            };\n        }\n        if (responseData.data && Array.isArray(responseData.data)) {\n            return {\n                success: true,\n                data: responseData.data\n            };\n        }\n        if (Array.isArray(responseData)) {\n            return {\n                success: true,\n                data: responseData\n            };\n        }\n        return {\n            success: true,\n            data: null\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching bunker data:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst fetchBatchDetails = async (batchId)=>{\n    try {\n        const response = await fetch(\"\".concat(BATCH_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch batch details: \".concat(response.status));\n        }\n        const data = await response.json();\n        return {\n            success: true,\n            data\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching batch details:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst combineDateTime = (date, time)=>{\n    if (!date || !time) return null;\n    try {\n        const dateTimeStr = \"\".concat(date, \"T\").concat(time, \":00\");\n        const datetime = new Date(dateTimeStr);\n        if (isNaN(datetime.getTime())) return null;\n        return datetime.toISOString();\n    } catch (error) {\n        console.error('Error combining datetime:', error);\n        return null;\n    }\n};\nconst hasSubstageData = (substage)=>{\n    return substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.moisture || substage.temperature || substage.remarks;\n};\nconst validateStageSequencing = (substages, toast)=>{\n    for(let i = 0; i < substages.length - 1; i++){\n        const currentStage = substages[i];\n        const nextStage = substages[i + 1];\n        if (!currentStage.endDate || !currentStage.endTime || !nextStage.startDate || !nextStage.startTime) {\n            continue;\n        }\n        const currentEnd = combineDateTime(currentStage.endDate, currentStage.endTime);\n        const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n        if (currentEnd && nextStart) {\n            if (new Date(currentEnd) > new Date(nextStart)) {\n                toast.error(\"\".concat(nextStage.name, \" must start after \").concat(currentStage.name, \" ends\"));\n                return false;\n            }\n        }\n    }\n    return true;\n};\nconst hasCompleteData = (substages)=>{\n    // Check if any data exists\n    const hasAnyData = substages.some((substage)=>substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.moisture || substage.temperature || substage.remarks);\n    if (!hasAnyData) {\n        console.log('ðŸ“ No data entered');\n        return false;\n    }\n    // Check each substage for completeness\n    for (const substage of substages){\n        if (substage.startDate && !substage.startTime) {\n            console.log(\"\\uD83D\\uDCDD Incomplete start data in \".concat(substage.name, \" (date without time)\"));\n            return false;\n        }\n        if (substage.startTime && !substage.startDate) {\n            console.log(\"\\uD83D\\uDCDD Incomplete start data in \".concat(substage.name, \" (time without date)\"));\n            return false;\n        }\n        if (substage.endDate && !substage.endTime) {\n            console.log(\"\\uD83D\\uDCDD Incomplete end data in \".concat(substage.name, \" (date without time)\"));\n            return false;\n        }\n        if (substage.endTime && !substage.endDate) {\n            console.log(\"\\uD83D\\uDCDD Incomplete end data in \".concat(substage.name, \" (time without date)\"));\n            return false;\n        }\n    }\n    console.log('âœ… Has valid data to save');\n    return true;\n};\nconst convertToApiPayload = (batch, materialType, isCompleted)=>{\n    const substages = batch.substages;\n    const bunker1 = substages[0] || createEmptySubstage(\"Bunker Process 1\");\n    const bunker1Rest = substages[1] || createEmptySubstage(\"Bunker Process 1 Rest\");\n    const bunker2 = substages[2] || createEmptySubstage(\"Bunker Process 2\");\n    const bunker2Rest = substages[3] || createEmptySubstage(\"Bunker Process 2 Rest\");\n    const bunker3 = substages[4] || createEmptySubstage(\"Bunker Process 3\");\n    const bunker3Rest = substages[5] || createEmptySubstage(\"Bunker Process 3 Rest\");\n    // Helper function to format datetime without milliseconds and timezone\n    const formatDateTime = (dateTimeStr)=>{\n        if (!dateTimeStr) return null;\n        try {\n            const date = new Date(dateTimeStr);\n            if (isNaN(date.getTime())) return null;\n            const year = date.getFullYear();\n            const month = String(date.getMonth() + 1).padStart(2, '0');\n            const day = String(date.getDate()).padStart(2, '0');\n            const hours = String(date.getHours()).padStart(2, '0');\n            const minutes = String(date.getMinutes()).padStart(2, '0');\n            const seconds = String(date.getSeconds()).padStart(2, '0');\n            return \"\".concat(year, \"-\").concat(month, \"-\").concat(day, \"T\").concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n        } catch (error) {\n            console.error('Error formatting datetime:', error);\n            return null;\n        }\n    };\n    // Only combine dates if both date and time exist\n    const bunker1_start = bunker1.startDate && bunker1.startTime ? combineDateTime(bunker1.startDate, bunker1.startTime) : null;\n    const bunker1_end = bunker1.endDate && bunker1.endTime ? combineDateTime(bunker1.endDate, bunker1.endTime) : null;\n    const bunker1_rest_start = bunker1Rest.startDate && bunker1Rest.startTime ? combineDateTime(bunker1Rest.startDate, bunker1Rest.startTime) : null;\n    const bunker1_rest_end = bunker1Rest.endDate && bunker1Rest.endTime ? combineDateTime(bunker1Rest.endDate, bunker1Rest.endTime) : null;\n    const bunker2_start = bunker2.startDate && bunker2.startTime ? combineDateTime(bunker2.startDate, bunker2.startTime) : null;\n    const bunker2_end = bunker2.endDate && bunker2.endTime ? combineDateTime(bunker2.endDate, bunker2.endTime) : null;\n    const bunker2_rest_start = bunker2Rest.startDate && bunker2Rest.startTime ? combineDateTime(bunker2Rest.startDate, bunker2Rest.startTime) : null;\n    const bunker2_rest_end = bunker2Rest.endDate && bunker2Rest.endTime ? combineDateTime(bunker2Rest.endDate, bunker2Rest.endTime) : null;\n    const bunker3_start = bunker3.startDate && bunker3.startTime ? combineDateTime(bunker3.startDate, bunker3.startTime) : null;\n    const bunker3_end = bunker3.endDate && bunker3.endTime ? combineDateTime(bunker3.endDate, bunker3.endTime) : null;\n    const bunker3_rest_start = bunker3Rest.startDate && bunker3Rest.startTime ? combineDateTime(bunker3Rest.startDate, bunker3Rest.startTime) : null;\n    const bunker3_rest_end = bunker3Rest.endDate && bunker3Rest.endTime ? combineDateTime(bunker3Rest.endDate, bunker3Rest.endTime) : null;\n    // Determine overall start_time (earliest start across all stages)\n    const allStarts = [\n        bunker1_start,\n        bunker1_rest_start,\n        bunker2_start,\n        bunker2_rest_start,\n        bunker3_start,\n        bunker3_rest_start\n    ].filter((start)=>start !== null);\n    const overall_start_time = allStarts.length > 0 ? formatDateTime(new Date(Math.min(...allStarts.map((d)=>new Date(d).getTime())))) : null;\n    // Format all datetime fields to match the expected format\n    const payload = {\n        batch_id: batch.id,\n        straw_type: materialType,\n        start_time: overall_start_time,\n        iscompleted: isCompleted,\n        bunker_process1: {\n            start_time: formatDateTime(bunker1_start),\n            end_time: formatDateTime(bunker1_end),\n            moisture: bunker1.moisture ? parseInt(bunker1.moisture) : null,\n            temperature: bunker1.temperature ? parseInt(bunker1.temperature) : null\n        },\n        bunker_process1_rest: {\n            start_time: formatDateTime(bunker1_rest_start),\n            end_time: formatDateTime(bunker1_rest_end),\n            moisture: bunker1Rest.moisture ? parseInt(bunker1Rest.moisture) : null,\n            temperature: bunker1Rest.temperature ? parseInt(bunker1Rest.temperature) : null\n        },\n        bunker_process2: {\n            start_time: formatDateTime(bunker2_start),\n            end_time: formatDateTime(bunker2_end),\n            moisture: bunker2.moisture ? parseInt(bunker2.moisture) : null,\n            temperature: bunker2.temperature ? parseInt(bunker2.temperature) : null\n        },\n        bunker_process2_rest: {\n            start_time: formatDateTime(bunker2_rest_start),\n            end_time: formatDateTime(bunker2_rest_end),\n            moisture: bunker2Rest.moisture ? parseInt(bunker2Rest.moisture) : null,\n            temperature: bunker2Rest.temperature ? parseInt(bunker2Rest.temperature) : null\n        },\n        bunker_process3: {\n            start_time: formatDateTime(bunker3_start),\n            end_time: formatDateTime(bunker3_end),\n            moisture: bunker3.moisture ? parseInt(bunker3.moisture) : null,\n            temperature: bunker3.temperature ? parseInt(bunker3.temperature) : null\n        },\n        bunker_process3_rest: {\n            start_time: formatDateTime(bunker3_rest_start),\n            end_time: formatDateTime(bunker3_rest_end),\n            moisture: bunker3Rest.moisture ? parseInt(bunker3Rest.moisture) : null,\n            temperature: bunker3Rest.temperature ? parseInt(bunker3Rest.temperature) : null\n        }\n    };\n    // Remove null values but keep the structure\n    Object.keys(payload).forEach((key)=>{\n        if (payload[key] === null) {\n            delete payload[key];\n        } else if (typeof payload[key] === 'object' && payload[key] !== null && key !== 'batch_id' && key !== 'straw_type' && key !== 'iscompleted') {\n            // Remove null fields from nested objects\n            Object.keys(payload[key]).forEach((subKey)=>{\n                if (payload[key][subKey] === null || payload[key][subKey] === undefined) {\n                    delete payload[key][subKey];\n                }\n            });\n            // If nested object has no properties left, remove it\n            if (Object.keys(payload[key]).length === 0) {\n                delete payload[key];\n            }\n        }\n    });\n    console.log(\"\\uD83D\\uDCE6 Generated payload for \".concat(MATERIAL_DISPLAY_NAMES[materialType], \":\"), payload);\n    return payload;\n};\nconst convertApiResponseToUI = (apiData, batch)=>{\n    if (!apiData || !Array.isArray(apiData)) {\n        console.log('âŒ No valid API data array to convert:', apiData);\n        return batch;\n    }\n    console.log('ðŸ”„ Converting API data to UI. Found items:', apiData.length);\n    // Since we have multiple materials but one table, we need to decide how to combine them\n    // For now, we'll use the first material's data (you might want to implement a different strategy)\n    if (apiData.length > 0) {\n        const firstMaterialData = apiData[0];\n        console.log('âœ… Using data from first material:', firstMaterialData);\n        const substageMapping = [\n            {\n                index: 0,\n                field: 'bunker_process1'\n            },\n            {\n                index: 1,\n                field: 'bunker_process1_rest'\n            },\n            {\n                index: 2,\n                field: 'bunker_process2'\n            },\n            {\n                index: 3,\n                field: 'bunker_process2_rest'\n            },\n            {\n                index: 4,\n                field: 'bunker_process3'\n            },\n            {\n                index: 5,\n                field: 'bunker_process3_rest'\n            }\n        ];\n        substageMapping.forEach((param)=>{\n            let { index, field } = param;\n            const stageData = firstMaterialData[field];\n            if (stageData && batch.substages[index]) {\n                if (stageData.start_time) {\n                    const { date, time } = parseDateTime(stageData.start_time);\n                    batch.substages[index].startDate = date;\n                    batch.substages[index].startTime = time;\n                }\n                if (stageData.end_time) {\n                    const { date, time } = parseDateTime(stageData.end_time);\n                    batch.substages[index].endDate = date;\n                    batch.substages[index].endTime = time;\n                }\n                if (stageData.duration_hours !== undefined && stageData.duration_hours !== null) {\n                    batch.substages[index].totalHours = stageData.duration_hours.toString();\n                }\n                if (stageData.moisture !== undefined && stageData.moisture !== null) {\n                    batch.substages[index].moisture = stageData.moisture.toString();\n                }\n                if (stageData.temperature !== undefined && stageData.temperature !== null) {\n                    batch.substages[index].temperature = stageData.temperature.toString();\n                }\n                if (stageData.remarks) {\n                    batch.substages[index].remarks = stageData.remarks;\n                }\n            }\n        });\n    }\n    console.log('âœ… Finished converting API data to UI');\n    return batch;\n};\nconst sendToApi = async (payload, materialType, displayName)=>{\n    try {\n        const response = await fetch(API_ENDPOINT, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE for \".concat(displayName, \": Status \").concat(response.status));\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error('âŒ API Error Response:', errorData);\n            let errorMessage = \"API error: \".concat(response.status);\n            if (errorData.detail) {\n                if (typeof errorData.detail === 'string') {\n                    errorMessage = errorData.detail;\n                } else if (Array.isArray(errorData.detail)) {\n                    errorMessage = errorData.detail.map((err)=>err.msg).join(', ');\n                } else if (typeof errorData.detail === 'object') {\n                    errorMessage = JSON.stringify(errorData.detail);\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        console.log(\"âœ… SUCCESS for \".concat(displayName, \":\"), result);\n        return {\n            success: true,\n            data: result,\n            materialType,\n            displayName\n        };\n    } catch (error) {\n        console.error(\"âŒ ERROR sending \".concat(displayName, \" data:\"), error);\n        return {\n            success: false,\n            error: error.message,\n            materialType,\n            displayName\n        };\n    }\n};\nconst BunkerTable = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(_s((param)=>{\n    let { batch, onUpdate, readOnly = false } = param;\n    _s();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const validateDateRange = (substage, field, newValue)=>{\n        if (field === 'startDate' || field === 'startTime') {\n            if (substage.endDate && substage.endTime) {\n                const newStartDateTime = field === 'startDate' ? combineDateTime(newValue, substage.startTime) : combineDateTime(substage.startDate, newValue);\n                const endDateTime = combineDateTime(substage.endDate, substage.endTime);\n                if (newStartDateTime && endDateTime && new Date(newStartDateTime) > new Date(endDateTime)) {\n                    toast.error(\"\".concat(substage.name, \": Start date/time cannot be after end date/time\"));\n                    return false;\n                }\n            }\n        } else if (field === 'endDate' || field === 'endTime') {\n            if (substage.startDate && substage.startTime) {\n                const startDateTime = combineDateTime(substage.startDate, substage.startTime);\n                const newEndDateTime = field === 'endDate' ? combineDateTime(newValue, substage.endTime) : combineDateTime(substage.endDate, newValue);\n                if (startDateTime && newEndDateTime && new Date(startDateTime) > new Date(newEndDateTime)) {\n                    toast.error(\"\".concat(substage.name, \": End date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const getMinEndDate = (substage)=>{\n        if (substage.startDate) {\n            return substage.startDate;\n        }\n        return undefined;\n    };\n    const getMinEndTime = (substage)=>{\n        if (substage.startDate === substage.endDate && substage.startTime) {\n            return substage.startTime;\n        }\n        return undefined;\n    };\n    const handleInputChange = (index, field, value)=>{\n        if (readOnly) return;\n        const updatedBatch = {\n            ...batch\n        };\n        const substage = updatedBatch.substages[index];\n        if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n            if (!validateDateRange(substage, field, value)) {\n                return;\n            }\n        }\n        substage[field] = value;\n        if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n            const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n            const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n            const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n            substage.totalHours = diffHours.toFixed(1);\n        }\n        onUpdate(updatedBatch);\n    };\n    // Get the display string for materials\n    const getMaterialsDisplay = ()=>{\n        if (batch.materialDisplayNames && batch.materialDisplayNames.length > 0) {\n            return batch.materialDisplayNames.join(' + ');\n        }\n        return 'Bunker Process';\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"table-section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"table-title\",\n                children: [\n                    \"Bunker Process - \",\n                    getMaterialsDisplay()\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 559,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"entry-table-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                    className: \"entry-table unified-platform-table\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Substage\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 564,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"Start\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 565,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"End\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 566,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Total Hours\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 567,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Moisture (%)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 568,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Temperature (\\xb0C)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 569,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Remarks\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 570,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 563,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 573,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 574,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 575,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 576,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 572,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 562,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                            children: batch.substages.map((substage, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"substage-name\",\n                                            children: substage.name\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 582,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: substage.startDate || '',\n                                                onChange: (e)=>handleInputChange(index, 'startDate', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: substage.endDate || undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 584,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 583,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: substage.startTime || '',\n                                                onChange: (e)=>handleInputChange(index, 'startTime', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: substage.startDate === substage.endDate ? substage.endTime : undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 594,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 593,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: substage.endDate || '',\n                                                onChange: (e)=>handleInputChange(index, 'endDate', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndDate(substage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 604,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 603,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: substage.endTime || '',\n                                                onChange: (e)=>handleInputChange(index, 'endTime', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndTime(substage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 614,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 613,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: substage.totalHours || '',\n                                                readOnly: true,\n                                                className: \"table-input hours-input\",\n                                                placeholder: \"Auto\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 624,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 623,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                value: substage.moisture || '',\n                                                onChange: (e)=>handleInputChange(index, 'moisture', e.target.value),\n                                                className: \"table-input moisture-input\",\n                                                placeholder: \"%\",\n                                                min: \"0\",\n                                                max: \"100\",\n                                                step: \"0.1\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 633,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 632,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                value: substage.temperature || '',\n                                                onChange: (e)=>handleInputChange(index, 'temperature', e.target.value),\n                                                className: \"table-input temperature-input\",\n                                                placeholder: \"\\xb0C\",\n                                                min: \"0\",\n                                                max: \"100\",\n                                                step: \"0.1\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 646,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 645,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: substage.remarks || '',\n                                                onChange: (e)=>handleInputChange(index, 'remarks', e.target.value),\n                                                className: \"table-input remarks-input\",\n                                                placeholder: \"Add remarks...\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 659,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 658,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 581,\n                                    columnNumber: 15\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 579,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 561,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 560,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 558,\n        columnNumber: 5\n    }, undefined);\n}, \"WUU7e0p6AiTpvVrXhi50JBdcu+0=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast\n    ];\n}));\n_c = BunkerTable;\nBunkerTable.displayName = 'BunkerTable';\nfunction BatchSelection(param) {\n    let { onSelectBatch, loading, error, initialBatchNumber, initialBatchId } = param;\n    _s1();\n    const [batchNumber, setBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBatchNumber || '');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const hasLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Auto-load batch if initialBatchNumber is provided\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BatchSelection.useEffect\": ()=>{\n            if (initialBatchNumber && !hasLoadedRef.current && !loading) {\n                setBatchNumber(initialBatchNumber);\n                handleLoadBatch(initialBatchNumber, initialBatchId);\n                hasLoadedRef.current = true;\n            }\n        }\n    }[\"BatchSelection.useEffect\"], [\n        initialBatchNumber,\n        initialBatchId,\n        loading\n    ]);\n    const getMaterialsFromBatch = (batchData)=>{\n        const materials = new Set();\n        if (batchData && batchData.formulation_entries) {\n            batchData.formulation_entries.forEach((entry)=>{\n                const materialName = entry.name.toUpperCase();\n                if (MATERIAL_TYPES[materialName] !== undefined) {\n                    materials.add(materialName);\n                    console.log(\"\\uD83D\\uDCCC Found material: \".concat(materialName, \" -> \").concat(MATERIAL_TYPES[materialName]));\n                }\n            });\n        }\n        return Array.from(materials);\n    };\n    const handleLoadBatch = async (batchNum, batchId)=>{\n        if (!batchNum.trim()) {\n            toast.error('Please enter a batch number');\n            return;\n        }\n        setIsLoading(true);\n        try {\n            console.log(\"\\uD83D\\uDD0D Fetching batch details for: \".concat(batchNum, \" with ID: \").concat(batchId || 'unknown'));\n            let selectedBatch = null;\n            let batchIdToUse = batchId;\n            // If batchId is provided, we can use it directly\n            if (batchIdToUse) {\n                // Try to fetch batch details using ID\n                const batchResponse = await fetch(\"\".concat(BATCH_FETCH_ENDPOINT, \"/\").concat(batchIdToUse));\n                if (batchResponse.ok) {\n                    const batchResult = await batchResponse.json();\n                    selectedBatch = batchResult.data || batchResult;\n                } else {\n                    // Fallback to fetching all batches\n                    const allBatchesResponse = await fetch(BATCH_FETCH_ENDPOINT);\n                    if (allBatchesResponse.ok) {\n                        const allBatchesResult = await allBatchesResponse.json();\n                        let batches = [];\n                        if (Array.isArray(allBatchesResult)) {\n                            batches = allBatchesResult;\n                        } else if (allBatchesResult.success) {\n                            batches = allBatchesResult.data;\n                        }\n                        selectedBatch = batches.find((b)=>b.id === batchIdToUse);\n                    }\n                }\n            } else {\n                // No batchId provided, fetch by batch number\n                const batchResponse = await fetch(BATCH_FETCH_ENDPOINT);\n                if (!batchResponse.ok) {\n                    throw new Error('Failed to fetch batches');\n                }\n                const batchResult = await batchResponse.json();\n                let batches = [];\n                if (Array.isArray(batchResult)) {\n                    batches = batchResult;\n                } else if (batchResult.success) {\n                    batches = batchResult.data;\n                }\n                selectedBatch = batches.find((b)=>b.batch_number === batchNum.trim());\n            }\n            if (!selectedBatch) {\n                toast.error('Batch number not found');\n                setIsLoading(false);\n                return;\n            }\n            console.log('âœ… Found batch:', selectedBatch);\n            const materials = getMaterialsFromBatch(selectedBatch);\n            if (materials.length === 0) {\n                toast.error('No suitable materials (Bagasse, Wheat Straw, or Paddy Straw) found in this batch');\n                setIsLoading(false);\n                return;\n            }\n            console.log(\"\\uD83D\\uDCCB Materials to process:\", materials);\n            const newBatch = createEmptyBatch(batchNum, materials, selectedBatch.id);\n            newBatch.batchData = selectedBatch;\n            console.log('ðŸ“Š Fetching bunker data for batch ID:', selectedBatch.id);\n            const strawDataResult = await fetchBatchData(selectedBatch.id);\n            if (strawDataResult.success && strawDataResult.data) {\n                console.log('ðŸ“¦ Raw API data:', strawDataResult.data);\n                const populatedBatch = convertApiResponseToUI(strawDataResult.data, newBatch);\n                console.log('âœ… Populated batch:', populatedBatch);\n                onSelectBatch(populatedBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" with existing data (\").concat(materials.length, \" material\").concat(materials.length > 1 ? 's' : '', \")\"));\n            } else if (strawDataResult.success && !strawDataResult.data) {\n                onSelectBatch(newBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" (\").concat(materials.length, \" material\").concat(materials.length > 1 ? 's' : '', \" - no existing data)\"));\n            } else {\n                toast.warning(\"Loaded batch \".concat(batchNum, \" but failed to fetch existing data\"));\n                onSelectBatch(newBatch);\n            }\n        } catch (err) {\n            console.error('âŒ Error loading batch:', err);\n            toast.error('Error loading batch details. Please try again.');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleCreateNew = ()=>{\n        if (isLoading || loading) return;\n        handleLoadBatch(batchNumber);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"batch-selection\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Bunker Management Process Entry\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 821,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 824,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"selection-panel\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"new-batch-section\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Enter Batch Number\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 831,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"batch-input-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    placeholder: \"Enter Batch Number (e.g., BATCH-001)\",\n                                    value: batchNumber,\n                                    onChange: (e)=>setBatchNumber(e.target.value),\n                                    className: \"batch-input\",\n                                    disabled: isLoading || loading\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 833,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCreateNew,\n                                    className: \"btn-primary\",\n                                    disabled: isLoading || loading,\n                                    children: isLoading || loading ? 'Loading...' : 'Load Batch'\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 841,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 832,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 830,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 829,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 820,\n        columnNumber: 5\n    }, this);\n}\n_s1(BatchSelection, \"bSsv6SxcH5WNCl5iqtC1T5kE3FA=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c1 = BatchSelection;\nfunction BunkerManagementContent() {\n    var _currentBatch_materialDisplayNames;\n    _s2();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [currentBatch, setCurrentBatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchNumber, setInitialBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchId, setInitialBatchId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isSavingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Get batch number and ID from URL params\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BunkerManagementContent.useEffect\": ()=>{\n            const batchNum = searchParams.get('batch');\n            const batchId = searchParams.get('batchId');\n            if (batchNum) {\n                setInitialBatchNumber(batchNum);\n                setInitialBatchId(batchId);\n            }\n        }\n    }[\"BunkerManagementContent.useEffect\"], [\n        searchParams\n    ]);\n    const handleSelectBatch = (batch)=>{\n        console.log('âœ… Setting current batch:', batch);\n        setCurrentBatch(batch);\n    };\n    const handleUpdateBatch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"BunkerManagementContent.useCallback[handleUpdateBatch]\": (updatedBatch)=>{\n            setCurrentBatch(updatedBatch);\n        }\n    }[\"BunkerManagementContent.useCallback[handleUpdateBatch]\"], []);\n    const validateBatchData = (batch)=>{\n        // Validate stage sequencing\n        if (!validateStageSequencing(batch.substages, toast)) {\n            return false;\n        }\n        // Validate each substage\n        for (const substage of batch.substages){\n            if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                if (startDateTime > endDateTime) {\n                    toast.error(\"\".concat(substage.name, \": End date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n            if ((substage.startDate || substage.startTime) && (!substage.startDate || !substage.startTime)) {\n                toast.error(\"Please complete both date and time for \".concat(substage.name, \" start\"));\n                return false;\n            }\n            if ((substage.endDate || substage.endTime) && (!substage.endDate || !substage.endTime)) {\n                toast.error(\"Please complete both date and time for \".concat(substage.name, \" end\"));\n                return false;\n            }\n        }\n        return true;\n    };\n    const handleSave = async ()=>{\n        var _currentBatch_materialDisplayNames;\n        if (!currentBatch || isSavingRef.current) return;\n        console.log('\\n========== ðŸš€ SAVE STARTED ==========');\n        console.log(\"Batch: \".concat(currentBatch.batchNumber, \" (ID: \").concat(currentBatch.id, \")\"));\n        console.log(\"Materials: \".concat(((_currentBatch_materialDisplayNames = currentBatch.materialDisplayNames) === null || _currentBatch_materialDisplayNames === void 0 ? void 0 : _currentBatch_materialDisplayNames.join(', ')) || 'Unknown'));\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            // Check if we have data to save\n            if (!hasCompleteData(currentBatch.substages)) {\n                toast.info('No complete data to save. Please fill in all required fields.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            // Save for each material type in the batch\n            for (const materialType of currentBatch.materialTypes){\n                const displayName = MATERIAL_DISPLAY_NAMES[materialType];\n                console.log(\"\\n--- \\uD83D\\uDCDD Processing material: \".concat(displayName, \" ---\"));\n                const payload = convertToApiPayload(currentBatch, materialType, false);\n                if (payload) {\n                    hasAnyDataToSave = true;\n                    console.log(\"\\uD83D\\uDCE4 Making API call for \".concat(displayName));\n                    const result = await sendToApi(payload, materialType, displayName);\n                    results.push(result);\n                    if (result.success) {\n                        successCount++;\n                        toast.success(\"\".concat(displayName, \" data saved successfully!\"));\n                    } else {\n                        failCount++;\n                        toast.error(\"Failed to save \".concat(displayName, \" data: \").concat(result.error));\n                    }\n                }\n            }\n            console.log('\\n========== ðŸ“Š SAVE SUMMARY ==========');\n            console.log(\"Total API calls attempted: \".concat(results.length));\n            console.log(\"âœ… Successful: \".concat(successCount));\n            console.log(\"âŒ Failed: \".concat(failCount));\n            console.log('=====================================\\n');\n            if (!hasAnyDataToSave) {\n                toast.info('No data to save.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            const allSuccess = results.every((r)=>r.success);\n            if (allSuccess) {\n                toast.success(\"All \".concat(successCount, \" material data saved successfully!\"));\n            } else {\n                toast.warning(\"\".concat(successCount, \" material(s) saved successfully, \").concat(failCount, \" failed\"));\n            }\n        } catch (error) {\n            toast.error('Failed to save batch data');\n            console.error('âŒ Save error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleBackToSelection = ()=>{\n        // Clear the current batch to show the selection UI\n        setCurrentBatch(null);\n        // Clear URL params when going back\n        router.push('/bunker-management');\n        // Clear any saved state\n        setError(null);\n        // Reset the initial batch number state if needed\n        setInitialBatchNumber(null);\n        setInitialBatchId(null);\n    };\n    if (!currentBatch) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            title: \"Bunker Management\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"unified-platform-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BatchSelection, {\n                    onSelectBatch: handleSelectBatch,\n                    loading: loading,\n                    error: error,\n                    initialBatchNumber: initialBatchNumber,\n                    initialBatchId: initialBatchId\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1010,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 1009,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1008,\n            columnNumber: 7\n        }, this);\n    }\n    const materialsDisplay = ((_currentBatch_materialDisplayNames = currentBatch.materialDisplayNames) === null || _currentBatch_materialDisplayNames === void 0 ? void 0 : _currentBatch_materialDisplayNames.join(' + ')) || 'Unknown';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Bunker Management\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"unified-platform-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"entry-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-left\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleBackToSelection,\n                                    className: \"back-button\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                        lineNumber: 1030,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1029,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: currentBatch.batchNumber\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1032,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-count\",\n                                    children: [\n                                        \"(\",\n                                        materialsDisplay,\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1033,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 1028,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-actions\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSave,\n                                className: \"btn-save\",\n                                disabled: loading,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        fontSize: \"small\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                        lineNumber: 1043,\n                                        columnNumber: 15\n                                    }, this),\n                                    loading ? 'Saving...' : 'Save'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                lineNumber: 1038,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 1037,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1027,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BunkerTable, {\n                    batch: currentBatch,\n                    onUpdate: handleUpdateBatch,\n                    readOnly: false\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1050,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1026,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 1025,\n        columnNumber: 5\n    }, this);\n}\n_s2(BunkerManagementContent, \"fN98z1Elz4TM8uKmJFaagiXk7ig=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = BunkerManagementContent;\nfunction BunkerManagement() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.ToastProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BunkerManagementContent, {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1063,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 1062,\n        columnNumber: 5\n    }, this);\n}\n_c3 = BunkerManagement;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"BunkerTable\");\n$RefreshReg$(_c1, \"BatchSelection\");\n$RefreshReg$(_c2, \"BunkerManagementContent\");\n$RefreshReg$(_c3, \"BunkerManagement\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocGFnZXMpL2J1bmtlci1tYW5hZ2VtZW50L3BhZ2UuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUN3RTtBQUNYO0FBQ1Y7QUFDdUI7QUFDekI7QUFFRDtBQUNnQjtBQUNOO0FBRTFELE1BQU1hLGlCQUFpQjtJQUNyQixXQUFXO0lBQ1gsZUFBZTtJQUNmLGVBQWU7QUFDakI7QUFFQSxNQUFNQyx5QkFBeUI7SUFDN0IsV0FBVztJQUNYLFNBQVM7SUFDVCxTQUFTO0FBQ1g7QUFFQSxNQUFNQyxlQUFlQywyQkFBK0I7QUFDcEQsTUFBTUcsZUFBZSxHQUFnQixPQUFiSixjQUFhO0FBQ3JDLE1BQU1LLHFCQUFxQixHQUFnQixPQUFiTCxjQUFhO0FBQzNDLE1BQU1NLHVCQUF1QixHQUFnQixPQUFiTixjQUFhO0FBRTdDLE1BQU1PLGNBQWM7SUFDbEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCwyRUFBMkU7QUFDM0UsTUFBTUMsc0JBQXNCLENBQUNDLE9BQVU7UUFDckNBLE1BQU1BO1FBQ05DLFdBQVc7UUFDWEMsV0FBVztRQUNYQyxTQUFTO1FBQ1RDLFNBQVM7UUFDVEMsWUFBWTtRQUNaQyxVQUFVO1FBQ1ZDLGFBQWE7UUFDYkMsU0FBUztJQUNYO0FBRUEsTUFBTUMsbUJBQW1CLFNBQUNDO1FBQWFDLDZFQUFZLEVBQUUsRUFBRUMsMkVBQVU7SUFDL0Qsc0NBQXNDO0lBQ3RDLE1BQU1DLGdCQUFnQkYsVUFBVUcsR0FBRyxDQUFDQyxDQUFBQSxJQUFLMUIsY0FBYyxDQUFDMEIsRUFBRSxFQUFFQyxNQUFNLENBQUNDO0lBQ25FLE1BQU1DLHVCQUF1QkwsY0FBY0MsR0FBRyxDQUFDSyxDQUFBQSxJQUFLN0Isc0JBQXNCLENBQUM2QixFQUFFO0lBRTdFLE1BQU1DLFFBQVE7UUFDWkMsSUFBSVQsV0FBV1UsS0FBS0MsR0FBRztRQUN2QmIsYUFBYUE7UUFDYkcsZUFBZUE7UUFDZkssc0JBQXNCQTtR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Q2dSLFVBQVM7Ozs7OztvQ0FDbEJsRSxVQUFVLGNBQWM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFNL0IsOERBQUN4QztvQkFDQ3BJLE9BQU9vTjtvQkFDUDlFLFVBQVV1RjtvQkFDVnRGLFVBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS3BCO0lBM01TNEU7O1FBQ1ExUCxzREFBU0E7UUFDVkksZ0VBQVFBO1FBQ0RILDREQUFlQTs7O01BSDdCeVA7QUE2TU0sU0FBUzRCO0lBQ3RCLHFCQUNFLDhEQUFDblIscUVBQWFBO2tCQUNaLDRFQUFDdVA7Ozs7Ozs7Ozs7QUFHUDtNQU53QjRCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEFkbWluXFxEb3dubG9hZHNcXGJyaXRpc2hhZ3JvLWFkbWluLXBhbmVsXFxicml0aXNoYWdyb1xcYXBwXFwocGFnZXMpXFxidW5rZXItbWFuYWdlbWVudFxccGFnZS5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZVJvdXRlciwgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xyXG5pbXBvcnQgQXBwTGF5b3V0IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0FwcExheW91dFwiO1xyXG5pbXBvcnQgeyBUb2FzdFByb3ZpZGVyLCB1c2VUb2FzdCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2NvbW1vbi9Ub2FzdGVyXCI7XHJcbmltcG9ydCBcIi4uLy4uL3N0eWxlcy9wYWdlcy91bmlmaWVkLXBsYXRmb3JtLmNzc1wiO1xyXG5cclxuaW1wb3J0IFNhdmVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU2F2ZSc7XHJcbmltcG9ydCBBcnJvd0ZvcndhcmRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQXJyb3dGb3J3YXJkJztcclxuaW1wb3J0IEFycm93QmFja0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9BcnJvd0JhY2snO1xyXG5cclxuY29uc3QgTUFURVJJQUxfVFlQRVMgPSB7XHJcbiAgJ0JBR0FTU0UnOiAnQkFHQVNTRScsXHJcbiAgJ1dIRUFUIFNUUkFXJzogJ1dIRUFUJyxcclxuICAnUEFERFkgU1RSQVcnOiAnUEFERFknXHJcbn07XHJcblxyXG5jb25zdCBNQVRFUklBTF9ESVNQTEFZX05BTUVTID0ge1xyXG4gICdCQUdBU1NFJzogJ0JhZ2Fzc2UnLFxyXG4gICdXSEVBVCc6ICdXaGVhdCBTdHJhdycsXHJcbiAgJ1BBRERZJzogJ1BhZGR5IFN0cmF3J1xyXG59O1xyXG5cclxuY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTDtcclxuY29uc3QgQVBJX0VORFBPSU5UID0gYCR7QVBJX0JBU0VfVVJMfS9idW5rZXItcHJvY2Vzcy1sb2dzYDtcclxuY29uc3QgQVBJX0ZFVENIX0VORFBPSU5UID0gYCR7QVBJX0JBU0VfVVJMfS9idW5rZXItcHJvY2Vzcy1sb2dzYDtcclxuY29uc3QgQkFUQ0hfRkVUQ0hfRU5EUE9JTlQgPSBgJHtBUElfQkFTRV9VUkx9L2JhdGNoZXNgO1xyXG5cclxuY29uc3QgU1RBR0VfTkFNRVMgPSBbXHJcbiAgXCJCdW5rZXIgUHJvY2VzcyAxXCIsXHJcbiAgXCJCdW5rZXIgUHJvY2VzcyAxIFJlc3RcIiwgXHJcbiAgXCJCdW5rZXIgUHJvY2VzcyAyXCIsXHJcbiAgXCJCdW5rZXIgUHJvY2VzcyAyIFJlc3RcIixcclxuICBcIkJ1bmtlciBQcm9jZXNzIDNcIixcclxuICBcIkJ1bmtlciBQcm9jZXNzIDMgUmVzdFwiXHJcbl07XHJcblxyXG4vLyBTaW5nbGUgdGFibGUgc3RydWN0dXJlIC0gb25lIHJvdyBwZXIgc3Vic3RhZ2UgZm9yIEFMTCBtYXRlcmlhbHMgY29tYmluZWRcclxuY29uc3QgY3JlYXRlRW1wdHlTdWJzdGFnZSA9IChuYW1lKSA9PiAoe1xyXG4gIG5hbWU6IG5hbWUsXHJcbiAgc3RhcnREYXRlOiAnJyxcclxuICBzdGFydFRpbWU6ICcnLFxyXG4gIGVuZERhdGU6ICcnLFxyXG4gIGVuZFRpbWU6ICcnLFxyXG4gIHRvdGFsSG91cnM6ICcnLFxyXG4gIG1vaXN0dXJlOiAnJyxcclxuICB0ZW1wZXJhdHVyZTogJycsXHJcbiAgcmVtYXJrczogJydcclxufSk7XHJcblxyXG5jb25zdCBjcmVhdGVFbXB0eUJhdGNoID0gKGJhdGNoTnVtYmVyLCBtYXRlcmlhbHMgPSBbXSwgYmF0Y2hJZCA9IG51bGwpID0+IHtcclxuICAvLyBTdG9yZSB0aGUgbGlzdCBvZiBtYXRlcmlhbHMgcHJlc2VudFxyXG4gIGNvbnN0IG1hdGVyaWFsVHlwZXMgPSBtYXRlcmlhbHMubWFwKG0gPT4gTUFURVJJQUxfVFlQRVNbbV0pLmZpbHRlcihCb29sZWFuKTtcclxuICBjb25zdCBtYXRlcmlhbERpc3BsYXlOYW1lcyA9IG1hdGVyaWFsVHlwZXMubWFwKHQgPT4gTUFURVJJQUxfRElTUExBWV9OQU1FU1t0XSk7XHJcbiAgXHJcbiAgY29uc3QgYmF0Y2ggPSB7XHJcbiAgICBpZDogYmF0Y2hJZCB8fCBEYXRlLm5vdygpLFxyXG4gICAgYmF0Y2hOdW1iZXI6IGJhdGNoTnVtYmVyLFxyXG4gICAgbWF0ZXJpYWxUeXBlczogbWF0ZXJpYWxUeXBlcywgLy8gU3RvcmUgdGhlIGFjdHVhbCBtYXRlcmlhbCB0eXBlcyAoQkFHQVNTRSwgV0hFQVQsIFBBRERZKVxyXG4gICAgbWF0ZXJpYWxEaXNwbGF5TmFtZXM6IG1hdGVyaWFsRGlzcGxheU5hbWVzLCAvLyBTdG9yZSBkaXNwbGF5IG5hbWVzXHJcbiAgICBiYXRjaERhdGE6IG51bGwsXHJcbiAgICBleGlzdGluZ1JlY29yZHM6IHt9LFxyXG4gICAgLy8gU2luZ2xlIHNldCBvZiBzdWJzdGFnZXMgZm9yIHRoZSBjb21iaW5lZCB0YWJsZVxyXG4gICAgc3Vic3RhZ2VzOiBTVEFHRV9OQU1FUy5tYXAobmFtZSA9PiBjcmVhdGVFbXB0eVN1YnN0YWdlKG5hbWUpKVxyXG4gIH07XHJcblxyXG4gIHJldHVybiBiYXRjaDtcclxufTtcclxuXHJcbmNvbnN0IHBhcnNlRGF0ZVRpbWUgPSAoZGF0ZXRpbWUpID0+IHtcclxuICBpZiAoIWRhdGV0aW1lKSByZXR1cm4geyBkYXRlOiAnJywgdGltZTogJycgfTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGV0aW1lKTtcclxuICAgIGlmIChpc05hTihkYXRlLmdldFRpbWUoKSkpIHJldHVybiB7IGRhdGU6ICcnLCB0aW1lOiAnJyB9O1xyXG4gICAgXHJcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcoZGF0ZS5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGU6IGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWAsXHJcbiAgICAgIHRpbWU6IGAke2hvdXJzfToke21pbnV0ZXN9YFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBkYXRldGltZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRlOiAnJywgdGltZTogJycgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBmZXRjaEJhdGNoRGF0YSA9IGFzeW5jIChiYXRjaElkKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKGDwn5OKIEZldGNoaW5nIGJ1bmtlciBkYXRhIGZvciBiYXRjaCBJRDogJHtiYXRjaElkfWApO1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfRkVUQ0hfRU5EUE9JTlR9YCk7XHJcbiAgICBcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk60gTm8gZXhpc3RpbmcgYnVua2VyIGRhdGEgZm91bmQgZm9yIGJhdGNoJyk7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbnVsbCB9O1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGJ1bmtlciBkYXRhOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk6YgRmV0Y2hlZCBidW5rZXIgZGF0YTonLCByZXNwb25zZURhdGEpO1xyXG4gICAgXHJcbiAgICBpZiAocmVzcG9uc2VEYXRhLnN1Y2Nlc3MgJiYgcmVzcG9uc2VEYXRhLmRhdGEgJiYgcmVzcG9uc2VEYXRhLmRhdGEuaXRlbXMpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzcG9uc2VEYXRhLmRhdGEuaXRlbXMgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHJlc3BvbnNlRGF0YS5kYXRhICYmIEFycmF5LmlzQXJyYXkocmVzcG9uc2VEYXRhLmRhdGEpKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3BvbnNlRGF0YS5kYXRhIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3BvbnNlRGF0YSkpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzcG9uc2VEYXRhIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIGJ1bmtlciBkYXRhOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGZldGNoQmF0Y2hEZXRhaWxzID0gYXN5bmMgKGJhdGNoSWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQVRDSF9GRVRDSF9FTkRQT0lOVH0vJHtiYXRjaElkfWApO1xyXG4gICAgXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGJhdGNoIGRldGFpbHM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgYmF0Y2ggZGV0YWlsczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjb21iaW5lRGF0ZVRpbWUgPSAoZGF0ZSwgdGltZSkgPT4ge1xyXG4gIGlmICghZGF0ZSB8fCAhdGltZSkgcmV0dXJuIG51bGw7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGVUaW1lU3RyID0gYCR7ZGF0ZX1UJHt0aW1lfTowMGA7XHJcbiAgICBjb25zdCBkYXRldGltZSA9IG5ldyBEYXRlKGRhdGVUaW1lU3RyKTtcclxuICAgIFxyXG4gICAgaWYgKGlzTmFOKGRhdGV0aW1lLmdldFRpbWUoKSkpIHJldHVybiBudWxsO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZGF0ZXRpbWUudG9JU09TdHJpbmcoKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY29tYmluaW5nIGRhdGV0aW1lOicsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhhc1N1YnN0YWdlRGF0YSA9IChzdWJzdGFnZSkgPT4ge1xyXG4gIHJldHVybiBzdWJzdGFnZS5zdGFydERhdGUgfHwgc3Vic3RhZ2Uuc3RhcnRUaW1lIHx8IHN1YnN0YWdlLmVuZERhdGUgfHwgc3Vic3RhZ2UuZW5kVGltZSB8fCBcclxuICAgICAgICAgc3Vic3RhZ2UubW9pc3R1cmUgfHwgc3Vic3RhZ2UudGVtcGVyYXR1cmUgfHwgc3Vic3RhZ2UucmVtYXJrcztcclxufTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlU3RhZ2VTZXF1ZW5jaW5nID0gKHN1YnN0YWdlcywgdG9hc3QpID0+IHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnN0YWdlcy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgIGNvbnN0IGN1cnJlbnRTdGFnZSA9IHN1YnN0YWdlc1tpXTtcclxuICAgIGNvbnN0IG5leHRTdGFnZSA9IHN1YnN0YWdlc1tpICsgMV07XHJcbiAgICBcclxuICAgIGlmICghY3VycmVudFN0YWdlLmVuZERhdGUgfHwgIWN1cnJlbnRTdGFnZS5lbmRUaW1lIHx8ICFuZXh0U3RhZ2Uuc3RhcnREYXRlIHx8ICFuZXh0U3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBjdXJyZW50RW5kID0gY29tYmluZURhdGVUaW1lKGN1cnJlbnRTdGFnZS5lbmREYXRlLCBjdXJyZW50U3RhZ2UuZW5kVGltZSk7XHJcbiAgICBjb25zdCBuZXh0U3RhcnQgPSBjb21iaW5lRGF0ZVRpbWUobmV4dFN0YWdlLnN0YXJ0RGF0ZSwgbmV4dFN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICBcclxuICAgIGlmIChjdXJyZW50RW5kICYmIG5leHRTdGFydCkge1xyXG4gICAgICBpZiAobmV3IERhdGUoY3VycmVudEVuZCkgPiBuZXcgRGF0ZShuZXh0U3RhcnQpKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYCR7bmV4dFN0YWdlLm5hbWV9IG11c3Qgc3RhcnQgYWZ0ZXIgJHtjdXJyZW50U3RhZ2UubmFtZX0gZW5kc2ApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IGhhc0NvbXBsZXRlRGF0YSA9IChzdWJzdGFnZXMpID0+IHtcclxuICAvLyBDaGVjayBpZiBhbnkgZGF0YSBleGlzdHNcclxuICBjb25zdCBoYXNBbnlEYXRhID0gc3Vic3RhZ2VzLnNvbWUoc3Vic3RhZ2UgPT4gXHJcbiAgICBzdWJzdGFnZS5zdGFydERhdGUgfHwgc3Vic3RhZ2Uuc3RhcnRUaW1lIHx8IHN1YnN0YWdlLmVuZERhdGUgfHwgc3Vic3RhZ2UuZW5kVGltZSB8fCBcclxuICAgIHN1YnN0YWdlLm1vaXN0dXJlIHx8IHN1YnN0YWdlLnRlbXBlcmF0dXJlIHx8IHN1YnN0YWdlLnJlbWFya3NcclxuICApO1xyXG4gIFxyXG4gIGlmICghaGFzQW55RGF0YSkge1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk50gTm8gZGF0YSBlbnRlcmVkJyk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIENoZWNrIGVhY2ggc3Vic3RhZ2UgZm9yIGNvbXBsZXRlbmVzc1xyXG4gIGZvciAoY29uc3Qgc3Vic3RhZ2Ugb2Ygc3Vic3RhZ2VzKSB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmICFzdWJzdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gSW5jb21wbGV0ZSBzdGFydCBkYXRhIGluICR7c3Vic3RhZ2UubmFtZX0gKGRhdGUgd2l0aG91dCB0aW1lKWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzdWJzdGFnZS5zdGFydFRpbWUgJiYgIXN1YnN0YWdlLnN0YXJ0RGF0ZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSBJbmNvbXBsZXRlIHN0YXJ0IGRhdGEgaW4gJHtzdWJzdGFnZS5uYW1lfSAodGltZSB3aXRob3V0IGRhdGUpYCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHN1YnN0YWdlLmVuZERhdGUgJiYgIXN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gSW5jb21wbGV0ZSBlbmQgZGF0YSBpbiAke3N1YnN0YWdlLm5hbWV9IChkYXRlIHdpdGhvdXQgdGltZSlgKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2UuZW5kVGltZSAmJiAhc3Vic3RhZ2UuZW5kRGF0ZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSBJbmNvbXBsZXRlIGVuZCBkYXRhIGluICR7c3Vic3RhZ2UubmFtZX0gKHRpbWUgd2l0aG91dCBkYXRlKWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCfinIUgSGFzIHZhbGlkIGRhdGEgdG8gc2F2ZScpO1xyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuY29uc3QgY29udmVydFRvQXBpUGF5bG9hZCA9IChiYXRjaCwgbWF0ZXJpYWxUeXBlLCBpc0NvbXBsZXRlZCkgPT4ge1xyXG4gIGNvbnN0IHN1YnN0YWdlcyA9IGJhdGNoLnN1YnN0YWdlcztcclxuXHJcbiAgY29uc3QgYnVua2VyMSA9IHN1YnN0YWdlc1swXSB8fCBjcmVhdGVFbXB0eVN1YnN0YWdlKFwiQnVua2VyIFByb2Nlc3MgMVwiKTtcclxuICBjb25zdCBidW5rZXIxUmVzdCA9IHN1YnN0YWdlc1sxXSB8fCBjcmVhdGVFbXB0eVN1YnN0YWdlKFwiQnVua2VyIFByb2Nlc3MgMSBSZXN0XCIpO1xyXG4gIGNvbnN0IGJ1bmtlcjIgPSBzdWJzdGFnZXNbMl0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIkJ1bmtlciBQcm9jZXNzIDJcIik7XHJcbiAgY29uc3QgYnVua2VyMlJlc3QgPSBzdWJzdGFnZXNbM10gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIkJ1bmtlciBQcm9jZXNzIDIgUmVzdFwiKTtcclxuICBjb25zdCBidW5rZXIzID0gc3Vic3RhZ2VzWzRdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJCdW5rZXIgUHJvY2VzcyAzXCIpO1xyXG4gIGNvbnN0IGJ1bmtlcjNSZXN0ID0gc3Vic3RhZ2VzWzVdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJCdW5rZXIgUHJvY2VzcyAzIFJlc3RcIik7XHJcblxyXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JtYXQgZGF0ZXRpbWUgd2l0aG91dCBtaWxsaXNlY29uZHMgYW5kIHRpbWV6b25lXHJcbiAgY29uc3QgZm9ybWF0RGF0ZVRpbWUgPSAoZGF0ZVRpbWVTdHIpID0+IHtcclxuICAgIGlmICghZGF0ZVRpbWVTdHIpIHJldHVybiBudWxsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVUaW1lU3RyKTtcclxuICAgICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuIG51bGw7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3Qgc2Vjb25kcyA9IFN0cmluZyhkYXRlLmdldFNlY29uZHMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1UJHtob3Vyc306JHttaW51dGVzfToke3NlY29uZHN9YDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZvcm1hdHRpbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBPbmx5IGNvbWJpbmUgZGF0ZXMgaWYgYm90aCBkYXRlIGFuZCB0aW1lIGV4aXN0XHJcbiAgY29uc3QgYnVua2VyMV9zdGFydCA9IChidW5rZXIxLnN0YXJ0RGF0ZSAmJiBidW5rZXIxLnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIxLnN0YXJ0RGF0ZSwgYnVua2VyMS5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IGJ1bmtlcjFfZW5kID0gKGJ1bmtlcjEuZW5kRGF0ZSAmJiBidW5rZXIxLmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyMS5lbmREYXRlLCBidW5rZXIxLmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIFxyXG4gIGNvbnN0IGJ1bmtlcjFfcmVzdF9zdGFydCA9IChidW5rZXIxUmVzdC5zdGFydERhdGUgJiYgYnVua2VyMVJlc3Quc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjFSZXN0LnN0YXJ0RGF0ZSwgYnVua2VyMVJlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCBidW5rZXIxX3Jlc3RfZW5kID0gKGJ1bmtlcjFSZXN0LmVuZERhdGUgJiYgYnVua2VyMVJlc3QuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIxUmVzdC5lbmREYXRlLCBidW5rZXIxUmVzdC5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBcclxuICBjb25zdCBidW5rZXIyX3N0YXJ0ID0gKGJ1bmtlcjIuc3RhcnREYXRlICYmIGJ1bmtlcjIuc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjIuc3RhcnREYXRlLCBidW5rZXIyLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgYnVua2VyMl9lbmQgPSAoYnVua2VyMi5lbmREYXRlICYmIGJ1bmtlcjIuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIyLmVuZERhdGUsIGJ1bmtlcjIuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3QgYnVua2VyMl9yZXN0X3N0YXJ0ID0gKGJ1bmtlcjJSZXN0LnN0YXJ0RGF0ZSAmJiBidW5rZXIyUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyMlJlc3Quc3RhcnREYXRlLCBidW5rZXIyUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IGJ1bmtlcjJfcmVzdF9lbmQgPSAoYnVua2VyMlJlc3QuZW5kRGF0ZSAmJiBidW5rZXIyUmVzdC5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjJSZXN0LmVuZERhdGUsIGJ1bmtlcjJSZXN0LmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG5cclxuICBjb25zdCBidW5rZXIzX3N0YXJ0ID0gKGJ1bmtlcjMuc3RhcnREYXRlICYmIGJ1bmtlcjMuc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjMuc3RhcnREYXRlLCBidW5rZXIzLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgYnVua2VyM19lbmQgPSAoYnVua2VyMy5lbmREYXRlICYmIGJ1bmtlcjMuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIzLmVuZERhdGUsIGJ1bmtlcjMuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcblxyXG4gIGNvbnN0IGJ1bmtlcjNfcmVzdF9zdGFydCA9IChidW5rZXIzUmVzdC5zdGFydERhdGUgJiYgYnVua2VyM1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjNSZXN0LnN0YXJ0RGF0ZSwgYnVua2VyM1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCBidW5rZXIzX3Jlc3RfZW5kID0gKGJ1bmtlcjNSZXN0LmVuZERhdGUgJiYgYnVua2VyM1Jlc3QuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIzUmVzdC5lbmREYXRlLCBidW5rZXIzUmVzdC5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIG92ZXJhbGwgc3RhcnRfdGltZSAoZWFybGllc3Qgc3RhcnQgYWNyb3NzIGFsbCBzdGFnZXMpXHJcbiAgY29uc3QgYWxsU3RhcnRzID0gW1xyXG4gICAgYnVua2VyMV9zdGFydCxcclxuICAgIGJ1bmtlcjFfcmVzdF9zdGFydCxcclxuICAgIGJ1bmtlcjJfc3RhcnQsXHJcbiAgICBidW5rZXIyX3Jlc3Rfc3RhcnQsXHJcbiAgICBidW5rZXIzX3N0YXJ0LFxyXG4gICAgYnVua2VyM19yZXN0X3N0YXJ0XHJcbiAgXS5maWx0ZXIoc3RhcnQgPT4gc3RhcnQgIT09IG51bGwpO1xyXG4gIFxyXG4gIGNvbnN0IG92ZXJhbGxfc3RhcnRfdGltZSA9IGFsbFN0YXJ0cy5sZW5ndGggPiAwIFxyXG4gICAgPyBmb3JtYXREYXRlVGltZShuZXcgRGF0ZShNYXRoLm1pbiguLi5hbGxTdGFydHMubWFwKGQgPT4gbmV3IERhdGUoZCkuZ2V0VGltZSgpKSkpKVxyXG4gICAgOiBudWxsO1xyXG5cclxuICAvLyBGb3JtYXQgYWxsIGRhdGV0aW1lIGZpZWxkcyB0byBtYXRjaCB0aGUgZXhwZWN0ZWQgZm9ybWF0XHJcbiAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgIGJhdGNoX2lkOiBiYXRjaC5pZCxcclxuICAgIHN0cmF3X3R5cGU6IG1hdGVyaWFsVHlwZSxcclxuICAgIHN0YXJ0X3RpbWU6IG92ZXJhbGxfc3RhcnRfdGltZSxcclxuICAgIGlzY29tcGxldGVkOiBpc0NvbXBsZXRlZCxcclxuICAgIGJ1bmtlcl9wcm9jZXNzMToge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIxX3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjFfZW5kKSxcclxuICAgICAgbW9pc3R1cmU6IGJ1bmtlcjEubW9pc3R1cmUgPyBwYXJzZUludChidW5rZXIxLm1vaXN0dXJlKSA6IG51bGwsXHJcbiAgICAgIHRlbXBlcmF0dXJlOiBidW5rZXIxLnRlbXBlcmF0dXJlID8gcGFyc2VJbnQoYnVua2VyMS50ZW1wZXJhdHVyZSkgOiBudWxsXHJcbiAgICB9LFxyXG4gICAgYnVua2VyX3Byb2Nlc3MxX3Jlc3Q6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMV9yZXN0X3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjFfcmVzdF9lbmQpLFxyXG4gICAgICBtb2lzdHVyZTogYnVua2VyMVJlc3QubW9pc3R1cmUgPyBwYXJzZUludChidW5rZXIxUmVzdC5tb2lzdHVyZSkgOiBudWxsLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogYnVua2VyMVJlc3QudGVtcGVyYXR1cmUgPyBwYXJzZUludChidW5rZXIxUmVzdC50ZW1wZXJhdHVyZSkgOiBudWxsXHJcbiAgICB9LFxyXG4gICAgYnVua2VyX3Byb2Nlc3MyOiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjJfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMl9lbmQpLFxyXG4gICAgICBtb2lzdHVyZTogYnVua2VyMi5tb2lzdHVyZSA/IHBhcnNlSW50KGJ1bmtlcjIubW9pc3R1cmUpIDogbnVsbCxcclxuICAgICAgdGVtcGVyYXR1cmU6IGJ1bmtlcjIudGVtcGVyYXR1cmUgPyBwYXJzZUludChidW5rZXIyLnRlbXBlcmF0dXJlKSA6IG51bGxcclxuICAgIH0sXHJcbiAgICBidW5rZXJfcHJvY2VzczJfcmVzdDoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIyX3Jlc3Rfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMl9yZXN0X2VuZCksXHJcbiAgICAgIG1vaXN0dXJlOiBidW5rZXIyUmVzdC5tb2lzdHVyZSA/IHBhcnNlSW50KGJ1bmtlcjJSZXN0Lm1vaXN0dXJlKSA6IG51bGwsXHJcbiAgICAgIHRlbXBlcmF0dXJlOiBidW5rZXIyUmVzdC50ZW1wZXJhdHVyZSA/IHBhcnNlSW50KGJ1bmtlcjJSZXN0LnRlbXBlcmF0dXJlKSA6IG51bGxcclxuICAgIH0sXHJcbiAgICBidW5rZXJfcHJvY2VzczM6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyM19zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIzX2VuZCksXHJcbiAgICAgIG1vaXN0dXJlOiBidW5rZXIzLm1vaXN0dXJlID8gcGFyc2VJbnQoYnVua2VyMy5tb2lzdHVyZSkgOiBudWxsLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogYnVua2VyMy50ZW1wZXJhdHVyZSA/IHBhcnNlSW50KGJ1bmtlcjMudGVtcGVyYXR1cmUpIDogbnVsbFxyXG4gICAgfSxcclxuICAgIGJ1bmtlcl9wcm9jZXNzM19yZXN0OiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjNfcmVzdF9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIzX3Jlc3RfZW5kKSxcclxuICAgICAgbW9pc3R1cmU6IGJ1bmtlcjNSZXN0Lm1vaXN0dXJlID8gcGFyc2VJbnQoYnVua2VyM1Jlc3QubW9pc3R1cmUpIDogbnVsbCxcclxuICAgICAgdGVtcGVyYXR1cmU6IGJ1bmtlcjNSZXN0LnRlbXBlcmF0dXJlID8gcGFyc2VJbnQoYnVua2VyM1Jlc3QudGVtcGVyYXR1cmUpIDogbnVsbFxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFJlbW92ZSBudWxsIHZhbHVlcyBidXQga2VlcCB0aGUgc3RydWN0dXJlXHJcbiAgT2JqZWN0LmtleXMocGF5bG9hZCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgaWYgKHBheWxvYWRba2V5XSA9PT0gbnVsbCkge1xyXG4gICAgICBkZWxldGUgcGF5bG9hZFtrZXldO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGF5bG9hZFtrZXldID09PSAnb2JqZWN0JyAmJiBwYXlsb2FkW2tleV0gIT09IG51bGwgJiYga2V5ICE9PSAnYmF0Y2hfaWQnICYmIGtleSAhPT0gJ3N0cmF3X3R5cGUnICYmIGtleSAhPT0gJ2lzY29tcGxldGVkJykge1xyXG4gICAgICAvLyBSZW1vdmUgbnVsbCBmaWVsZHMgZnJvbSBuZXN0ZWQgb2JqZWN0c1xyXG4gICAgICBPYmplY3Qua2V5cyhwYXlsb2FkW2tleV0pLmZvckVhY2goc3ViS2V5ID0+IHtcclxuICAgICAgICBpZiAocGF5bG9hZFtrZXldW3N1YktleV0gPT09IG51bGwgfHwgcGF5bG9hZFtrZXldW3N1YktleV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgZGVsZXRlIHBheWxvYWRba2V5XVtzdWJLZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBJZiBuZXN0ZWQgb2JqZWN0IGhhcyBubyBwcm9wZXJ0aWVzIGxlZnQsIHJlbW92ZSBpdFxyXG4gICAgICBpZiAoT2JqZWN0LmtleXMocGF5bG9hZFtrZXldKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBkZWxldGUgcGF5bG9hZFtrZXldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnNvbGUubG9nKGDwn5OmIEdlbmVyYXRlZCBwYXlsb2FkIGZvciAke01BVEVSSUFMX0RJU1BMQVlfTkFNRVNbbWF0ZXJpYWxUeXBlXX06YCwgcGF5bG9hZCk7XHJcbiAgcmV0dXJuIHBheWxvYWQ7XHJcbn07XHJcblxyXG5jb25zdCBjb252ZXJ0QXBpUmVzcG9uc2VUb1VJID0gKGFwaURhdGEsIGJhdGNoKSA9PiB7XHJcbiAgaWYgKCFhcGlEYXRhIHx8ICFBcnJheS5pc0FycmF5KGFwaURhdGEpKSB7XHJcbiAgICBjb25zb2xlLmxvZygn4p2MIE5vIHZhbGlkIEFQSSBkYXRhIGFycmF5IHRvIGNvbnZlcnQ6JywgYXBpRGF0YSk7XHJcbiAgICByZXR1cm4gYmF0Y2g7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZygn8J+UhCBDb252ZXJ0aW5nIEFQSSBkYXRhIHRvIFVJLiBGb3VuZCBpdGVtczonLCBhcGlEYXRhLmxlbmd0aCk7XHJcblxyXG4gIC8vIFNpbmNlIHdlIGhhdmUgbXVsdGlwbGUgbWF0ZXJpYWxzIGJ1dCBvbmUgdGFibGUsIHdlIG5lZWQgdG8gZGVjaWRlIGhvdyB0byBjb21iaW5lIHRoZW1cclxuICAvLyBGb3Igbm93LCB3ZSdsbCB1c2UgdGhlIGZpcnN0IG1hdGVyaWFsJ3MgZGF0YSAoeW91IG1pZ2h0IHdhbnQgdG8gaW1wbGVtZW50IGEgZGlmZmVyZW50IHN0cmF0ZWd5KVxyXG4gIGlmIChhcGlEYXRhLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IGZpcnN0TWF0ZXJpYWxEYXRhID0gYXBpRGF0YVswXTtcclxuICAgIGNvbnNvbGUubG9nKCfinIUgVXNpbmcgZGF0YSBmcm9tIGZpcnN0IG1hdGVyaWFsOicsIGZpcnN0TWF0ZXJpYWxEYXRhKTtcclxuXHJcbiAgICBjb25zdCBzdWJzdGFnZU1hcHBpbmcgPSBbXHJcbiAgICAgIHsgaW5kZXg6IDAsIGZpZWxkOiAnYnVua2VyX3Byb2Nlc3MxJyB9LFxyXG4gICAgICB7IGluZGV4OiAxLCBmaWVsZDogJ2J1bmtlcl9wcm9jZXNzMV9yZXN0JyB9LFxyXG4gICAgICB7IGluZGV4OiAyLCBmaWVsZDogJ2J1bmtlcl9wcm9jZXNzMicgfSxcclxuICAgICAgeyBpbmRleDogMywgZmllbGQ6ICdidW5rZXJfcHJvY2VzczJfcmVzdCcgfSxcclxuICAgICAgeyBpbmRleDogNCwgZmllbGQ6ICdidW5rZXJfcHJvY2VzczMnIH0sXHJcbiAgICAgIHsgaW5kZXg6IDUsIGZpZWxkOiAnYnVua2VyX3Byb2Nlc3MzX3Jlc3QnIH1cclxuICAgIF07XHJcblxyXG4gICAgc3Vic3RhZ2VNYXBwaW5nLmZvckVhY2goKHsgaW5kZXgsIGZpZWxkIH0pID0+IHtcclxuICAgICAgY29uc3Qgc3RhZ2VEYXRhID0gZmlyc3RNYXRlcmlhbERhdGFbZmllbGRdO1xyXG4gICAgICBpZiAoc3RhZ2VEYXRhICYmIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0pIHtcclxuICAgICAgICBpZiAoc3RhZ2VEYXRhLnN0YXJ0X3RpbWUpIHtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0ZSwgdGltZSB9ID0gcGFyc2VEYXRlVGltZShzdGFnZURhdGEuc3RhcnRfdGltZSk7XHJcbiAgICAgICAgICBiYXRjaC5zdWJzdGFnZXNbaW5kZXhdLnN0YXJ0RGF0ZSA9IGRhdGU7XHJcbiAgICAgICAgICBiYXRjaC5zdWJzdGFnZXNbaW5kZXhdLnN0YXJ0VGltZSA9IHRpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChzdGFnZURhdGEuZW5kX3RpbWUpIHtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0ZSwgdGltZSB9ID0gcGFyc2VEYXRlVGltZShzdGFnZURhdGEuZW5kX3RpbWUpO1xyXG4gICAgICAgICAgYmF0Y2guc3Vic3RhZ2VzW2luZGV4XS5lbmREYXRlID0gZGF0ZTtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0uZW5kVGltZSA9IHRpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChzdGFnZURhdGEuZHVyYXRpb25faG91cnMgIT09IHVuZGVmaW5lZCAmJiBzdGFnZURhdGEuZHVyYXRpb25faG91cnMgIT09IG51bGwpIHtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0udG90YWxIb3VycyA9IHN0YWdlRGF0YS5kdXJhdGlvbl9ob3Vycy50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoc3RhZ2VEYXRhLm1vaXN0dXJlICE9PSB1bmRlZmluZWQgJiYgc3RhZ2VEYXRhLm1vaXN0dXJlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBiYXRjaC5zdWJzdGFnZXNbaW5kZXhdLm1vaXN0dXJlID0gc3RhZ2VEYXRhLm1vaXN0dXJlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChzdGFnZURhdGEudGVtcGVyYXR1cmUgIT09IHVuZGVmaW5lZCAmJiBzdGFnZURhdGEudGVtcGVyYXR1cmUgIT09IG51bGwpIHtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0udGVtcGVyYXR1cmUgPSBzdGFnZURhdGEudGVtcGVyYXR1cmUudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHN0YWdlRGF0YS5yZW1hcmtzKSB7XHJcbiAgICAgICAgICBiYXRjaC5zdWJzdGFnZXNbaW5kZXhdLnJlbWFya3MgPSBzdGFnZURhdGEucmVtYXJrcztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coJ+KchSBGaW5pc2hlZCBjb252ZXJ0aW5nIEFQSSBkYXRhIHRvIFVJJyk7XHJcbiAgcmV0dXJuIGJhdGNoO1xyXG59O1xyXG5cclxuY29uc3Qgc2VuZFRvQXBpID0gYXN5bmMgKHBheWxvYWQsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChBUElfRU5EUE9JTlQsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhg8J+TpSBSRVNQT05TRSBmb3IgJHtkaXNwbGF5TmFtZX06IFN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBkZXRhaWw6ICdVbmtub3duIGVycm9yJyB9KSk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBUEkgRXJyb3IgUmVzcG9uc2U6JywgZXJyb3JEYXRhKTtcclxuICAgICAgXHJcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xyXG4gICAgICBpZiAoZXJyb3JEYXRhLmRldGFpbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXJyb3JEYXRhLmRldGFpbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5kZXRhaWw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVycm9yRGF0YS5kZXRhaWwpKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZGV0YWlsLm1hcChlcnIgPT4gZXJyLm1zZykuam9pbignLCAnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlcnJvckRhdGEuZGV0YWlsID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZXJyb3JEYXRhLmRldGFpbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFNVQ0NFU1MgZm9yICR7ZGlzcGxheU5hbWV9OmAsIHJlc3VsdCk7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihg4p2MIEVSUk9SIHNlbmRpbmcgJHtkaXNwbGF5TmFtZX0gZGF0YTpgLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UsIG1hdGVyaWFsVHlwZSwgZGlzcGxheU5hbWUgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBCdW5rZXJUYWJsZSA9IFJlYWN0Lm1lbW8oKHsgYmF0Y2gsIG9uVXBkYXRlLCByZWFkT25seSA9IGZhbHNlIH0pID0+IHtcclxuICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KCk7XHJcblxyXG4gIGNvbnN0IHZhbGlkYXRlRGF0ZVJhbmdlID0gKHN1YnN0YWdlLCBmaWVsZCwgbmV3VmFsdWUpID0+IHtcclxuICAgIGlmIChmaWVsZCA9PT0gJ3N0YXJ0RGF0ZScgfHwgZmllbGQgPT09ICdzdGFydFRpbWUnKSB7XHJcbiAgICAgIGlmIChzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgICBjb25zdCBuZXdTdGFydERhdGVUaW1lID0gZmllbGQgPT09ICdzdGFydERhdGUnIFxyXG4gICAgICAgICAgPyBjb21iaW5lRGF0ZVRpbWUobmV3VmFsdWUsIHN1YnN0YWdlLnN0YXJ0VGltZSlcclxuICAgICAgICAgIDogY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLnN0YXJ0RGF0ZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLmVuZERhdGUsIHN1YnN0YWdlLmVuZFRpbWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChuZXdTdGFydERhdGVUaW1lICYmIGVuZERhdGVUaW1lICYmIG5ldyBEYXRlKG5ld1N0YXJ0RGF0ZVRpbWUpID4gbmV3IERhdGUoZW5kRGF0ZVRpbWUpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgJHtzdWJzdGFnZS5uYW1lfTogU3RhcnQgZGF0ZS90aW1lIGNhbm5vdCBiZSBhZnRlciBlbmQgZGF0ZS90aW1lYCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGZpZWxkID09PSAnZW5kRGF0ZScgfHwgZmllbGQgPT09ICdlbmRUaW1lJykge1xyXG4gICAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBjb21iaW5lRGF0ZVRpbWUoc3Vic3RhZ2Uuc3RhcnREYXRlLCBzdWJzdGFnZS5zdGFydFRpbWUpO1xyXG4gICAgICAgIGNvbnN0IG5ld0VuZERhdGVUaW1lID0gZmllbGQgPT09ICdlbmREYXRlJ1xyXG4gICAgICAgICAgPyBjb21iaW5lRGF0ZVRpbWUobmV3VmFsdWUsIHN1YnN0YWdlLmVuZFRpbWUpXHJcbiAgICAgICAgICA6IGNvbWJpbmVEYXRlVGltZShzdWJzdGFnZS5lbmREYXRlLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUgJiYgbmV3RW5kRGF0ZVRpbWUgJiYgbmV3IERhdGUoc3RhcnREYXRlVGltZSkgPiBuZXcgRGF0ZShuZXdFbmREYXRlVGltZSkpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGAke3N1YnN0YWdlLm5hbWV9OiBFbmQgZGF0ZS90aW1lIGNhbm5vdCBiZSBiZWZvcmUgc3RhcnQgZGF0ZS90aW1lYCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRNaW5FbmREYXRlID0gKHN1YnN0YWdlKSA9PiB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlKSB7XHJcbiAgICAgIHJldHVybiBzdWJzdGFnZS5zdGFydERhdGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldE1pbkVuZFRpbWUgPSAoc3Vic3RhZ2UpID0+IHtcclxuICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgPT09IHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgIHJldHVybiBzdWJzdGFnZS5zdGFydFRpbWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGluZGV4LCBmaWVsZCwgdmFsdWUpID0+IHtcclxuICAgIGlmIChyZWFkT25seSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCB1cGRhdGVkQmF0Y2ggPSB7IC4uLmJhdGNoIH07XHJcbiAgICBjb25zdCBzdWJzdGFnZSA9IHVwZGF0ZWRCYXRjaC5zdWJzdGFnZXNbaW5kZXhdO1xyXG4gICAgXHJcbiAgICBpZiAoZmllbGQgPT09ICdzdGFydERhdGUnIHx8IGZpZWxkID09PSAnc3RhcnRUaW1lJyB8fCBmaWVsZCA9PT0gJ2VuZERhdGUnIHx8IGZpZWxkID09PSAnZW5kVGltZScpIHtcclxuICAgICAgaWYgKCF2YWxpZGF0ZURhdGVSYW5nZShzdWJzdGFnZSwgZmllbGQsIHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzdWJzdGFnZVtmaWVsZF0gPSB2YWx1ZTtcclxuICAgIFxyXG4gICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiBzdWJzdGFnZS5zdGFydFRpbWUgJiYgc3Vic3RhZ2UuZW5kRGF0ZSAmJiBzdWJzdGFnZS5lbmRUaW1lKSB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5zdGFydERhdGV9VCR7c3Vic3RhZ2Uuc3RhcnRUaW1lfWApO1xyXG4gICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLmVuZERhdGV9VCR7c3Vic3RhZ2UuZW5kVGltZX1gKTtcclxuICAgICAgY29uc3QgZGlmZkhvdXJzID0gKGVuZERhdGVUaW1lIC0gc3RhcnREYXRlVGltZSkgLyAoMTAwMCAqIDYwICogNjApO1xyXG4gICAgICBzdWJzdGFnZS50b3RhbEhvdXJzID0gZGlmZkhvdXJzLnRvRml4ZWQoMSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uVXBkYXRlKHVwZGF0ZWRCYXRjaCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gR2V0IHRoZSBkaXNwbGF5IHN0cmluZyBmb3IgbWF0ZXJpYWxzXHJcbiAgY29uc3QgZ2V0TWF0ZXJpYWxzRGlzcGxheSA9ICgpID0+IHtcclxuICAgIGlmIChiYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcyAmJiBiYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiBiYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcy5qb2luKCcgKyAnKTtcclxuICAgIH1cclxuICAgIHJldHVybiAnQnVua2VyIFByb2Nlc3MnO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYmxlLXNlY3Rpb25cIj5cclxuICAgICAgPGgzIGNsYXNzTmFtZT1cInRhYmxlLXRpdGxlXCI+QnVua2VyIFByb2Nlc3MgLSB7Z2V0TWF0ZXJpYWxzRGlzcGxheSgpfTwvaDM+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW50cnktdGFibGUtY29udGFpbmVyXCI+XHJcbiAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cImVudHJ5LXRhYmxlIHVuaWZpZWQtcGxhdGZvcm0tdGFibGVcIj5cclxuICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPlN1YnN0YWdlPC90aD5cclxuICAgICAgICAgICAgICA8dGggY29sU3Bhbj1cIjJcIj5TdGFydDwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIGNvbFNwYW49XCIyXCI+RW5kPC90aD5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5Ub3RhbCBIb3VyczwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+TW9pc3R1cmUgKCUpPC90aD5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5UZW1wZXJhdHVyZSAowrBDKTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+UmVtYXJrczwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGg+RGF0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoPlRpbWU8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aD5EYXRlPC90aD5cclxuICAgICAgICAgICAgICA8dGg+VGltZTwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICB7YmF0Y2guc3Vic3RhZ2VzLm1hcCgoc3Vic3RhZ2UsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgPHRyIGtleT17aW5kZXh9PlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInN1YnN0YWdlLW5hbWVcIj57c3Vic3RhZ2UubmFtZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnN0YXJ0RGF0ZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnc3RhcnREYXRlJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PXtzdWJzdGFnZS5lbmREYXRlIHx8IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0aW1lXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2Uuc3RhcnRUaW1lIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdzdGFydFRpbWUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtYXg9e3N1YnN0YWdlLnN0YXJ0RGF0ZSA9PT0gc3Vic3RhZ2UuZW5kRGF0ZSA/IHN1YnN0YWdlLmVuZFRpbWUgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLmVuZERhdGUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ2VuZERhdGUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtaW49e2dldE1pbkVuZERhdGUoc3Vic3RhZ2UpfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRpbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5lbmRUaW1lIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdlbmRUaW1lJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWluPXtnZXRNaW5FbmRUaW1lKHN1YnN0YWdlKX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UudG90YWxIb3VycyB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICByZWFkT25seVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0IGhvdXJzLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLm1vaXN0dXJlIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdtb2lzdHVyZScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dCBtb2lzdHVyZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIlXCJcclxuICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcclxuICAgICAgICAgICAgICAgICAgICBtYXg9XCIxMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS50ZW1wZXJhdHVyZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAndGVtcGVyYXR1cmUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXQgdGVtcGVyYXR1cmUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiwrBDXCJcclxuICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcclxuICAgICAgICAgICAgICAgICAgICBtYXg9XCIxMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UucmVtYXJrcyB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAncmVtYXJrcycsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dCByZW1hcmtzLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFkZCByZW1hcmtzLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0pO1xyXG5cclxuQnVua2VyVGFibGUuZGlzcGxheU5hbWUgPSAnQnVua2VyVGFibGUnO1xyXG5cclxuZnVuY3Rpb24gQmF0Y2hTZWxlY3Rpb24oeyBvblNlbGVjdEJhdGNoLCBsb2FkaW5nLCBlcnJvciwgaW5pdGlhbEJhdGNoTnVtYmVyLCBpbml0aWFsQmF0Y2hJZCB9KSB7XHJcbiAgY29uc3QgW2JhdGNoTnVtYmVyLCBzZXRCYXRjaE51bWJlcl0gPSB1c2VTdGF0ZShpbml0aWFsQmF0Y2hOdW1iZXIgfHwgJycpO1xyXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpO1xyXG4gIGNvbnN0IGhhc0xvYWRlZFJlZiA9IHVzZVJlZihmYWxzZSk7XHJcblxyXG4gIC8vIEF1dG8tbG9hZCBiYXRjaCBpZiBpbml0aWFsQmF0Y2hOdW1iZXIgaXMgcHJvdmlkZWRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGluaXRpYWxCYXRjaE51bWJlciAmJiAhaGFzTG9hZGVkUmVmLmN1cnJlbnQgJiYgIWxvYWRpbmcpIHtcclxuICAgICAgc2V0QmF0Y2hOdW1iZXIoaW5pdGlhbEJhdGNoTnVtYmVyKTtcclxuICAgICAgaGFuZGxlTG9hZEJhdGNoKGluaXRpYWxCYXRjaE51bWJlciwgaW5pdGlhbEJhdGNoSWQpO1xyXG4gICAgICBoYXNMb2FkZWRSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfSwgW2luaXRpYWxCYXRjaE51bWJlciwgaW5pdGlhbEJhdGNoSWQsIGxvYWRpbmddKTtcclxuXHJcbiAgY29uc3QgZ2V0TWF0ZXJpYWxzRnJvbUJhdGNoID0gKGJhdGNoRGF0YSkgPT4ge1xyXG4gICAgY29uc3QgbWF0ZXJpYWxzID0gbmV3IFNldCgpO1xyXG4gICAgXHJcbiAgICBpZiAoYmF0Y2hEYXRhICYmIGJhdGNoRGF0YS5mb3JtdWxhdGlvbl9lbnRyaWVzKSB7XHJcbiAgICAgIGJhdGNoRGF0YS5mb3JtdWxhdGlvbl9lbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsTmFtZSA9IGVudHJ5Lm5hbWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICBpZiAoTUFURVJJQUxfVFlQRVNbbWF0ZXJpYWxOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBtYXRlcmlhbHMuYWRkKG1hdGVyaWFsTmFtZSk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TjCBGb3VuZCBtYXRlcmlhbDogJHttYXRlcmlhbE5hbWV9IC0+ICR7TUFURVJJQUxfVFlQRVNbbWF0ZXJpYWxOYW1lXX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShtYXRlcmlhbHMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUxvYWRCYXRjaCA9IGFzeW5jIChiYXRjaE51bSwgYmF0Y2hJZCkgPT4ge1xyXG4gICAgaWYgKCFiYXRjaE51bS50cmltKCkpIHtcclxuICAgICAgdG9hc3QuZXJyb3IoJ1BsZWFzZSBlbnRlciBhIGJhdGNoIG51bWJlcicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEZldGNoaW5nIGJhdGNoIGRldGFpbHMgZm9yOiAke2JhdGNoTnVtfSB3aXRoIElEOiAke2JhdGNoSWQgfHwgJ3Vua25vd24nfWApO1xyXG4gICAgICBcclxuICAgICAgbGV0IHNlbGVjdGVkQmF0Y2ggPSBudWxsO1xyXG4gICAgICBsZXQgYmF0Y2hJZFRvVXNlID0gYmF0Y2hJZDtcclxuICAgICAgXHJcbiAgICAgIC8vIElmIGJhdGNoSWQgaXMgcHJvdmlkZWQsIHdlIGNhbiB1c2UgaXQgZGlyZWN0bHlcclxuICAgICAgaWYgKGJhdGNoSWRUb1VzZSkge1xyXG4gICAgICAgIC8vIFRyeSB0byBmZXRjaCBiYXRjaCBkZXRhaWxzIHVzaW5nIElEXHJcbiAgICAgICAgY29uc3QgYmF0Y2hSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBVENIX0ZFVENIX0VORFBPSU5UfS8ke2JhdGNoSWRUb1VzZX1gKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoYmF0Y2hSZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgY29uc3QgYmF0Y2hSZXN1bHQgPSBhd2FpdCBiYXRjaFJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgIHNlbGVjdGVkQmF0Y2ggPSBiYXRjaFJlc3VsdC5kYXRhIHx8IGJhdGNoUmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBmZXRjaGluZyBhbGwgYmF0Y2hlc1xyXG4gICAgICAgICAgY29uc3QgYWxsQmF0Y2hlc1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goQkFUQ0hfRkVUQ0hfRU5EUE9JTlQpO1xyXG4gICAgICAgICAgaWYgKGFsbEJhdGNoZXNSZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCBhbGxCYXRjaGVzUmVzdWx0ID0gYXdhaXQgYWxsQmF0Y2hlc1Jlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgbGV0IGJhdGNoZXMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYWxsQmF0Y2hlc1Jlc3VsdCkpIHtcclxuICAgICAgICAgICAgICBiYXRjaGVzID0gYWxsQmF0Y2hlc1Jlc3VsdDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhbGxCYXRjaGVzUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICBiYXRjaGVzID0gYWxsQmF0Y2hlc1Jlc3VsdC5kYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGVjdGVkQmF0Y2ggPSBiYXRjaGVzLmZpbmQoYiA9PiBiLmlkID09PSBiYXRjaElkVG9Vc2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBObyBiYXRjaElkIHByb3ZpZGVkLCBmZXRjaCBieSBiYXRjaCBudW1iZXJcclxuICAgICAgICBjb25zdCBiYXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goQkFUQ0hfRkVUQ0hfRU5EUE9JTlQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghYmF0Y2hSZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggYmF0Y2hlcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBiYXRjaFJlc3VsdCA9IGF3YWl0IGJhdGNoUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBiYXRjaGVzID0gW107XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYmF0Y2hSZXN1bHQpKSB7XHJcbiAgICAgICAgICBiYXRjaGVzID0gYmF0Y2hSZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiYXRjaFJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICBiYXRjaGVzID0gYmF0Y2hSZXN1bHQuZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGVjdGVkQmF0Y2ggPSBiYXRjaGVzLmZpbmQoYiA9PiBiLmJhdGNoX251bWJlciA9PT0gYmF0Y2hOdW0udHJpbSgpKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKCFzZWxlY3RlZEJhdGNoKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoJ0JhdGNoIG51bWJlciBub3QgZm91bmQnKTtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGb3VuZCBiYXRjaDonLCBzZWxlY3RlZEJhdGNoKTtcclxuXHJcbiAgICAgIGNvbnN0IG1hdGVyaWFscyA9IGdldE1hdGVyaWFsc0Zyb21CYXRjaChzZWxlY3RlZEJhdGNoKTtcclxuXHJcbiAgICAgIGlmIChtYXRlcmlhbHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoJ05vIHN1aXRhYmxlIG1hdGVyaWFscyAoQmFnYXNzZSwgV2hlYXQgU3RyYXcsIG9yIFBhZGR5IFN0cmF3KSBmb3VuZCBpbiB0aGlzIGJhdGNoJyk7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OLIE1hdGVyaWFscyB0byBwcm9jZXNzOmAsIG1hdGVyaWFscyk7XHJcblxyXG4gICAgICBjb25zdCBuZXdCYXRjaCA9IGNyZWF0ZUVtcHR5QmF0Y2goYmF0Y2hOdW0sIG1hdGVyaWFscywgc2VsZWN0ZWRCYXRjaC5pZCk7XHJcbiAgICAgIG5ld0JhdGNoLmJhdGNoRGF0YSA9IHNlbGVjdGVkQmF0Y2g7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBGZXRjaGluZyBidW5rZXIgZGF0YSBmb3IgYmF0Y2ggSUQ6Jywgc2VsZWN0ZWRCYXRjaC5pZCk7XHJcbiAgICAgIGNvbnN0IHN0cmF3RGF0YVJlc3VsdCA9IGF3YWl0IGZldGNoQmF0Y2hEYXRhKHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHN0cmF3RGF0YVJlc3VsdC5zdWNjZXNzICYmIHN0cmF3RGF0YVJlc3VsdC5kYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk6YgUmF3IEFQSSBkYXRhOicsIHN0cmF3RGF0YVJlc3VsdC5kYXRhKTtcclxuICAgICAgICBjb25zdCBwb3B1bGF0ZWRCYXRjaCA9IGNvbnZlcnRBcGlSZXNwb25zZVRvVUkoc3RyYXdEYXRhUmVzdWx0LmRhdGEsIG5ld0JhdGNoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFBvcHVsYXRlZCBiYXRjaDonLCBwb3B1bGF0ZWRCYXRjaCk7XHJcbiAgICAgICAgb25TZWxlY3RCYXRjaChwb3B1bGF0ZWRCYXRjaCk7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19IHdpdGggZXhpc3RpbmcgZGF0YSAoJHttYXRlcmlhbHMubGVuZ3RofSBtYXRlcmlhbCR7bWF0ZXJpYWxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30pYCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3RyYXdEYXRhUmVzdWx0LnN1Y2Nlc3MgJiYgIXN0cmF3RGF0YVJlc3VsdC5kYXRhKSB7XHJcbiAgICAgICAgb25TZWxlY3RCYXRjaChuZXdCYXRjaCk7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19ICgke21hdGVyaWFscy5sZW5ndGh9IG1hdGVyaWFsJHttYXRlcmlhbHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSAtIG5vIGV4aXN0aW5nIGRhdGEpYCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9hc3Qud2FybmluZyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19IGJ1dCBmYWlsZWQgdG8gZmV0Y2ggZXhpc3RpbmcgZGF0YWApO1xyXG4gICAgICAgIG9uU2VsZWN0QmF0Y2gobmV3QmF0Y2gpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBsb2FkaW5nIGJhdGNoOicsIGVycik7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdFcnJvciBsb2FkaW5nIGJhdGNoIGRldGFpbHMuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU5ldyA9ICgpID0+IHtcclxuICAgIGlmIChpc0xvYWRpbmcgfHwgbG9hZGluZykgcmV0dXJuO1xyXG4gICAgaGFuZGxlTG9hZEJhdGNoKGJhdGNoTnVtYmVyKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiYXRjaC1zZWxlY3Rpb25cIj5cclxuICAgICAgPGgyPkJ1bmtlciBNYW5hZ2VtZW50IFByb2Nlc3MgRW50cnk8L2gyPlxyXG4gICAgICBcclxuICAgICAge2Vycm9yICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj5cclxuICAgICAgICAgIEVycm9yOiB7ZXJyb3J9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdGlvbi1wYW5lbFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LWJhdGNoLXNlY3Rpb25cIj5cclxuICAgICAgICAgIDxoMz5FbnRlciBCYXRjaCBOdW1iZXI8L2gzPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYXRjaC1pbnB1dC1ncm91cFwiPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBCYXRjaCBOdW1iZXIgKGUuZy4sIEJBVENILTAwMSlcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXtiYXRjaE51bWJlcn1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEJhdGNoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiYXRjaC1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBsb2FkaW5nfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNyZWF0ZU5ld30gXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgbG9hZGluZ31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtpc0xvYWRpbmcgfHwgbG9hZGluZyA/ICdMb2FkaW5nLi4uJyA6ICdMb2FkIEJhdGNoJ31cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBCdW5rZXJNYW5hZ2VtZW50Q29udGVudCgpIHtcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KCk7XHJcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XHJcbiAgY29uc3QgW2N1cnJlbnRCYXRjaCwgc2V0Q3VycmVudEJhdGNoXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtpbml0aWFsQmF0Y2hOdW1iZXIsIHNldEluaXRpYWxCYXRjaE51bWJlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbaW5pdGlhbEJhdGNoSWQsIHNldEluaXRpYWxCYXRjaElkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IGlzU2F2aW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gR2V0IGJhdGNoIG51bWJlciBhbmQgSUQgZnJvbSBVUkwgcGFyYW1zXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGJhdGNoTnVtID0gc2VhcmNoUGFyYW1zLmdldCgnYmF0Y2gnKTtcclxuICAgIGNvbnN0IGJhdGNoSWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdiYXRjaElkJyk7XHJcbiAgICBcclxuICAgIGlmIChiYXRjaE51bSkge1xyXG4gICAgICBzZXRJbml0aWFsQmF0Y2hOdW1iZXIoYmF0Y2hOdW0pO1xyXG4gICAgICBzZXRJbml0aWFsQmF0Y2hJZChiYXRjaElkKTtcclxuICAgIH1cclxuICB9LCBbc2VhcmNoUGFyYW1zXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNlbGVjdEJhdGNoID0gKGJhdGNoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFNldHRpbmcgY3VycmVudCBiYXRjaDonLCBiYXRjaCk7XHJcbiAgICBzZXRDdXJyZW50QmF0Y2goYmF0Y2gpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVVwZGF0ZUJhdGNoID0gdXNlQ2FsbGJhY2soKHVwZGF0ZWRCYXRjaCkgPT4ge1xyXG4gICAgc2V0Q3VycmVudEJhdGNoKHVwZGF0ZWRCYXRjaCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCB2YWxpZGF0ZUJhdGNoRGF0YSA9IChiYXRjaCkgPT4ge1xyXG4gICAgLy8gVmFsaWRhdGUgc3RhZ2Ugc2VxdWVuY2luZ1xyXG4gICAgaWYgKCF2YWxpZGF0ZVN0YWdlU2VxdWVuY2luZyhiYXRjaC5zdWJzdGFnZXMsIHRvYXN0KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFZhbGlkYXRlIGVhY2ggc3Vic3RhZ2VcclxuICAgIGZvciAoY29uc3Qgc3Vic3RhZ2Ugb2YgYmF0Y2guc3Vic3RhZ2VzKSB7XHJcbiAgICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lICYmIHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5zdGFydERhdGV9VCR7c3Vic3RhZ2Uuc3RhcnRUaW1lfWApO1xyXG4gICAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2UuZW5kRGF0ZX1UJHtzdWJzdGFnZS5lbmRUaW1lfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChzdGFydERhdGVUaW1lID4gZW5kRGF0ZVRpbWUpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGAke3N1YnN0YWdlLm5hbWV9OiBFbmQgZGF0ZS90aW1lIGNhbm5vdCBiZSBiZWZvcmUgc3RhcnQgZGF0ZS90aW1lYCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoKHN1YnN0YWdlLnN0YXJ0RGF0ZSB8fCBzdWJzdGFnZS5zdGFydFRpbWUpICYmICghc3Vic3RhZ2Uuc3RhcnREYXRlIHx8ICFzdWJzdGFnZS5zdGFydFRpbWUpKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYFBsZWFzZSBjb21wbGV0ZSBib3RoIGRhdGUgYW5kIHRpbWUgZm9yICR7c3Vic3RhZ2UubmFtZX0gc3RhcnRgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKChzdWJzdGFnZS5lbmREYXRlIHx8IHN1YnN0YWdlLmVuZFRpbWUpICYmICghc3Vic3RhZ2UuZW5kRGF0ZSB8fCAhc3Vic3RhZ2UuZW5kVGltZSkpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcihgUGxlYXNlIGNvbXBsZXRlIGJvdGggZGF0ZSBhbmQgdGltZSBmb3IgJHtzdWJzdGFnZS5uYW1lfSBlbmRgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2F2ZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghY3VycmVudEJhdGNoIHx8IGlzU2F2aW5nUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ1xcbj09PT09PT09PT0g8J+agCBTQVZFIFNUQVJURUQgPT09PT09PT09PScpO1xyXG4gICAgY29uc29sZS5sb2coYEJhdGNoOiAke2N1cnJlbnRCYXRjaC5iYXRjaE51bWJlcn0gKElEOiAke2N1cnJlbnRCYXRjaC5pZH0pYCk7XHJcbiAgICBjb25zb2xlLmxvZyhgTWF0ZXJpYWxzOiAke2N1cnJlbnRCYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcz8uam9pbignLCAnKSB8fCAnVW5rbm93bid9YCk7XHJcblxyXG4gICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICAgIGxldCBoYXNBbnlEYXRhVG9TYXZlID0gZmFsc2U7XHJcbiAgICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xyXG4gICAgICBsZXQgZmFpbENvdW50ID0gMDtcclxuICAgICAgXHJcbiAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgZGF0YSB0byBzYXZlXHJcbiAgICAgIGlmICghaGFzQ29tcGxldGVEYXRhKGN1cnJlbnRCYXRjaC5zdWJzdGFnZXMpKSB7XHJcbiAgICAgICAgdG9hc3QuaW5mbygnTm8gY29tcGxldGUgZGF0YSB0byBzYXZlLiBQbGVhc2UgZmlsbCBpbiBhbGwgcmVxdWlyZWQgZmllbGRzLicpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFNhdmUgZm9yIGVhY2ggbWF0ZXJpYWwgdHlwZSBpbiB0aGUgYmF0Y2hcclxuICAgICAgZm9yIChjb25zdCBtYXRlcmlhbFR5cGUgb2YgY3VycmVudEJhdGNoLm1hdGVyaWFsVHlwZXMpIHtcclxuICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IE1BVEVSSUFMX0RJU1BMQVlfTkFNRVNbbWF0ZXJpYWxUeXBlXTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgXFxuLS0tIPCfk50gUHJvY2Vzc2luZyBtYXRlcmlhbDogJHtkaXNwbGF5TmFtZX0gLS0tYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGNvbnZlcnRUb0FwaVBheWxvYWQoY3VycmVudEJhdGNoLCBtYXRlcmlhbFR5cGUsIGZhbHNlKTtcclxuICAgICAgICBpZiAocGF5bG9hZCkge1xyXG4gICAgICAgICAgaGFzQW55RGF0YVRvU2F2ZSA9IHRydWU7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TpCBNYWtpbmcgQVBJIGNhbGwgZm9yICR7ZGlzcGxheU5hbWV9YCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRUb0FwaShwYXlsb2FkLCBtYXRlcmlhbFR5cGUsIGRpc3BsYXlOYW1lKTtcclxuICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XHJcbiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYCR7ZGlzcGxheU5hbWV9IGRhdGEgc2F2ZWQgc3VjY2Vzc2Z1bGx5IWApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmFpbENvdW50Kys7XHJcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gc2F2ZSAke2Rpc3BsYXlOYW1lfSBkYXRhOiAke3Jlc3VsdC5lcnJvcn1gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdcXG49PT09PT09PT09IPCfk4ogU0FWRSBTVU1NQVJZID09PT09PT09PT0nKTtcclxuICAgICAgY29uc29sZS5sb2coYFRvdGFsIEFQSSBjYWxscyBhdHRlbXB0ZWQ6ICR7cmVzdWx0cy5sZW5ndGh9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgU3VjY2Vzc2Z1bDogJHtzdWNjZXNzQ291bnR9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinYwgRmFpbGVkOiAke2ZhaWxDb3VudH1gKTtcclxuICAgICAgY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG4nKTtcclxuXHJcbiAgICAgIGlmICghaGFzQW55RGF0YVRvU2F2ZSkge1xyXG4gICAgICAgIHRvYXN0LmluZm8oJ05vIGRhdGEgdG8gc2F2ZS4nKTtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBhbGxTdWNjZXNzID0gcmVzdWx0cy5ldmVyeShyID0+IHIuc3VjY2Vzcyk7XHJcbiAgICAgIGlmIChhbGxTdWNjZXNzKSB7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgQWxsICR7c3VjY2Vzc0NvdW50fSBtYXRlcmlhbCBkYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseSFgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b2FzdC53YXJuaW5nKGAke3N1Y2Nlc3NDb3VudH0gbWF0ZXJpYWwocykgc2F2ZWQgc3VjY2Vzc2Z1bGx5LCAke2ZhaWxDb3VudH0gZmFpbGVkYCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBiYXRjaCBkYXRhJyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTYXZlIGVycm9yOicsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUJhY2tUb1NlbGVjdGlvbiA9ICgpID0+IHtcclxuICAgIC8vIENsZWFyIHRoZSBjdXJyZW50IGJhdGNoIHRvIHNob3cgdGhlIHNlbGVjdGlvbiBVSVxyXG4gICAgc2V0Q3VycmVudEJhdGNoKG51bGwpO1xyXG4gICAgLy8gQ2xlYXIgVVJMIHBhcmFtcyB3aGVuIGdvaW5nIGJhY2tcclxuICAgIHJvdXRlci5wdXNoKCcvYnVua2VyLW1hbmFnZW1lbnQnKTtcclxuICAgIC8vIENsZWFyIGFueSBzYXZlZCBzdGF0ZVxyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAvLyBSZXNldCB0aGUgaW5pdGlhbCBiYXRjaCBudW1iZXIgc3RhdGUgaWYgbmVlZGVkXHJcbiAgICBzZXRJbml0aWFsQmF0Y2hOdW1iZXIobnVsbCk7XHJcbiAgICBzZXRJbml0aWFsQmF0Y2hJZChudWxsKTtcclxuICB9O1xyXG5cclxuICBpZiAoIWN1cnJlbnRCYXRjaCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEFwcExheW91dCB0aXRsZT1cIkJ1bmtlciBNYW5hZ2VtZW50XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1bmlmaWVkLXBsYXRmb3JtLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgPEJhdGNoU2VsZWN0aW9uIFxyXG4gICAgICAgICAgICBvblNlbGVjdEJhdGNoPXtoYW5kbGVTZWxlY3RCYXRjaH1cclxuICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cclxuICAgICAgICAgICAgZXJyb3I9e2Vycm9yfVxyXG4gICAgICAgICAgICBpbml0aWFsQmF0Y2hOdW1iZXI9e2luaXRpYWxCYXRjaE51bWJlcn1cclxuICAgICAgICAgICAgaW5pdGlhbEJhdGNoSWQ9e2luaXRpYWxCYXRjaElkfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9BcHBMYXlvdXQ+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWF0ZXJpYWxzRGlzcGxheSA9IGN1cnJlbnRCYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcz8uam9pbignICsgJykgfHwgJ1Vua25vd24nO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPEFwcExheW91dCB0aXRsZT1cIkJ1bmtlciBNYW5hZ2VtZW50XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidW5pZmllZC1wbGF0Zm9ybS1jb250YWluZXJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVudHJ5LWhlYWRlclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItbGVmdFwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUJhY2tUb1NlbGVjdGlvbn0gY2xhc3NOYW1lPVwiYmFjay1idXR0b25cIj5cclxuICAgICAgICAgICAgICA8QXJyb3dCYWNrSWNvbi8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8aDI+e2N1cnJlbnRCYXRjaC5iYXRjaE51bWJlcn08L2gyPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1jb3VudFwiPlxyXG4gICAgICAgICAgICAgICh7bWF0ZXJpYWxzRGlzcGxheX0pXHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItYWN0aW9uc1wiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmV9IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1zYXZlXCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz5cclxuICAgICAgICAgICAgICB7bG9hZGluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUnfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogU2luZ2xlIHRhYmxlIGZvciBhbGwgbWF0ZXJpYWxzICovfVxyXG4gICAgICAgIDxCdW5rZXJUYWJsZSBcclxuICAgICAgICAgIGJhdGNoPXtjdXJyZW50QmF0Y2h9XHJcbiAgICAgICAgICBvblVwZGF0ZT17aGFuZGxlVXBkYXRlQmF0Y2h9XHJcbiAgICAgICAgICByZWFkT25seT17ZmFsc2V9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L0FwcExheW91dD5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCdW5rZXJNYW5hZ2VtZW50KCkge1xyXG4gIHJldHVybiAoXHJcbiAgICA8VG9hc3RQcm92aWRlcj5cclxuICAgICAgPEJ1bmtlck1hbmFnZW1lbnRDb250ZW50IC8+XHJcbiAgICA8L1RvYXN0UHJvdmlkZXI+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VSb3V0ZXIiLCJ1c2VTZWFyY2hQYXJhbXMiLCJBcHBMYXlvdXQiLCJUb2FzdFByb3ZpZGVyIiwidXNlVG9hc3QiLCJTYXZlSWNvbiIsIkFycm93Rm9yd2FyZEljb24iLCJBcnJvd0JhY2tJY29uIiwiTUFURVJJQUxfVFlQRVMiLCJNQVRFUklBTF9ESVNQTEFZX05BTUVTIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJBUElfRU5EUE9JTlQiLCJBUElfRkVUQ0hfRU5EUE9JTlQiLCJCQVRDSF9GRVRDSF9FTkRQT0lOVCIsIlNUQUdFX05BTUVTIiwiY3JlYXRlRW1wdHlTdWJzdGFnZSIsIm5hbWUiLCJzdGFydERhdGUiLCJzdGFydFRpbWUiLCJlbmREYXRlIiwiZW5kVGltZSIsInRvdGFsSG91cnMiLCJtb2lzdHVyZSIsInRlbXBlcmF0dXJlIiwicmVtYXJrcyIsImNyZWF0ZUVtcHR5QmF0Y2giLCJiYXRjaE51bWJlciIsIm1hdGVyaWFscyIsImJhdGNoSWQiLCJtYXRlcmlhbFR5cGVzIiwibWFwIiwibSIsImZpbHRlciIsIkJvb2xlYW4iLCJtYXRlcmlhbERpc3BsYXlOYW1lcyIsInQiLCJiYXRjaCIsImlkIiwiRGF0ZSIsIm5vdyIsImJhdGNoRGF0YSIsImV4aXN0aW5nUmVjb3JkcyIsInN1YnN0YWdlcyIsInBhcnNlRGF0ZVRpbWUiLCJkYXRldGltZSIsImRhdGUiLCJ0aW1lIiwiaXNOYU4iLCJnZXRUaW1lIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJTdHJpbmciLCJnZXRNb250aCIsInBhZFN0YXJ0IiwiZGF5IiwiZ2V0RGF0ZSIsImhvdXJzIiwiZ2V0SG91cnMiLCJtaW51dGVzIiwiZ2V0TWludXRlcyIsImVycm9yIiwiY29uc29sZSIsImZldGNoQmF0Y2hEYXRhIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwic3RhdHVzIiwic3VjY2VzcyIsImRhdGEiLCJFcnJvciIsInJlc3BvbnNlRGF0YSIsImpzb24iLCJpdGVtcyIsIkFycmF5IiwiaXNBcnJheSIsIm1lc3NhZ2UiLCJmZXRjaEJhdGNoRGV0YWlscyIsImNvbWJpbmVEYXRlVGltZSIsImRhdGVUaW1lU3RyIiwidG9JU09TdHJpbmciLCJoYXNTdWJzdGFnZURhdGEiLCJzdWJzdGFnZSIsInZhbGlkYXRlU3RhZ2VTZXF1ZW5jaW5nIiwidG9hc3QiLCJpIiwibGVuZ3RoIiwiY3VycmVudFN0YWdlIiwibmV4dFN0YWdlIiwiY3VycmVudEVuZCIsIm5leHRTdGFydCIsImhhc0NvbXBsZXRlRGF0YSIsImhhc0FueURhdGEiLCJzb21lIiwiY29udmVydFRvQXBpUGF5bG9hZCIsIm1hdGVyaWFsVHlwZSIsImlzQ29tcGxldGVkIiwiYnVua2VyMSIsImJ1bmtlcjFSZXN0IiwiYnVua2VyMiIsImJ1bmtlcjJSZXN0IiwiYnVua2VyMyIsImJ1bmtlcjNSZXN0IiwiZm9ybWF0RGF0ZVRpbWUiLCJzZWNvbmRzIiwiZ2V0U2Vjb25kcyIsImJ1bmtlcjFfc3RhcnQiLCJidW5rZXIxX2VuZCIsImJ1bmtlcjFfcmVzdF9zdGFydCIsImJ1bmtlcjFfcmVzdF9lbmQiLCJidW5rZXIyX3N0YXJ0IiwiYnVua2VyMl9lbmQiLCJidW5rZXIyX3Jlc3Rfc3RhcnQiLCJidW5rZXIyX3Jlc3RfZW5kIiwiYnVua2VyM19zdGFydCIsImJ1bmtlcjNfZW5kIiwiYnVua2VyM19yZXN0X3N0YXJ0IiwiYnVua2VyM19yZXN0X2VuZCIsImFsbFN0YXJ0cyIsInN0YXJ0Iiwib3ZlcmFsbF9zdGFydF90aW1lIiwiTWF0aCIsIm1pbiIsImQiLCJwYXlsb2FkIiwiYmF0Y2hfaWQiLCJzdHJhd190eXBlIiwic3RhcnRfdGltZSIsImlzY29tcGxldGVkIiwiYnVua2VyX3Byb2Nlc3MxIiwiZW5kX3RpbWUiLCJwYXJzZUludCIsImJ1bmtlcl9wcm9jZXNzMV9yZXN0IiwiYnVua2VyX3Byb2Nlc3MyIiwiYnVua2VyX3Byb2Nlc3MyX3Jlc3QiLCJidW5rZXJfcHJvY2VzczMiLCJidW5rZXJfcHJvY2VzczNfcmVzdCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic3ViS2V5IiwidW5kZWZpbmVkIiwiY29udmVydEFwaVJlc3BvbnNlVG9VSSIsImFwaURhdGEiLCJmaXJzdE1hdGVyaWFsRGF0YSIsInN1YnN0YWdlTWFwcGluZyIsImluZGV4IiwiZmllbGQiLCJzdGFnZURhdGEiLCJkdXJhdGlvbl9ob3VycyIsInRvU3RyaW5nIiwic2VuZFRvQXBpIiwiZGlzcGxheU5hbWUiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvckRhdGEiLCJjYXRjaCIsImRldGFpbCIsImVycm9yTWVzc2FnZSIsImVyciIsIm1zZyIsImpvaW4iLCJyZXN1bHQiLCJCdW5rZXJUYWJsZSIsIm1lbW8iLCJvblVwZGF0ZSIsInJlYWRPbmx5IiwidmFsaWRhdGVEYXRlUmFuZ2UiLCJuZXdWYWx1ZSIsIm5ld1N0YXJ0RGF0ZVRpbWUiLCJlbmREYXRlVGltZSIsInN0YXJ0RGF0ZVRpbWUiLCJuZXdFbmREYXRlVGltZSIsImdldE1pbkVuZERhdGUiLCJnZXRNaW5FbmRUaW1lIiwiaGFuZGxlSW5wdXRDaGFuZ2UiLCJ2YWx1ZSIsInVwZGF0ZWRCYXRjaCIsImRpZmZIb3VycyIsInRvRml4ZWQiLCJnZXRNYXRlcmlhbHNEaXNwbGF5IiwiZGl2IiwiY2xhc3NOYW1lIiwiaDMiLCJ0YWJsZSIsInRoZWFkIiwidHIiLCJ0aCIsInJvd1NwYW4iLCJjb2xTcGFuIiwidGJvZHkiLCJ0ZCIsImlucHV0IiwidHlwZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImRpc2FibGVkIiwibWF4IiwicGxhY2Vob2xkZXIiLCJzdGVwIiwiQmF0Y2hTZWxlY3Rpb24iLCJvblNlbGVjdEJhdGNoIiwibG9hZGluZyIsImluaXRpYWxCYXRjaE51bWJlciIsImluaXRpYWxCYXRjaElkIiwic2V0QmF0Y2hOdW1iZXIiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJyb3V0ZXIiLCJzZWFyY2hQYXJhbXMiLCJoYXNMb2FkZWRSZWYiLCJjdXJyZW50IiwiaGFuZGxlTG9hZEJhdGNoIiwiZ2V0TWF0ZXJpYWxzRnJvbUJhdGNoIiwiU2V0IiwiZm9ybXVsYXRpb25fZW50cmllcyIsImVudHJ5IiwibWF0ZXJpYWxOYW1lIiwidG9VcHBlckNhc2UiLCJhZGQiLCJmcm9tIiwiYmF0Y2hOdW0iLCJ0cmltIiwic2VsZWN0ZWRCYXRjaCIsImJhdGNoSWRUb1VzZSIsImJhdGNoUmVzcG9uc2UiLCJiYXRjaFJlc3VsdCIsImFsbEJhdGNoZXNSZXNwb25zZSIsImFsbEJhdGNoZXNSZXN1bHQiLCJiYXRjaGVzIiwiZmluZCIsImIiLCJiYXRjaF9udW1iZXIiLCJuZXdCYXRjaCIsInN0cmF3RGF0YVJlc3VsdCIsInBvcHVsYXRlZEJhdGNoIiwid2FybmluZyIsImhhbmRsZUNyZWF0ZU5ldyIsImgyIiwiYnV0dG9uIiwib25DbGljayIsIkJ1bmtlck1hbmFnZW1lbnRDb250ZW50IiwiY3VycmVudEJhdGNoIiwic2V0Q3VycmVudEJhdGNoIiwic2V0TG9hZGluZyIsInNldEVycm9yIiwic2V0SW5pdGlhbEJhdGNoTnVtYmVyIiwic2V0SW5pdGlhbEJhdGNoSWQiLCJpc1NhdmluZ1JlZiIsImdldCIsImhhbmRsZVNlbGVjdEJhdGNoIiwiaGFuZGxlVXBkYXRlQmF0Y2giLCJ2YWxpZGF0ZUJhdGNoRGF0YSIsImhhbmRsZVNhdmUiLCJyZXN1bHRzIiwiaGFzQW55RGF0YVRvU2F2ZSIsInN1Y2Nlc3NDb3VudCIsImZhaWxDb3VudCIsImluZm8iLCJwdXNoIiwiYWxsU3VjY2VzcyIsImV2ZXJ5IiwiciIsInNldFRpbWVvdXQiLCJoYW5kbGVCYWNrVG9TZWxlY3Rpb24iLCJ0aXRsZSIsIm1hdGVyaWFsc0Rpc3BsYXkiLCJzcGFuIiwiZm9udFNpemUiLCJCdW5rZXJNYW5hZ2VtZW50Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(pages)/bunker-management/page.jsx\n"));

/***/ })

});