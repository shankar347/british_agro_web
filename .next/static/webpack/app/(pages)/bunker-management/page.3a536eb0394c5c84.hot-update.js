"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(pages)/bunker-management/page",{

/***/ "(app-pages-browser)/./app/(pages)/bunker-management/page.jsx":
/*!************************************************!*\
  !*** ./app/(pages)/bunker-management/page.jsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BunkerManagement)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/AppLayout */ \"(app-pages-browser)/./app/components/AppLayout.jsx\");\n/* harmony import */ var _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/common/Toaster */ \"(app-pages-browser)/./app/components/common/Toaster.jsx\");\n/* harmony import */ var _styles_pages_unified_platform_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../styles/pages/unified-platform.css */ \"(app-pages-browser)/./app/styles/pages/unified-platform.css\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/Save */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/ArrowBack */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowBack.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst MATERIAL_TYPES = {\n    'BAGASSE': 'BAGASSE',\n    'WHEAT STRAW': 'WHEAT',\n    'PADDY STRAW': 'PADDY'\n};\nconst MATERIAL_DISPLAY_NAMES = {\n    'BAGASSE': 'Bagasse',\n    'WHEAT': 'Wheat Straw',\n    'PADDY': 'Paddy Straw'\n};\nconst API_BASE_URL = \"http://192.168.1.148:8000\";\nconst API_ENDPOINT = \"\".concat(API_BASE_URL, \"/bunker-process-logs\");\nconst API_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/bunker-process-logs/batch\");\nconst BATCH_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/batches\");\nconst STAGE_NAMES = [\n    \"Bunker Process 1\",\n    \"Bunker Process 1 Rest\",\n    \"Bunker Process 2\",\n    \"Bunker Process 2 Rest\",\n    \"Bunker Process 3\",\n    \"Bunker Process 3 Rest\"\n];\nconst createEmptySubstage = (name)=>({\n        name: name,\n        startDate: '',\n        startTime: '',\n        endDate: '',\n        endTime: '',\n        totalHours: '',\n        moisture: '',\n        temperature: '',\n        remarks: ''\n    });\nconst createEmptyBatch = function(batchNumber) {\n    let materials = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], batchId = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n    // Store the list of materials present\n    const materialTypes = materials.map((m)=>MATERIAL_TYPES[m]).filter(Boolean);\n    const materialDisplayNames = materialTypes.map((t)=>MATERIAL_DISPLAY_NAMES[t]);\n    const batch = {\n        id: batchId || Date.now(),\n        batchNumber: batchNumber,\n        materialTypes: materialTypes,\n        materialDisplayNames: materialDisplayNames,\n        batchData: null,\n        existingRecords: {},\n        // Single set of substages for the combined table\n        substages: STAGE_NAMES.map((name)=>createEmptySubstage(name))\n    };\n    return batch;\n};\nconst parseDateTime = (datetime)=>{\n    if (!datetime) return {\n        date: '',\n        time: ''\n    };\n    try {\n        const date = new Date(datetime);\n        if (isNaN(date.getTime())) return {\n            date: '',\n            time: ''\n        };\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        const hours = String(date.getHours()).padStart(2, '0');\n        const minutes = String(date.getMinutes()).padStart(2, '0');\n        return {\n            date: \"\".concat(year, \"-\").concat(month, \"-\").concat(day),\n            time: \"\".concat(hours, \":\").concat(minutes)\n        };\n    } catch (error) {\n        console.error('Error parsing datetime:', error);\n        return {\n            date: '',\n            time: ''\n        };\n    }\n};\nconst fetchBatchData = async (batchId)=>{\n    try {\n        console.log(\"\\uD83D\\uDCCA Fetching bunker data for batch ID: \".concat(batchId));\n        const response = await fetch(\"\".concat(API_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            if (response.status === 404) {\n                console.log('ðŸ“­ No existing bunker data found for batch');\n                return {\n                    success: true,\n                    data: []\n                };\n            }\n            throw new Error(\"Failed to fetch bunker data: \".concat(response.status));\n        }\n        const responseData = await response.json();\n        console.log('ðŸ“¦ Fetched bunker data:', responseData);\n        // Handle the new response structure with items array\n        if (responseData.success && responseData.data) {\n            if (responseData.data.items && Array.isArray(responseData.data.items)) {\n                return {\n                    success: true,\n                    data: responseData.data.items\n                };\n            }\n            // If data itself is an array\n            if (Array.isArray(responseData.data)) {\n                return {\n                    success: true,\n                    data: responseData.data\n                };\n            }\n        }\n        return {\n            success: true,\n            data: []\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching bunker data:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst fetchBatchDetails = async (batchId)=>{\n    try {\n        const response = await fetch(\"\".concat(BATCH_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch batch details: \".concat(response.status));\n        }\n        const data = await response.json();\n        return {\n            success: true,\n            data\n        };\n    } catch (error) {\n        console.error('âŒ Error fetching batch details:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst combineDateTime = (date, time)=>{\n    if (!date || !time) return null;\n    try {\n        const dateTimeStr = \"\".concat(date, \"T\").concat(time, \":00\");\n        const datetime = new Date(dateTimeStr);\n        if (isNaN(datetime.getTime())) return null;\n        return datetime.toISOString();\n    } catch (error) {\n        console.error('Error combining datetime:', error);\n        return null;\n    }\n};\nconst hasSubstageData = (substage)=>{\n    return substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.moisture || substage.temperature || substage.remarks;\n};\nconst validateStageSequencing = (substages, toast)=>{\n    for(let i = 0; i < substages.length - 1; i++){\n        const currentStage = substages[i];\n        const nextStage = substages[i + 1];\n        if (!currentStage.endDate || !currentStage.endTime || !nextStage.startDate || !nextStage.startTime) {\n            continue;\n        }\n        const currentEnd = combineDateTime(currentStage.endDate, currentStage.endTime);\n        const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n        if (currentEnd && nextStart) {\n            if (new Date(currentEnd) > new Date(nextStart)) {\n                toast.error(\"\".concat(nextStage.name, \" must start after \").concat(currentStage.name, \" ends\"));\n                return false;\n            }\n        }\n    }\n    return true;\n};\nconst hasCompleteData = (substages)=>{\n    // Check if any data exists\n    const hasAnyData = substages.some((substage)=>substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.moisture || substage.temperature || substage.remarks);\n    if (!hasAnyData) {\n        console.log('ðŸ“ No data entered');\n        return false;\n    }\n    // Check each substage for completeness\n    for (const substage of substages){\n        if (substage.startDate && !substage.startTime) {\n            console.log(\"\\uD83D\\uDCDD Incomplete start data in \".concat(substage.name, \" (date without time)\"));\n            return false;\n        }\n        if (substage.startTime && !substage.startDate) {\n            console.log(\"\\uD83D\\uDCDD Incomplete start data in \".concat(substage.name, \" (time without date)\"));\n            return false;\n        }\n        if (substage.endDate && !substage.endTime) {\n            console.log(\"\\uD83D\\uDCDD Incomplete end data in \".concat(substage.name, \" (date without time)\"));\n            return false;\n        }\n        if (substage.endTime && !substage.endDate) {\n            console.log(\"\\uD83D\\uDCDD Incomplete end data in \".concat(substage.name, \" (time without date)\"));\n            return false;\n        }\n    }\n    console.log('âœ… Has valid data to save');\n    return true;\n};\nconst convertToApiPayload = (batch, materialType, isCompleted)=>{\n    const substages = batch.substages;\n    const bunker1 = substages[0] || createEmptySubstage(\"Bunker Process 1\");\n    const bunker1Rest = substages[1] || createEmptySubstage(\"Bunker Process 1 Rest\");\n    const bunker2 = substages[2] || createEmptySubstage(\"Bunker Process 2\");\n    const bunker2Rest = substages[3] || createEmptySubstage(\"Bunker Process 2 Rest\");\n    const bunker3 = substages[4] || createEmptySubstage(\"Bunker Process 3\");\n    const bunker3Rest = substages[5] || createEmptySubstage(\"Bunker Process 3 Rest\");\n    // Helper function to format datetime without milliseconds and timezone\n    const formatDateTime = (dateTimeStr)=>{\n        if (!dateTimeStr) return null;\n        try {\n            const date = new Date(dateTimeStr);\n            if (isNaN(date.getTime())) return null;\n            const year = date.getFullYear();\n            const month = String(date.getMonth() + 1).padStart(2, '0');\n            const day = String(date.getDate()).padStart(2, '0');\n            const hours = String(date.getHours()).padStart(2, '0');\n            const minutes = String(date.getMinutes()).padStart(2, '0');\n            const seconds = String(date.getSeconds()).padStart(2, '0');\n            return \"\".concat(year, \"-\").concat(month, \"-\").concat(day, \"T\").concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n        } catch (error) {\n            console.error('Error formatting datetime:', error);\n            return null;\n        }\n    };\n    // Only combine dates if both date and time exist\n    const bunker1_start = bunker1.startDate && bunker1.startTime ? combineDateTime(bunker1.startDate, bunker1.startTime) : null;\n    const bunker1_end = bunker1.endDate && bunker1.endTime ? combineDateTime(bunker1.endDate, bunker1.endTime) : null;\n    const bunker1_rest_start = bunker1Rest.startDate && bunker1Rest.startTime ? combineDateTime(bunker1Rest.startDate, bunker1Rest.startTime) : null;\n    const bunker1_rest_end = bunker1Rest.endDate && bunker1Rest.endTime ? combineDateTime(bunker1Rest.endDate, bunker1Rest.endTime) : null;\n    const bunker2_start = bunker2.startDate && bunker2.startTime ? combineDateTime(bunker2.startDate, bunker2.startTime) : null;\n    const bunker2_end = bunker2.endDate && bunker2.endTime ? combineDateTime(bunker2.endDate, bunker2.endTime) : null;\n    const bunker2_rest_start = bunker2Rest.startDate && bunker2Rest.startTime ? combineDateTime(bunker2Rest.startDate, bunker2Rest.startTime) : null;\n    const bunker2_rest_end = bunker2Rest.endDate && bunker2Rest.endTime ? combineDateTime(bunker2Rest.endDate, bunker2Rest.endTime) : null;\n    const bunker3_start = bunker3.startDate && bunker3.startTime ? combineDateTime(bunker3.startDate, bunker3.startTime) : null;\n    const bunker3_end = bunker3.endDate && bunker3.endTime ? combineDateTime(bunker3.endDate, bunker3.endTime) : null;\n    const bunker3_rest_start = bunker3Rest.startDate && bunker3Rest.startTime ? combineDateTime(bunker3Rest.startDate, bunker3Rest.startTime) : null;\n    const bunker3_rest_end = bunker3Rest.endDate && bunker3Rest.endTime ? combineDateTime(bunker3Rest.endDate, bunker3Rest.endTime) : null;\n    // Determine overall start_time (earliest start across all stages)\n    const allStarts = [\n        bunker1_start,\n        bunker1_rest_start,\n        bunker2_start,\n        bunker2_rest_start,\n        bunker3_start,\n        bunker3_rest_start\n    ].filter((start)=>start !== null);\n    const overall_start_time = allStarts.length > 0 ? formatDateTime(new Date(Math.min(...allStarts.map((d)=>new Date(d).getTime())))) : null;\n    // Format all datetime fields to match the expected format\n    const payload = {\n        batch_id: batch.id,\n        straw_type: materialType,\n        start_time: overall_start_time,\n        iscompleted: isCompleted,\n        bunker_process1: {\n            start_time: formatDateTime(bunker1_start),\n            end_time: formatDateTime(bunker1_end),\n            moisture: bunker1.moisture ? parseFloat(bunker1.moisture) : null,\n            temperature: bunker1.temperature ? parseFloat(bunker1.temperature) : null,\n            remarks: bunker1.remarks || null\n        },\n        bunker_process1_rest: {\n            start_time: formatDateTime(bunker1_rest_start),\n            end_time: formatDateTime(bunker1_rest_end),\n            moisture: bunker1Rest.moisture ? parseFloat(bunker1Rest.moisture) : null,\n            temperature: bunker1Rest.temperature ? parseFloat(bunker1Rest.temperature) : null,\n            remarks: bunker1Rest.remarks || null\n        },\n        bunker_process2: {\n            start_time: formatDateTime(bunker2_start),\n            end_time: formatDateTime(bunker2_end),\n            moisture: bunker2.moisture ? parseFloat(bunker2.moisture) : null,\n            temperature: bunker2.temperature ? parseFloat(bunker2.temperature) : null,\n            remarks: bunker2.remarks || null\n        },\n        bunker_process2_rest: {\n            start_time: formatDateTime(bunker2_rest_start),\n            end_time: formatDateTime(bunker2_rest_end),\n            moisture: bunker2Rest.moisture ? parseFloat(bunker2Rest.moisture) : null,\n            temperature: bunker2Rest.temperature ? parseFloat(bunker2Rest.temperature) : null,\n            remarks: bunker2Rest.remarks || null\n        },\n        bunker_process3: {\n            start_time: formatDateTime(bunker3_start),\n            end_time: formatDateTime(bunker3_end),\n            moisture: bunker3.moisture ? parseFloat(bunker3.moisture) : null,\n            temperature: bunker3.temperature ? parseFloat(bunker3.temperature) : null,\n            remarks: bunker3.remarks || null\n        },\n        bunker_process3_rest: {\n            start_time: formatDateTime(bunker3_rest_start),\n            end_time: formatDateTime(bunker3_rest_end),\n            moisture: bunker3Rest.moisture ? parseFloat(bunker3Rest.moisture) : null,\n            temperature: bunker3Rest.temperature ? parseFloat(bunker3Rest.temperature) : null,\n            remarks: bunker3Rest.remarks || null\n        }\n    };\n    // Remove null values but keep the structure\n    Object.keys(payload).forEach((key)=>{\n        if (payload[key] === null) {\n            delete payload[key];\n        } else if (typeof payload[key] === 'object' && payload[key] !== null && key !== 'batch_id' && key !== 'straw_type' && key !== 'iscompleted') {\n            // Remove null fields from nested objects\n            Object.keys(payload[key]).forEach((subKey)=>{\n                if (payload[key][subKey] === null || payload[key][subKey] === undefined) {\n                    delete payload[key][subKey];\n                }\n            });\n            // If nested object has no properties left, remove it\n            if (Object.keys(payload[key]).length === 0) {\n                delete payload[key];\n            }\n        }\n    });\n    console.log(\"\\uD83D\\uDCE6 Generated payload for \".concat(MATERIAL_DISPLAY_NAMES[materialType], \":\"), payload);\n    return payload;\n};\nconst convertApiResponseToUI = (apiData, batch)=>{\n    if (!apiData || !Array.isArray(apiData)) {\n        console.log('âŒ No valid API data array to convert:', apiData);\n        return batch;\n    }\n    console.log('ðŸ”„ Converting API data to UI. Found items:', apiData.length);\n    // Create a map to store data for each material type\n    const materialDataMap = {};\n    apiData.forEach((item)=>{\n        if (item.straw_type) {\n            materialDataMap[item.straw_type] = item;\n        }\n    });\n    console.log('ðŸ“Š Material data map:', Object.keys(materialDataMap));\n    // Since we have multiple materials but one table, we'll combine data from all materials\n    // For fields that exist in multiple materials, we'll use the first non-null value\n    const substageMapping = [\n        {\n            index: 0,\n            field: 'bunker_process1'\n        },\n        {\n            index: 1,\n            field: 'bunker_process1_rest'\n        },\n        {\n            index: 2,\n            field: 'bunker_process2'\n        },\n        {\n            index: 3,\n            field: 'bunker_process2_rest'\n        },\n        {\n            index: 4,\n            field: 'bunker_process3'\n        },\n        {\n            index: 5,\n            field: 'bunker_process3_rest'\n        }\n    ];\n    // For each substage, check all materials for data\n    substageMapping.forEach((param)=>{\n        let { index, field } = param;\n        // Try each material type in order\n        for (const materialType of batch.materialTypes){\n            const materialData = materialDataMap[materialType];\n            if (!materialData) continue;\n            const stageData = materialData[field];\n            if (stageData && batch.substages[index]) {\n                // Only populate if not already populated\n                if (!batch.substages[index].startDate && stageData.start_time) {\n                    const { date, time } = parseDateTime(stageData.start_time);\n                    batch.substages[index].startDate = date;\n                    batch.substages[index].startTime = time;\n                }\n                if (!batch.substages[index].endDate && stageData.end_time) {\n                    const { date, time } = parseDateTime(stageData.end_time);\n                    batch.substages[index].endDate = date;\n                    batch.substages[index].endTime = time;\n                }\n                if (!batch.substages[index].totalHours && stageData.duration_hours !== undefined && stageData.duration_hours !== null) {\n                    batch.substages[index].totalHours = stageData.duration_hours.toFixed(1);\n                }\n                if (!batch.substages[index].moisture && stageData.moisture !== undefined && stageData.moisture !== null) {\n                    batch.substages[index].moisture = stageData.moisture.toString();\n                }\n                if (!batch.substages[index].temperature && stageData.temperature !== undefined && stageData.temperature !== null) {\n                    batch.substages[index].temperature = stageData.temperature.toString();\n                }\n                if (!batch.substages[index].remarks && stageData.remarks) {\n                    batch.substages[index].remarks = stageData.remarks;\n                }\n            }\n        }\n    });\n    console.log('âœ… Finished converting API data to UI');\n    return batch;\n};\nconst sendToApi = async (payload, materialType, displayName)=>{\n    try {\n        const response = await fetch(API_ENDPOINT, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE for \".concat(displayName, \": Status \").concat(response.status));\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error('âŒ API Error Response:', errorData);\n            let errorMessage = \"API error: \".concat(response.status);\n            if (errorData.detail) {\n                if (typeof errorData.detail === 'string') {\n                    errorMessage = errorData.detail;\n                } else if (Array.isArray(errorData.detail)) {\n                    errorMessage = errorData.detail.map((err)=>err.msg).join(', ');\n                } else if (typeof errorData.detail === 'object') {\n                    errorMessage = JSON.stringify(errorData.detail);\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        console.log(\"âœ… SUCCESS for \".concat(displayName, \":\"), result);\n        return {\n            success: true,\n            data: result,\n            materialType,\n            displayName\n        };\n    } catch (error) {\n        console.error(\"âŒ ERROR sending \".concat(displayName, \" data:\"), error);\n        return {\n            success: false,\n            error: error.message,\n            materialType,\n            displayName\n        };\n    }\n};\nconst BunkerTable = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(_s((param)=>{\n    let { batch, onUpdate, readOnly = false } = param;\n    _s();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const validateDateRange = (substage, field, newValue)=>{\n        if (field === 'startDate' || field === 'startTime') {\n            if (substage.endDate && substage.endTime) {\n                const newStartDateTime = field === 'startDate' ? combineDateTime(newValue, substage.startTime) : combineDateTime(substage.startDate, newValue);\n                const endDateTime = combineDateTime(substage.endDate, substage.endTime);\n                if (newStartDateTime && endDateTime && new Date(newStartDateTime) > new Date(endDateTime)) {\n                    toast.error(\"\".concat(substage.name, \": Start date/time cannot be after end date/time\"));\n                    return false;\n                }\n            }\n        } else if (field === 'endDate' || field === 'endTime') {\n            if (substage.startDate && substage.startTime) {\n                const startDateTime = combineDateTime(substage.startDate, substage.startTime);\n                const newEndDateTime = field === 'endDate' ? combineDateTime(newValue, substage.endTime) : combineDateTime(substage.endDate, newValue);\n                if (startDateTime && newEndDateTime && new Date(startDateTime) > new Date(newEndDateTime)) {\n                    toast.error(\"\".concat(substage.name, \": End date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const getMinEndDate = (substage)=>{\n        if (substage.startDate) {\n            return substage.startDate;\n        }\n        return undefined;\n    };\n    const getMinEndTime = (substage)=>{\n        if (substage.startDate === substage.endDate && substage.startTime) {\n            return substage.startTime;\n        }\n        return undefined;\n    };\n    const handleInputChange = (index, field, value)=>{\n        if (readOnly) return;\n        const updatedBatch = {\n            ...batch\n        };\n        const substage = updatedBatch.substages[index];\n        if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n            if (!validateDateRange(substage, field, value)) {\n                return;\n            }\n        }\n        substage[field] = value;\n        if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n            const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n            const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n            const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n            substage.totalHours = diffHours.toFixed(1);\n        }\n        onUpdate(updatedBatch);\n    };\n    // Get the display string for materials\n    const getMaterialsDisplay = ()=>{\n        if (batch.materialDisplayNames && batch.materialDisplayNames.length > 0) {\n            return batch.materialDisplayNames.join(' + ');\n        }\n        return 'Bunker Process';\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"table-section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"table-title\",\n                children: [\n                    \"Bunker Process - \",\n                    getMaterialsDisplay()\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 577,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"entry-table-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                    className: \"entry-table unified-platform-table\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Substage\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 582,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"Start\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 583,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"End\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 584,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Total Hours\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 585,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Moisture (%)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 586,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Temperature (\\xb0C)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 587,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Remarks\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 588,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 581,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 591,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 592,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 593,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 594,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 590,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 580,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                            children: batch.substages.map((substage, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"substage-name\",\n                                            children: substage.name\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 600,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: substage.startDate || '',\n                                                onChange: (e)=>handleInputChange(index, 'startDate', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: substage.endDate || undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 602,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 601,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: substage.startTime || '',\n                                                onChange: (e)=>handleInputChange(index, 'startTime', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: substage.startDate === substage.endDate ? substage.endTime : undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 612,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 611,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: substage.endDate || '',\n                                                onChange: (e)=>handleInputChange(index, 'endDate', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndDate(substage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 622,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 621,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: substage.endTime || '',\n                                                onChange: (e)=>handleInputChange(index, 'endTime', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndTime(substage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 632,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 631,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: substage.totalHours || '',\n                                                readOnly: true,\n                                                className: \"table-input hours-input\",\n                                                placeholder: \"Auto\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 642,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 641,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                value: substage.moisture || '',\n                                                onChange: (e)=>handleInputChange(index, 'moisture', e.target.value),\n                                                className: \"table-input moisture-input\",\n                                                placeholder: \"%\",\n                                                min: \"0\",\n                                                max: \"100\",\n                                                step: \"0.1\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 651,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 650,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                value: substage.temperature || '',\n                                                onChange: (e)=>handleInputChange(index, 'temperature', e.target.value),\n                                                className: \"table-input temperature-input\",\n                                                placeholder: \"\\xb0C\",\n                                                min: \"0\",\n                                                max: \"100\",\n                                                step: \"0.1\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 664,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 663,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: substage.remarks || '',\n                                                onChange: (e)=>handleInputChange(index, 'remarks', e.target.value),\n                                                className: \"table-input remarks-input\",\n                                                placeholder: \"Add remarks...\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 677,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 676,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 599,\n                                    columnNumber: 15\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 597,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 579,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 578,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 576,\n        columnNumber: 5\n    }, undefined);\n}, \"WUU7e0p6AiTpvVrXhi50JBdcu+0=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast\n    ];\n}));\n_c = BunkerTable;\nBunkerTable.displayName = 'BunkerTable';\nfunction BatchSelection(param) {\n    let { onSelectBatch, loading, error, initialBatchNumber, initialBatchId } = param;\n    _s1();\n    const [batchNumber, setBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBatchNumber || '');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const hasLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Auto-load batch if initialBatchNumber is provided\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BatchSelection.useEffect\": ()=>{\n            if (initialBatchNumber && !hasLoadedRef.current && !loading) {\n                setBatchNumber(initialBatchNumber);\n                handleLoadBatch(initialBatchNumber, initialBatchId);\n                hasLoadedRef.current = true;\n            }\n        }\n    }[\"BatchSelection.useEffect\"], [\n        initialBatchNumber,\n        initialBatchId,\n        loading\n    ]);\n    const getMaterialsFromBatch = (batchData)=>{\n        const materials = new Set();\n        if (batchData && batchData.formulation_entries) {\n            batchData.formulation_entries.forEach((entry)=>{\n                const materialName = entry.name.toUpperCase();\n                if (MATERIAL_TYPES[materialName] !== undefined) {\n                    materials.add(materialName);\n                    console.log(\"\\uD83D\\uDCCC Found material: \".concat(materialName, \" -> \").concat(MATERIAL_TYPES[materialName]));\n                }\n            });\n        }\n        return Array.from(materials);\n    };\n    const handleLoadBatch = async (batchNum, batchId)=>{\n        if (!batchNum.trim()) {\n            toast.error('Please enter a batch number');\n            return;\n        }\n        setIsLoading(true);\n        try {\n            console.log(\"\\uD83D\\uDD0D Fetching batch details for: \".concat(batchNum, \" with ID: \").concat(batchId || 'unknown'));\n            let selectedBatch = null;\n            let batchIdToUse = batchId;\n            // If batchId is provided, we can use it directly\n            if (batchIdToUse) {\n                // Try to fetch batch details using ID\n                const batchResponse = await fetch(\"\".concat(BATCH_FETCH_ENDPOINT, \"/\").concat(batchIdToUse));\n                if (batchResponse.ok) {\n                    const batchResult = await batchResponse.json();\n                    selectedBatch = batchResult.data || batchResult;\n                } else {\n                    // Fallback to fetching all batches\n                    const allBatchesResponse = await fetch(BATCH_FETCH_ENDPOINT);\n                    if (allBatchesResponse.ok) {\n                        const allBatchesResult = await allBatchesResponse.json();\n                        let batches = [];\n                        if (Array.isArray(allBatchesResult)) {\n                            batches = allBatchesResult;\n                        } else if (allBatchesResult.success) {\n                            batches = allBatchesResult.data;\n                        }\n                        selectedBatch = batches.find((b)=>b.id === batchIdToUse);\n                    }\n                }\n            } else {\n                // No batchId provided, fetch by batch number\n                const batchResponse = await fetch(BATCH_FETCH_ENDPOINT);\n                if (!batchResponse.ok) {\n                    throw new Error('Failed to fetch batches');\n                }\n                const batchResult = await batchResponse.json();\n                let batches = [];\n                if (Array.isArray(batchResult)) {\n                    batches = batchResult;\n                } else if (batchResult.success) {\n                    batches = batchResult.data;\n                }\n                selectedBatch = batches.find((b)=>b.batch_number === batchNum.trim());\n            }\n            if (!selectedBatch) {\n                toast.error('Batch number not found');\n                setIsLoading(false);\n                return;\n            }\n            console.log('âœ… Found batch:', selectedBatch);\n            const materials = getMaterialsFromBatch(selectedBatch);\n            if (materials.length === 0) {\n                toast.error('No suitable materials (Bagasse, Wheat Straw, or Paddy Straw) found in this batch');\n                setIsLoading(false);\n                return;\n            }\n            console.log(\"\\uD83D\\uDCCB Materials to process:\", materials);\n            const newBatch = createEmptyBatch(batchNum, materials, selectedBatch.id);\n            newBatch.batchData = selectedBatch;\n            console.log('ðŸ“Š Fetching bunker data for batch ID:', selectedBatch.id);\n            const strawDataResult = await fetchBatchData(selectedBatch.id);\n            if (strawDataResult.success && strawDataResult.data && strawDataResult.data.length > 0) {\n                console.log('ðŸ“¦ Raw API data:', strawDataResult.data);\n                const populatedBatch = convertApiResponseToUI(strawDataResult.data, newBatch);\n                console.log('âœ… Populated batch:', populatedBatch);\n                onSelectBatch(populatedBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" with existing data (\").concat(materials.length, \" material\").concat(materials.length > 1 ? 's' : '', \")\"));\n            } else if (strawDataResult.success) {\n                onSelectBatch(newBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" (\").concat(materials.length, \" material\").concat(materials.length > 1 ? 's' : '', \" - no existing data)\"));\n            } else {\n                toast.warning(\"Loaded batch \".concat(batchNum, \" but failed to fetch existing data\"));\n                onSelectBatch(newBatch);\n            }\n        } catch (err) {\n            console.error('âŒ Error loading batch:', err);\n            toast.error('Error loading batch details. Please try again.');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleCreateNew = ()=>{\n        if (isLoading || loading) return;\n        handleLoadBatch(batchNumber);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"batch-selection\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Bunker Management Process Entry\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 839,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 842,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"selection-panel\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"new-batch-section\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Enter Batch Number\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 849,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"batch-input-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    placeholder: \"Enter Batch Number (e.g., BATCH-001)\",\n                                    value: batchNumber,\n                                    onChange: (e)=>setBatchNumber(e.target.value),\n                                    className: \"batch-input\",\n                                    disabled: isLoading || loading\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 851,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCreateNew,\n                                    className: \"btn-primary\",\n                                    disabled: isLoading || loading,\n                                    children: isLoading || loading ? 'Loading...' : 'Load Batch'\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 859,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 850,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 848,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 847,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 838,\n        columnNumber: 5\n    }, this);\n}\n_s1(BatchSelection, \"bSsv6SxcH5WNCl5iqtC1T5kE3FA=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c1 = BatchSelection;\nfunction BunkerManagementContent() {\n    var _currentBatch_materialDisplayNames;\n    _s2();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [currentBatch, setCurrentBatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchNumber, setInitialBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchId, setInitialBatchId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isSavingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Get batch number and ID from URL params\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BunkerManagementContent.useEffect\": ()=>{\n            const batchNum = searchParams.get('batch');\n            const batchId = searchParams.get('batchId');\n            if (batchNum) {\n                setInitialBatchNumber(batchNum);\n                setInitialBatchId(batchId);\n            }\n        }\n    }[\"BunkerManagementContent.useEffect\"], [\n        searchParams\n    ]);\n    const handleSelectBatch = (batch)=>{\n        console.log('âœ… Setting current batch:', batch);\n        setCurrentBatch(batch);\n    };\n    const handleUpdateBatch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"BunkerManagementContent.useCallback[handleUpdateBatch]\": (updatedBatch)=>{\n            setCurrentBatch(updatedBatch);\n        }\n    }[\"BunkerManagementContent.useCallback[handleUpdateBatch]\"], []);\n    const validateBatchData = (batch)=>{\n        // Validate stage sequencing\n        if (!validateStageSequencing(batch.substages, toast)) {\n            return false;\n        }\n        // Validate each substage\n        for (const substage of batch.substages){\n            if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                if (startDateTime > endDateTime) {\n                    toast.error(\"\".concat(substage.name, \": End date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n            if ((substage.startDate || substage.startTime) && (!substage.startDate || !substage.startTime)) {\n                toast.error(\"Please complete both date and time for \".concat(substage.name, \" start\"));\n                return false;\n            }\n            if ((substage.endDate || substage.endTime) && (!substage.endDate || !substage.endTime)) {\n                toast.error(\"Please complete both date and time for \".concat(substage.name, \" end\"));\n                return false;\n            }\n        }\n        return true;\n    };\n    const handleSave = async ()=>{\n        var _currentBatch_materialDisplayNames;\n        if (!currentBatch || isSavingRef.current) return;\n        console.log('\\n========== ðŸš€ SAVE STARTED ==========');\n        console.log(\"Batch: \".concat(currentBatch.batchNumber, \" (ID: \").concat(currentBatch.id, \")\"));\n        console.log(\"Materials: \".concat(((_currentBatch_materialDisplayNames = currentBatch.materialDisplayNames) === null || _currentBatch_materialDisplayNames === void 0 ? void 0 : _currentBatch_materialDisplayNames.join(', ')) || 'Unknown'));\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            // Check if we have data to save\n            if (!hasCompleteData(currentBatch.substages)) {\n                toast.info('No complete data to save. Please fill in all required fields.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            // Validate batch data before saving\n            if (!validateBatchData(currentBatch)) {\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            // Save for each material type in the batch\n            for (const materialType of currentBatch.materialTypes){\n                const displayName = MATERIAL_DISPLAY_NAMES[materialType];\n                console.log(\"\\n--- \\uD83D\\uDCDD Processing material: \".concat(displayName, \" ---\"));\n                const payload = convertToApiPayload(currentBatch, materialType, false);\n                if (payload) {\n                    hasAnyDataToSave = true;\n                    console.log(\"\\uD83D\\uDCE4 Making API call for \".concat(displayName));\n                    const result = await sendToApi(payload, materialType, displayName);\n                    results.push(result);\n                    if (result.success) {\n                        successCount++;\n                        toast.success(\"\".concat(displayName, \" data saved successfully!\"));\n                    } else {\n                        failCount++;\n                        toast.error(\"Failed to save \".concat(displayName, \" data: \").concat(result.error));\n                    }\n                }\n            }\n            console.log('\\n========== ðŸ“Š SAVE SUMMARY ==========');\n            console.log(\"Total API calls attempted: \".concat(results.length));\n            console.log(\"âœ… Successful: \".concat(successCount));\n            console.log(\"âŒ Failed: \".concat(failCount));\n            console.log('=====================================\\n');\n            if (!hasAnyDataToSave) {\n                toast.info('No data to save.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            const allSuccess = results.every((r)=>r.success);\n            if (allSuccess) {\n                toast.success(\"All \".concat(successCount, \" material data saved successfully!\"));\n            } else {\n                toast.warning(\"\".concat(successCount, \" material(s) saved successfully, \").concat(failCount, \" failed\"));\n            }\n        } catch (error) {\n            toast.error('Failed to save batch data');\n            console.error('âŒ Save error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleBackToSelection = ()=>{\n        // Clear the current batch to show the selection UI\n        setCurrentBatch(null);\n        // Clear URL params when going back\n        router.push('/bunker-management');\n        // Clear any saved state\n        setError(null);\n        // Reset the initial batch number state if needed\n        setInitialBatchNumber(null);\n        setInitialBatchId(null);\n    };\n    if (!currentBatch) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            title: \"Bunker Management\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"unified-platform-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BatchSelection, {\n                    onSelectBatch: handleSelectBatch,\n                    loading: loading,\n                    error: error,\n                    initialBatchNumber: initialBatchNumber,\n                    initialBatchId: initialBatchId\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1035,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 1034,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1033,\n            columnNumber: 7\n        }, this);\n    }\n    const materialsDisplay = ((_currentBatch_materialDisplayNames = currentBatch.materialDisplayNames) === null || _currentBatch_materialDisplayNames === void 0 ? void 0 : _currentBatch_materialDisplayNames.join(' + ')) || 'Unknown';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Bunker Management\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"unified-platform-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"entry-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-left\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleBackToSelection,\n                                    className: \"back-button\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                        lineNumber: 1055,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1054,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: currentBatch.batchNumber\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1057,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-count\",\n                                    children: [\n                                        \"(\",\n                                        materialsDisplay,\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1058,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 1053,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-actions\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSave,\n                                className: \"btn-save\",\n                                disabled: loading,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        fontSize: \"small\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                        lineNumber: 1068,\n                                        columnNumber: 15\n                                    }, this),\n                                    loading ? 'Saving...' : 'Save'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                lineNumber: 1063,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 1062,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1052,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BunkerTable, {\n                    batch: currentBatch,\n                    onUpdate: handleUpdateBatch,\n                    readOnly: false\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1075,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1051,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 1050,\n        columnNumber: 5\n    }, this);\n}\n_s2(BunkerManagementContent, \"fN98z1Elz4TM8uKmJFaagiXk7ig=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = BunkerManagementContent;\nfunction BunkerManagement() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.ToastProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BunkerManagementContent, {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1088,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 1087,\n        columnNumber: 5\n    }, this);\n}\n_c3 = BunkerManagement;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"BunkerTable\");\n$RefreshReg$(_c1, \"BatchSelection\");\n$RefreshReg$(_c2, \"BunkerManagementContent\");\n$RefreshReg$(_c3, \"BunkerManagement\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocGFnZXMpL2J1bmtlci1tYW5hZ2VtZW50L3BhZ2UuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUN3RTtBQUNYO0FBQ1Y7QUFDdUI7QUFDekI7QUFFRDtBQUNnQjtBQUNOO0FBRTFELE1BQU1hLGlCQUFpQjtJQUNyQixXQUFXO0lBQ1gsZUFBZTtJQUNmLGVBQWU7QUFDakI7QUFFQSxNQUFNQyx5QkFBeUI7SUFDN0IsV0FBVztJQUNYLFNBQVM7SUFDVCxTQUFTO0FBQ1g7QUFFQSxNQUFNQyxlQUFlQywyQkFBK0I7QUFDcEQsTUFBTUcsZUFBZSxHQUFnQixPQUFiSixjQUFhO0FBQ3JDLE1BQU1LLHFCQUFxQixHQUFnQixPQUFiTCxjQUFhO0FBQzNDLE1BQU1NLHVCQUF1QixHQUFnQixPQUFiTixjQUFhO0FBRTdDLE1BQU1PLGNBQWM7SUFDbEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxNQUFNQyxzQkFBc0IsQ0FBQ0MsT0FBVTtRQUNyQ0EsTUFBTUE7UUFDTkMsV0FBVztRQUNYQyxXQUFXO1FBQ1hDLFNBQVM7UUFDVEMsU0FBUztRQUNUQyxZQUFZO1FBQ1pDLFVBQVU7UUFDVkMsYUFBYTtRQUNiQyxTQUFTO0lBQ1g7QUFFQSxNQUFNQyxtQkFBbUIsU0FBQ0M7UUFBYUMsNkVBQVksRUFBRSxFQUFFQywyRUFBVTtJQUMvRCxzQ0FBc0M7SUFDdEMsTUFBTUMsZ0JBQWdCRixVQUFVRyxHQUFHLENBQUNDLENBQUFBLElBQUsxQixjQUFjLENBQUMwQixFQUFFLEVBQUVDLE1BQU0sQ0FBQ0M7SUFDbkUsTUFBTUMsdUJBQXVCTCxjQUFjQyxHQUFHLENBQUNLLENBQUFBLElBQUs3QixzQkFBc0IsQ0FBQzZCLEVBQUU7SUFFN0UsTUFBTUMsUUFBUTtRQUNaQyxJQUFJVCxXQUFXVSxLQUFLQyxHQUFHO1FBQ3ZCYixhQUFhQTtRQUNiRyxlQUFlQTtRQUNmSyxzQkFBc0JBO1FBQ3RCTSxXQUFXO1FB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N0UsVUFBVXNGO29CQUNWckYsVUFBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLcEI7SUFsTlMyRTs7UUFDUTVQLHNEQUFTQTtRQUNWSSxnRUFBUUE7UUFDREgsNERBQWVBOzs7TUFIN0IyUDtBQW9OTSxTQUFTNEI7SUFDdEIscUJBQ0UsOERBQUNyUixxRUFBYUE7a0JBQ1osNEVBQUN5UDs7Ozs7Ozs7OztBQUdQO01BTndCNEIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWRtaW5cXERvd25sb2Fkc1xcYnJpdGlzaGFncm8tYWRtaW4tcGFuZWxcXGJyaXRpc2hhZ3JvXFxhcHBcXChwYWdlcylcXGJ1bmtlci1tYW5hZ2VtZW50XFxwYWdlLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XHJcbmltcG9ydCBBcHBMYXlvdXQgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQXBwTGF5b3V0XCI7XHJcbmltcG9ydCB7IFRvYXN0UHJvdmlkZXIsIHVzZVRvYXN0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvY29tbW9uL1RvYXN0ZXJcIjtcclxuaW1wb3J0IFwiLi4vLi4vc3R5bGVzL3BhZ2VzL3VuaWZpZWQtcGxhdGZvcm0uY3NzXCI7XHJcblxyXG5pbXBvcnQgU2F2ZUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TYXZlJztcclxuaW1wb3J0IEFycm93Rm9yd2FyZEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9BcnJvd0ZvcndhcmQnO1xyXG5pbXBvcnQgQXJyb3dCYWNrSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Fycm93QmFjayc7XHJcblxyXG5jb25zdCBNQVRFUklBTF9UWVBFUyA9IHtcclxuICAnQkFHQVNTRSc6ICdCQUdBU1NFJyxcclxuICAnV0hFQVQgU1RSQVcnOiAnV0hFQVQnLFxyXG4gICdQQUREWSBTVFJBVyc6ICdQQUREWSdcclxufTtcclxuXHJcbmNvbnN0IE1BVEVSSUFMX0RJU1BMQVlfTkFNRVMgPSB7XHJcbiAgJ0JBR0FTU0UnOiAnQmFnYXNzZScsXHJcbiAgJ1dIRUFUJzogJ1doZWF0IFN0cmF3JyxcclxuICAnUEFERFknOiAnUGFkZHkgU3RyYXcnXHJcbn07XHJcblxyXG5jb25zdCBBUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMO1xyXG5jb25zdCBBUElfRU5EUE9JTlQgPSBgJHtBUElfQkFTRV9VUkx9L2J1bmtlci1wcm9jZXNzLWxvZ3NgO1xyXG5jb25zdCBBUElfRkVUQ0hfRU5EUE9JTlQgPSBgJHtBUElfQkFTRV9VUkx9L2J1bmtlci1wcm9jZXNzLWxvZ3MvYmF0Y2hgO1xyXG5jb25zdCBCQVRDSF9GRVRDSF9FTkRQT0lOVCA9IGAke0FQSV9CQVNFX1VSTH0vYmF0Y2hlc2A7XHJcblxyXG5jb25zdCBTVEFHRV9OQU1FUyA9IFtcclxuICBcIkJ1bmtlciBQcm9jZXNzIDFcIixcclxuICBcIkJ1bmtlciBQcm9jZXNzIDEgUmVzdFwiLCBcclxuICBcIkJ1bmtlciBQcm9jZXNzIDJcIixcclxuICBcIkJ1bmtlciBQcm9jZXNzIDIgUmVzdFwiLFxyXG4gIFwiQnVua2VyIFByb2Nlc3MgM1wiLFxyXG4gIFwiQnVua2VyIFByb2Nlc3MgMyBSZXN0XCJcclxuXTtcclxuXHJcbmNvbnN0IGNyZWF0ZUVtcHR5U3Vic3RhZ2UgPSAobmFtZSkgPT4gKHtcclxuICBuYW1lOiBuYW1lLFxyXG4gIHN0YXJ0RGF0ZTogJycsXHJcbiAgc3RhcnRUaW1lOiAnJyxcclxuICBlbmREYXRlOiAnJyxcclxuICBlbmRUaW1lOiAnJyxcclxuICB0b3RhbEhvdXJzOiAnJyxcclxuICBtb2lzdHVyZTogJycsXHJcbiAgdGVtcGVyYXR1cmU6ICcnLFxyXG4gIHJlbWFya3M6ICcnXHJcbn0pO1xyXG5cclxuY29uc3QgY3JlYXRlRW1wdHlCYXRjaCA9IChiYXRjaE51bWJlciwgbWF0ZXJpYWxzID0gW10sIGJhdGNoSWQgPSBudWxsKSA9PiB7XHJcbiAgLy8gU3RvcmUgdGhlIGxpc3Qgb2YgbWF0ZXJpYWxzIHByZXNlbnRcclxuICBjb25zdCBtYXRlcmlhbFR5cGVzID0gbWF0ZXJpYWxzLm1hcChtID0+IE1BVEVSSUFMX1RZUEVTW21dKS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgY29uc3QgbWF0ZXJpYWxEaXNwbGF5TmFtZXMgPSBtYXRlcmlhbFR5cGVzLm1hcCh0ID0+IE1BVEVSSUFMX0RJU1BMQVlfTkFNRVNbdF0pO1xyXG4gIFxyXG4gIGNvbnN0IGJhdGNoID0ge1xyXG4gICAgaWQ6IGJhdGNoSWQgfHwgRGF0ZS5ub3coKSxcclxuICAgIGJhdGNoTnVtYmVyOiBiYXRjaE51bWJlcixcclxuICAgIG1hdGVyaWFsVHlwZXM6IG1hdGVyaWFsVHlwZXMsIC8vIFN0b3JlIHRoZSBhY3R1YWwgbWF0ZXJpYWwgdHlwZXMgKEJBR0FTU0UsIFdIRUFULCBQQUREWSlcclxuICAgIG1hdGVyaWFsRGlzcGxheU5hbWVzOiBtYXRlcmlhbERpc3BsYXlOYW1lcywgLy8gU3RvcmUgZGlzcGxheSBuYW1lc1xyXG4gICAgYmF0Y2hEYXRhOiBudWxsLFxyXG4gICAgZXhpc3RpbmdSZWNvcmRzOiB7fSxcclxuICAgIC8vIFNpbmdsZSBzZXQgb2Ygc3Vic3RhZ2VzIGZvciB0aGUgY29tYmluZWQgdGFibGVcclxuICAgIHN1YnN0YWdlczogU1RBR0VfTkFNRVMubWFwKG5hbWUgPT4gY3JlYXRlRW1wdHlTdWJzdGFnZShuYW1lKSlcclxuICB9O1xyXG5cclxuICByZXR1cm4gYmF0Y2g7XHJcbn07XHJcblxyXG5jb25zdCBwYXJzZURhdGVUaW1lID0gKGRhdGV0aW1lKSA9PiB7XHJcbiAgaWYgKCFkYXRldGltZSkgcmV0dXJuIHsgZGF0ZTogJycsIHRpbWU6ICcnIH07XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRldGltZSk7XHJcbiAgICBpZiAoaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSByZXR1cm4geyBkYXRlOiAnJywgdGltZTogJycgfTtcclxuICAgIFxyXG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBob3VycyA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBtaW51dGVzID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRlOiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gLFxyXG4gICAgICB0aW1lOiBgJHtob3Vyc306JHttaW51dGVzfWBcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0ZTogJycsIHRpbWU6ICcnIH07XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZmV0Y2hCYXRjaERhdGEgPSBhc3luYyAoYmF0Y2hJZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+TiiBGZXRjaGluZyBidW5rZXIgZGF0YSBmb3IgYmF0Y2ggSUQ6ICR7YmF0Y2hJZH1gKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0ZFVENIX0VORFBPSU5UfS8ke2JhdGNoSWR9YCk7XHJcbiAgICBcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk60gTm8gZXhpc3RpbmcgYnVua2VyIGRhdGEgZm91bmQgZm9yIGJhdGNoJyk7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBidW5rZXIgZGF0YTogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKCfwn5OmIEZldGNoZWQgYnVua2VyIGRhdGE6JywgcmVzcG9uc2VEYXRhKTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIHRoZSBuZXcgcmVzcG9uc2Ugc3RydWN0dXJlIHdpdGggaXRlbXMgYXJyYXlcclxuICAgIGlmIChyZXNwb25zZURhdGEuc3VjY2VzcyAmJiByZXNwb25zZURhdGEuZGF0YSkge1xyXG4gICAgICBpZiAocmVzcG9uc2VEYXRhLmRhdGEuaXRlbXMgJiYgQXJyYXkuaXNBcnJheShyZXNwb25zZURhdGEuZGF0YS5pdGVtcykpIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXNwb25zZURhdGEuZGF0YS5pdGVtcyB9O1xyXG4gICAgICB9XHJcbiAgICAgIC8vIElmIGRhdGEgaXRzZWxmIGlzIGFuIGFycmF5XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3BvbnNlRGF0YS5kYXRhKSkge1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3BvbnNlRGF0YS5kYXRhIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIGJ1bmtlciBkYXRhOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGZldGNoQmF0Y2hEZXRhaWxzID0gYXN5bmMgKGJhdGNoSWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQVRDSF9GRVRDSF9FTkRQT0lOVH0vJHtiYXRjaElkfWApO1xyXG4gICAgXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGJhdGNoIGRldGFpbHM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgYmF0Y2ggZGV0YWlsczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjb21iaW5lRGF0ZVRpbWUgPSAoZGF0ZSwgdGltZSkgPT4ge1xyXG4gIGlmICghZGF0ZSB8fCAhdGltZSkgcmV0dXJuIG51bGw7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGVUaW1lU3RyID0gYCR7ZGF0ZX1UJHt0aW1lfTowMGA7XHJcbiAgICBjb25zdCBkYXRldGltZSA9IG5ldyBEYXRlKGRhdGVUaW1lU3RyKTtcclxuICAgIFxyXG4gICAgaWYgKGlzTmFOKGRhdGV0aW1lLmdldFRpbWUoKSkpIHJldHVybiBudWxsO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZGF0ZXRpbWUudG9JU09TdHJpbmcoKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY29tYmluaW5nIGRhdGV0aW1lOicsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhhc1N1YnN0YWdlRGF0YSA9IChzdWJzdGFnZSkgPT4ge1xyXG4gIHJldHVybiBzdWJzdGFnZS5zdGFydERhdGUgfHwgc3Vic3RhZ2Uuc3RhcnRUaW1lIHx8IHN1YnN0YWdlLmVuZERhdGUgfHwgc3Vic3RhZ2UuZW5kVGltZSB8fCBcclxuICAgICAgICAgc3Vic3RhZ2UubW9pc3R1cmUgfHwgc3Vic3RhZ2UudGVtcGVyYXR1cmUgfHwgc3Vic3RhZ2UucmVtYXJrcztcclxufTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlU3RhZ2VTZXF1ZW5jaW5nID0gKHN1YnN0YWdlcywgdG9hc3QpID0+IHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnN0YWdlcy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgIGNvbnN0IGN1cnJlbnRTdGFnZSA9IHN1YnN0YWdlc1tpXTtcclxuICAgIGNvbnN0IG5leHRTdGFnZSA9IHN1YnN0YWdlc1tpICsgMV07XHJcbiAgICBcclxuICAgIGlmICghY3VycmVudFN0YWdlLmVuZERhdGUgfHwgIWN1cnJlbnRTdGFnZS5lbmRUaW1lIHx8ICFuZXh0U3RhZ2Uuc3RhcnREYXRlIHx8ICFuZXh0U3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBjdXJyZW50RW5kID0gY29tYmluZURhdGVUaW1lKGN1cnJlbnRTdGFnZS5lbmREYXRlLCBjdXJyZW50U3RhZ2UuZW5kVGltZSk7XHJcbiAgICBjb25zdCBuZXh0U3RhcnQgPSBjb21iaW5lRGF0ZVRpbWUobmV4dFN0YWdlLnN0YXJ0RGF0ZSwgbmV4dFN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICBcclxuICAgIGlmIChjdXJyZW50RW5kICYmIG5leHRTdGFydCkge1xyXG4gICAgICBpZiAobmV3IERhdGUoY3VycmVudEVuZCkgPiBuZXcgRGF0ZShuZXh0U3RhcnQpKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYCR7bmV4dFN0YWdlLm5hbWV9IG11c3Qgc3RhcnQgYWZ0ZXIgJHtjdXJyZW50U3RhZ2UubmFtZX0gZW5kc2ApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IGhhc0NvbXBsZXRlRGF0YSA9IChzdWJzdGFnZXMpID0+IHtcclxuICAvLyBDaGVjayBpZiBhbnkgZGF0YSBleGlzdHNcclxuICBjb25zdCBoYXNBbnlEYXRhID0gc3Vic3RhZ2VzLnNvbWUoc3Vic3RhZ2UgPT4gXHJcbiAgICBzdWJzdGFnZS5zdGFydERhdGUgfHwgc3Vic3RhZ2Uuc3RhcnRUaW1lIHx8IHN1YnN0YWdlLmVuZERhdGUgfHwgc3Vic3RhZ2UuZW5kVGltZSB8fCBcclxuICAgIHN1YnN0YWdlLm1vaXN0dXJlIHx8IHN1YnN0YWdlLnRlbXBlcmF0dXJlIHx8IHN1YnN0YWdlLnJlbWFya3NcclxuICApO1xyXG4gIFxyXG4gIGlmICghaGFzQW55RGF0YSkge1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk50gTm8gZGF0YSBlbnRlcmVkJyk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIENoZWNrIGVhY2ggc3Vic3RhZ2UgZm9yIGNvbXBsZXRlbmVzc1xyXG4gIGZvciAoY29uc3Qgc3Vic3RhZ2Ugb2Ygc3Vic3RhZ2VzKSB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmICFzdWJzdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gSW5jb21wbGV0ZSBzdGFydCBkYXRhIGluICR7c3Vic3RhZ2UubmFtZX0gKGRhdGUgd2l0aG91dCB0aW1lKWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzdWJzdGFnZS5zdGFydFRpbWUgJiYgIXN1YnN0YWdlLnN0YXJ0RGF0ZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSBJbmNvbXBsZXRlIHN0YXJ0IGRhdGEgaW4gJHtzdWJzdGFnZS5uYW1lfSAodGltZSB3aXRob3V0IGRhdGUpYCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHN1YnN0YWdlLmVuZERhdGUgJiYgIXN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gSW5jb21wbGV0ZSBlbmQgZGF0YSBpbiAke3N1YnN0YWdlLm5hbWV9IChkYXRlIHdpdGhvdXQgdGltZSlgKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2UuZW5kVGltZSAmJiAhc3Vic3RhZ2UuZW5kRGF0ZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSBJbmNvbXBsZXRlIGVuZCBkYXRhIGluICR7c3Vic3RhZ2UubmFtZX0gKHRpbWUgd2l0aG91dCBkYXRlKWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCfinIUgSGFzIHZhbGlkIGRhdGEgdG8gc2F2ZScpO1xyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuY29uc3QgY29udmVydFRvQXBpUGF5bG9hZCA9IChiYXRjaCwgbWF0ZXJpYWxUeXBlLCBpc0NvbXBsZXRlZCkgPT4ge1xyXG4gIGNvbnN0IHN1YnN0YWdlcyA9IGJhdGNoLnN1YnN0YWdlcztcclxuXHJcbiAgY29uc3QgYnVua2VyMSA9IHN1YnN0YWdlc1swXSB8fCBjcmVhdGVFbXB0eVN1YnN0YWdlKFwiQnVua2VyIFByb2Nlc3MgMVwiKTtcclxuICBjb25zdCBidW5rZXIxUmVzdCA9IHN1YnN0YWdlc1sxXSB8fCBjcmVhdGVFbXB0eVN1YnN0YWdlKFwiQnVua2VyIFByb2Nlc3MgMSBSZXN0XCIpO1xyXG4gIGNvbnN0IGJ1bmtlcjIgPSBzdWJzdGFnZXNbMl0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIkJ1bmtlciBQcm9jZXNzIDJcIik7XHJcbiAgY29uc3QgYnVua2VyMlJlc3QgPSBzdWJzdGFnZXNbM10gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIkJ1bmtlciBQcm9jZXNzIDIgUmVzdFwiKTtcclxuICBjb25zdCBidW5rZXIzID0gc3Vic3RhZ2VzWzRdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJCdW5rZXIgUHJvY2VzcyAzXCIpO1xyXG4gIGNvbnN0IGJ1bmtlcjNSZXN0ID0gc3Vic3RhZ2VzWzVdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJCdW5rZXIgUHJvY2VzcyAzIFJlc3RcIik7XHJcblxyXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JtYXQgZGF0ZXRpbWUgd2l0aG91dCBtaWxsaXNlY29uZHMgYW5kIHRpbWV6b25lXHJcbiAgY29uc3QgZm9ybWF0RGF0ZVRpbWUgPSAoZGF0ZVRpbWVTdHIpID0+IHtcclxuICAgIGlmICghZGF0ZVRpbWVTdHIpIHJldHVybiBudWxsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVUaW1lU3RyKTtcclxuICAgICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuIG51bGw7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3Qgc2Vjb25kcyA9IFN0cmluZyhkYXRlLmdldFNlY29uZHMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1UJHtob3Vyc306JHttaW51dGVzfToke3NlY29uZHN9YDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZvcm1hdHRpbmcgZGF0ZXRpbWU6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBPbmx5IGNvbWJpbmUgZGF0ZXMgaWYgYm90aCBkYXRlIGFuZCB0aW1lIGV4aXN0XHJcbiAgY29uc3QgYnVua2VyMV9zdGFydCA9IChidW5rZXIxLnN0YXJ0RGF0ZSAmJiBidW5rZXIxLnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIxLnN0YXJ0RGF0ZSwgYnVua2VyMS5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IGJ1bmtlcjFfZW5kID0gKGJ1bmtlcjEuZW5kRGF0ZSAmJiBidW5rZXIxLmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyMS5lbmREYXRlLCBidW5rZXIxLmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIFxyXG4gIGNvbnN0IGJ1bmtlcjFfcmVzdF9zdGFydCA9IChidW5rZXIxUmVzdC5zdGFydERhdGUgJiYgYnVua2VyMVJlc3Quc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjFSZXN0LnN0YXJ0RGF0ZSwgYnVua2VyMVJlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCBidW5rZXIxX3Jlc3RfZW5kID0gKGJ1bmtlcjFSZXN0LmVuZERhdGUgJiYgYnVua2VyMVJlc3QuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIxUmVzdC5lbmREYXRlLCBidW5rZXIxUmVzdC5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBcclxuICBjb25zdCBidW5rZXIyX3N0YXJ0ID0gKGJ1bmtlcjIuc3RhcnREYXRlICYmIGJ1bmtlcjIuc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjIuc3RhcnREYXRlLCBidW5rZXIyLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgYnVua2VyMl9lbmQgPSAoYnVua2VyMi5lbmREYXRlICYmIGJ1bmtlcjIuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIyLmVuZERhdGUsIGJ1bmtlcjIuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3QgYnVua2VyMl9yZXN0X3N0YXJ0ID0gKGJ1bmtlcjJSZXN0LnN0YXJ0RGF0ZSAmJiBidW5rZXIyUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyMlJlc3Quc3RhcnREYXRlLCBidW5rZXIyUmVzdC5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IGJ1bmtlcjJfcmVzdF9lbmQgPSAoYnVua2VyMlJlc3QuZW5kRGF0ZSAmJiBidW5rZXIyUmVzdC5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjJSZXN0LmVuZERhdGUsIGJ1bmtlcjJSZXN0LmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG5cclxuICBjb25zdCBidW5rZXIzX3N0YXJ0ID0gKGJ1bmtlcjMuc3RhcnREYXRlICYmIGJ1bmtlcjMuc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjMuc3RhcnREYXRlLCBidW5rZXIzLnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgYnVua2VyM19lbmQgPSAoYnVua2VyMy5lbmREYXRlICYmIGJ1bmtlcjMuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIzLmVuZERhdGUsIGJ1bmtlcjMuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcblxyXG4gIGNvbnN0IGJ1bmtlcjNfcmVzdF9zdGFydCA9IChidW5rZXIzUmVzdC5zdGFydERhdGUgJiYgYnVua2VyM1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjNSZXN0LnN0YXJ0RGF0ZSwgYnVua2VyM1Jlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCBidW5rZXIzX3Jlc3RfZW5kID0gKGJ1bmtlcjNSZXN0LmVuZERhdGUgJiYgYnVua2VyM1Jlc3QuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIzUmVzdC5lbmREYXRlLCBidW5rZXIzUmVzdC5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIG92ZXJhbGwgc3RhcnRfdGltZSAoZWFybGllc3Qgc3RhcnQgYWNyb3NzIGFsbCBzdGFnZXMpXHJcbiAgY29uc3QgYWxsU3RhcnRzID0gW1xyXG4gICAgYnVua2VyMV9zdGFydCxcclxuICAgIGJ1bmtlcjFfcmVzdF9zdGFydCxcclxuICAgIGJ1bmtlcjJfc3RhcnQsXHJcbiAgICBidW5rZXIyX3Jlc3Rfc3RhcnQsXHJcbiAgICBidW5rZXIzX3N0YXJ0LFxyXG4gICAgYnVua2VyM19yZXN0X3N0YXJ0XHJcbiAgXS5maWx0ZXIoc3RhcnQgPT4gc3RhcnQgIT09IG51bGwpO1xyXG4gIFxyXG4gIGNvbnN0IG92ZXJhbGxfc3RhcnRfdGltZSA9IGFsbFN0YXJ0cy5sZW5ndGggPiAwIFxyXG4gICAgPyBmb3JtYXREYXRlVGltZShuZXcgRGF0ZShNYXRoLm1pbiguLi5hbGxTdGFydHMubWFwKGQgPT4gbmV3IERhdGUoZCkuZ2V0VGltZSgpKSkpKVxyXG4gICAgOiBudWxsO1xyXG5cclxuICAvLyBGb3JtYXQgYWxsIGRhdGV0aW1lIGZpZWxkcyB0byBtYXRjaCB0aGUgZXhwZWN0ZWQgZm9ybWF0XHJcbiAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgIGJhdGNoX2lkOiBiYXRjaC5pZCxcclxuICAgIHN0cmF3X3R5cGU6IG1hdGVyaWFsVHlwZSxcclxuICAgIHN0YXJ0X3RpbWU6IG92ZXJhbGxfc3RhcnRfdGltZSxcclxuICAgIGlzY29tcGxldGVkOiBpc0NvbXBsZXRlZCxcclxuICAgIGJ1bmtlcl9wcm9jZXNzMToge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIxX3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjFfZW5kKSxcclxuICAgICAgbW9pc3R1cmU6IGJ1bmtlcjEubW9pc3R1cmUgPyBwYXJzZUZsb2F0KGJ1bmtlcjEubW9pc3R1cmUpIDogbnVsbCxcclxuICAgICAgdGVtcGVyYXR1cmU6IGJ1bmtlcjEudGVtcGVyYXR1cmUgPyBwYXJzZUZsb2F0KGJ1bmtlcjEudGVtcGVyYXR1cmUpIDogbnVsbCxcclxuICAgICAgcmVtYXJrczogYnVua2VyMS5yZW1hcmtzIHx8IG51bGxcclxuICAgIH0sXHJcbiAgICBidW5rZXJfcHJvY2VzczFfcmVzdDoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIxX3Jlc3Rfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMV9yZXN0X2VuZCksXHJcbiAgICAgIG1vaXN0dXJlOiBidW5rZXIxUmVzdC5tb2lzdHVyZSA/IHBhcnNlRmxvYXQoYnVua2VyMVJlc3QubW9pc3R1cmUpIDogbnVsbCxcclxuICAgICAgdGVtcGVyYXR1cmU6IGJ1bmtlcjFSZXN0LnRlbXBlcmF0dXJlID8gcGFyc2VGbG9hdChidW5rZXIxUmVzdC50ZW1wZXJhdHVyZSkgOiBudWxsLFxyXG4gICAgICByZW1hcmtzOiBidW5rZXIxUmVzdC5yZW1hcmtzIHx8IG51bGxcclxuICAgIH0sXHJcbiAgICBidW5rZXJfcHJvY2VzczI6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMl9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIyX2VuZCksXHJcbiAgICAgIG1vaXN0dXJlOiBidW5rZXIyLm1vaXN0dXJlID8gcGFyc2VGbG9hdChidW5rZXIyLm1vaXN0dXJlKSA6IG51bGwsXHJcbiAgICAgIHRlbXBlcmF0dXJlOiBidW5rZXIyLnRlbXBlcmF0dXJlID8gcGFyc2VGbG9hdChidW5rZXIyLnRlbXBlcmF0dXJlKSA6IG51bGwsXHJcbiAgICAgIHJlbWFya3M6IGJ1bmtlcjIucmVtYXJrcyB8fCBudWxsXHJcbiAgICB9LFxyXG4gICAgYnVua2VyX3Byb2Nlc3MyX3Jlc3Q6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMl9yZXN0X3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjJfcmVzdF9lbmQpLFxyXG4gICAgICBtb2lzdHVyZTogYnVua2VyMlJlc3QubW9pc3R1cmUgPyBwYXJzZUZsb2F0KGJ1bmtlcjJSZXN0Lm1vaXN0dXJlKSA6IG51bGwsXHJcbiAgICAgIHRlbXBlcmF0dXJlOiBidW5rZXIyUmVzdC50ZW1wZXJhdHVyZSA/IHBhcnNlRmxvYXQoYnVua2VyMlJlc3QudGVtcGVyYXR1cmUpIDogbnVsbCxcclxuICAgICAgcmVtYXJrczogYnVua2VyMlJlc3QucmVtYXJrcyB8fCBudWxsXHJcbiAgICB9LFxyXG4gICAgYnVua2VyX3Byb2Nlc3MzOiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjNfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyM19lbmQpLFxyXG4gICAgICBtb2lzdHVyZTogYnVua2VyMy5tb2lzdHVyZSA/IHBhcnNlRmxvYXQoYnVua2VyMy5tb2lzdHVyZSkgOiBudWxsLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogYnVua2VyMy50ZW1wZXJhdHVyZSA/IHBhcnNlRmxvYXQoYnVua2VyMy50ZW1wZXJhdHVyZSkgOiBudWxsLFxyXG4gICAgICByZW1hcmtzOiBidW5rZXIzLnJlbWFya3MgfHwgbnVsbFxyXG4gICAgfSxcclxuICAgIGJ1bmtlcl9wcm9jZXNzM19yZXN0OiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjNfcmVzdF9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIzX3Jlc3RfZW5kKSxcclxuICAgICAgbW9pc3R1cmU6IGJ1bmtlcjNSZXN0Lm1vaXN0dXJlID8gcGFyc2VGbG9hdChidW5rZXIzUmVzdC5tb2lzdHVyZSkgOiBudWxsLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogYnVua2VyM1Jlc3QudGVtcGVyYXR1cmUgPyBwYXJzZUZsb2F0KGJ1bmtlcjNSZXN0LnRlbXBlcmF0dXJlKSA6IG51bGwsXHJcbiAgICAgIHJlbWFya3M6IGJ1bmtlcjNSZXN0LnJlbWFya3MgfHwgbnVsbFxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFJlbW92ZSBudWxsIHZhbHVlcyBidXQga2VlcCB0aGUgc3RydWN0dXJlXHJcbiAgT2JqZWN0LmtleXMocGF5bG9hZCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgaWYgKHBheWxvYWRba2V5XSA9PT0gbnVsbCkge1xyXG4gICAgICBkZWxldGUgcGF5bG9hZFtrZXldO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGF5bG9hZFtrZXldID09PSAnb2JqZWN0JyAmJiBwYXlsb2FkW2tleV0gIT09IG51bGwgJiYga2V5ICE9PSAnYmF0Y2hfaWQnICYmIGtleSAhPT0gJ3N0cmF3X3R5cGUnICYmIGtleSAhPT0gJ2lzY29tcGxldGVkJykge1xyXG4gICAgICAvLyBSZW1vdmUgbnVsbCBmaWVsZHMgZnJvbSBuZXN0ZWQgb2JqZWN0c1xyXG4gICAgICBPYmplY3Qua2V5cyhwYXlsb2FkW2tleV0pLmZvckVhY2goc3ViS2V5ID0+IHtcclxuICAgICAgICBpZiAocGF5bG9hZFtrZXldW3N1YktleV0gPT09IG51bGwgfHwgcGF5bG9hZFtrZXldW3N1YktleV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgZGVsZXRlIHBheWxvYWRba2V5XVtzdWJLZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBJZiBuZXN0ZWQgb2JqZWN0IGhhcyBubyBwcm9wZXJ0aWVzIGxlZnQsIHJlbW92ZSBpdFxyXG4gICAgICBpZiAoT2JqZWN0LmtleXMocGF5bG9hZFtrZXldKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBkZWxldGUgcGF5bG9hZFtrZXldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnNvbGUubG9nKGDwn5OmIEdlbmVyYXRlZCBwYXlsb2FkIGZvciAke01BVEVSSUFMX0RJU1BMQVlfTkFNRVNbbWF0ZXJpYWxUeXBlXX06YCwgcGF5bG9hZCk7XHJcbiAgcmV0dXJuIHBheWxvYWQ7XHJcbn07XHJcblxyXG5jb25zdCBjb252ZXJ0QXBpUmVzcG9uc2VUb1VJID0gKGFwaURhdGEsIGJhdGNoKSA9PiB7XHJcbiAgaWYgKCFhcGlEYXRhIHx8ICFBcnJheS5pc0FycmF5KGFwaURhdGEpKSB7XHJcbiAgICBjb25zb2xlLmxvZygn4p2MIE5vIHZhbGlkIEFQSSBkYXRhIGFycmF5IHRvIGNvbnZlcnQ6JywgYXBpRGF0YSk7XHJcbiAgICByZXR1cm4gYmF0Y2g7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZygn8J+UhCBDb252ZXJ0aW5nIEFQSSBkYXRhIHRvIFVJLiBGb3VuZCBpdGVtczonLCBhcGlEYXRhLmxlbmd0aCk7XHJcblxyXG4gIC8vIENyZWF0ZSBhIG1hcCB0byBzdG9yZSBkYXRhIGZvciBlYWNoIG1hdGVyaWFsIHR5cGVcclxuICBjb25zdCBtYXRlcmlhbERhdGFNYXAgPSB7fTtcclxuICBhcGlEYXRhLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICBpZiAoaXRlbS5zdHJhd190eXBlKSB7XHJcbiAgICAgIG1hdGVyaWFsRGF0YU1hcFtpdGVtLnN0cmF3X3R5cGVdID0gaXRlbTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgY29uc29sZS5sb2coJ/Cfk4ogTWF0ZXJpYWwgZGF0YSBtYXA6JywgT2JqZWN0LmtleXMobWF0ZXJpYWxEYXRhTWFwKSk7XHJcblxyXG4gIC8vIFNpbmNlIHdlIGhhdmUgbXVsdGlwbGUgbWF0ZXJpYWxzIGJ1dCBvbmUgdGFibGUsIHdlJ2xsIGNvbWJpbmUgZGF0YSBmcm9tIGFsbCBtYXRlcmlhbHNcclxuICAvLyBGb3IgZmllbGRzIHRoYXQgZXhpc3QgaW4gbXVsdGlwbGUgbWF0ZXJpYWxzLCB3ZSdsbCB1c2UgdGhlIGZpcnN0IG5vbi1udWxsIHZhbHVlXHJcbiAgXHJcbiAgY29uc3Qgc3Vic3RhZ2VNYXBwaW5nID0gW1xyXG4gICAgeyBpbmRleDogMCwgZmllbGQ6ICdidW5rZXJfcHJvY2VzczEnIH0sXHJcbiAgICB7IGluZGV4OiAxLCBmaWVsZDogJ2J1bmtlcl9wcm9jZXNzMV9yZXN0JyB9LFxyXG4gICAgeyBpbmRleDogMiwgZmllbGQ6ICdidW5rZXJfcHJvY2VzczInIH0sXHJcbiAgICB7IGluZGV4OiAzLCBmaWVsZDogJ2J1bmtlcl9wcm9jZXNzMl9yZXN0JyB9LFxyXG4gICAgeyBpbmRleDogNCwgZmllbGQ6ICdidW5rZXJfcHJvY2VzczMnIH0sXHJcbiAgICB7IGluZGV4OiA1LCBmaWVsZDogJ2J1bmtlcl9wcm9jZXNzM19yZXN0JyB9XHJcbiAgXTtcclxuXHJcbiAgLy8gRm9yIGVhY2ggc3Vic3RhZ2UsIGNoZWNrIGFsbCBtYXRlcmlhbHMgZm9yIGRhdGFcclxuICBzdWJzdGFnZU1hcHBpbmcuZm9yRWFjaCgoeyBpbmRleCwgZmllbGQgfSkgPT4ge1xyXG4gICAgLy8gVHJ5IGVhY2ggbWF0ZXJpYWwgdHlwZSBpbiBvcmRlclxyXG4gICAgZm9yIChjb25zdCBtYXRlcmlhbFR5cGUgb2YgYmF0Y2gubWF0ZXJpYWxUeXBlcykge1xyXG4gICAgICBjb25zdCBtYXRlcmlhbERhdGEgPSBtYXRlcmlhbERhdGFNYXBbbWF0ZXJpYWxUeXBlXTtcclxuICAgICAgaWYgKCFtYXRlcmlhbERhdGEpIGNvbnRpbnVlO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc3RhZ2VEYXRhID0gbWF0ZXJpYWxEYXRhW2ZpZWxkXTtcclxuICAgICAgaWYgKHN0YWdlRGF0YSAmJiBiYXRjaC5zdWJzdGFnZXNbaW5kZXhdKSB7XHJcbiAgICAgICAgLy8gT25seSBwb3B1bGF0ZSBpZiBub3QgYWxyZWFkeSBwb3B1bGF0ZWRcclxuICAgICAgICBpZiAoIWJhdGNoLnN1YnN0YWdlc1tpbmRleF0uc3RhcnREYXRlICYmIHN0YWdlRGF0YS5zdGFydF90aW1lKSB7XHJcbiAgICAgICAgICBjb25zdCB7IGRhdGUsIHRpbWUgfSA9IHBhcnNlRGF0ZVRpbWUoc3RhZ2VEYXRhLnN0YXJ0X3RpbWUpO1xyXG4gICAgICAgICAgYmF0Y2guc3Vic3RhZ2VzW2luZGV4XS5zdGFydERhdGUgPSBkYXRlO1xyXG4gICAgICAgICAgYmF0Y2guc3Vic3RhZ2VzW2luZGV4XS5zdGFydFRpbWUgPSB0aW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWJhdGNoLnN1YnN0YWdlc1tpbmRleF0uZW5kRGF0ZSAmJiBzdGFnZURhdGEuZW5kX3RpbWUpIHtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0ZSwgdGltZSB9ID0gcGFyc2VEYXRlVGltZShzdGFnZURhdGEuZW5kX3RpbWUpO1xyXG4gICAgICAgICAgYmF0Y2guc3Vic3RhZ2VzW2luZGV4XS5lbmREYXRlID0gZGF0ZTtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0uZW5kVGltZSA9IHRpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghYmF0Y2guc3Vic3RhZ2VzW2luZGV4XS50b3RhbEhvdXJzICYmIHN0YWdlRGF0YS5kdXJhdGlvbl9ob3VycyAhPT0gdW5kZWZpbmVkICYmIHN0YWdlRGF0YS5kdXJhdGlvbl9ob3VycyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgYmF0Y2guc3Vic3RhZ2VzW2luZGV4XS50b3RhbEhvdXJzID0gc3RhZ2VEYXRhLmR1cmF0aW9uX2hvdXJzLnRvRml4ZWQoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghYmF0Y2guc3Vic3RhZ2VzW2luZGV4XS5tb2lzdHVyZSAmJiBzdGFnZURhdGEubW9pc3R1cmUgIT09IHVuZGVmaW5lZCAmJiBzdGFnZURhdGEubW9pc3R1cmUgIT09IG51bGwpIHtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0ubW9pc3R1cmUgPSBzdGFnZURhdGEubW9pc3R1cmUudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFiYXRjaC5zdWJzdGFnZXNbaW5kZXhdLnRlbXBlcmF0dXJlICYmIHN0YWdlRGF0YS50ZW1wZXJhdHVyZSAhPT0gdW5kZWZpbmVkICYmIHN0YWdlRGF0YS50ZW1wZXJhdHVyZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgYmF0Y2guc3Vic3RhZ2VzW2luZGV4XS50ZW1wZXJhdHVyZSA9IHN0YWdlRGF0YS50ZW1wZXJhdHVyZS50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWJhdGNoLnN1YnN0YWdlc1tpbmRleF0ucmVtYXJrcyAmJiBzdGFnZURhdGEucmVtYXJrcykge1xyXG4gICAgICAgICAgYmF0Y2guc3Vic3RhZ2VzW2luZGV4XS5yZW1hcmtzID0gc3RhZ2VEYXRhLnJlbWFya3M7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnNvbGUubG9nKCfinIUgRmluaXNoZWQgY29udmVydGluZyBBUEkgZGF0YSB0byBVSScpO1xyXG4gIHJldHVybiBiYXRjaDtcclxufTtcclxuXHJcbmNvbnN0IHNlbmRUb0FwaSA9IGFzeW5jIChwYXlsb2FkLCBtYXRlcmlhbFR5cGUsIGRpc3BsYXlOYW1lKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goQVBJX0VORFBPSU5ULCB7XHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coYPCfk6UgUkVTUE9OU0UgZm9yICR7ZGlzcGxheU5hbWV9OiBTdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgZGV0YWlsOiAnVW5rbm93biBlcnJvcicgfSkpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQVBJIEVycm9yIFJlc3BvbnNlOicsIGVycm9yRGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gYEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YDtcclxuICAgICAgaWYgKGVycm9yRGF0YS5kZXRhaWwpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGVycm9yRGF0YS5kZXRhaWwgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZGV0YWlsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlcnJvckRhdGEuZGV0YWlsKSkge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmRldGFpbC5tYXAoZXJyID0+IGVyci5tc2cpLmpvaW4oJywgJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3JEYXRhLmRldGFpbCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGVycm9yRGF0YS5kZXRhaWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgY29uc29sZS5sb2coYOKchSBTVUNDRVNTIGZvciAke2Rpc3BsYXlOYW1lfTpgLCByZXN1bHQpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LCBtYXRlcmlhbFR5cGUsIGRpc3BsYXlOYW1lIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFUlJPUiBzZW5kaW5nICR7ZGlzcGxheU5hbWV9IGRhdGE6YCwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlLCBtYXRlcmlhbFR5cGUsIGRpc3BsYXlOYW1lIH07XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgQnVua2VyVGFibGUgPSBSZWFjdC5tZW1vKCh7IGJhdGNoLCBvblVwZGF0ZSwgcmVhZE9ubHkgPSBmYWxzZSB9KSA9PiB7XHJcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xyXG5cclxuICBjb25zdCB2YWxpZGF0ZURhdGVSYW5nZSA9IChzdWJzdGFnZSwgZmllbGQsIG5ld1ZhbHVlKSA9PiB7XHJcbiAgICBpZiAoZmllbGQgPT09ICdzdGFydERhdGUnIHx8IGZpZWxkID09PSAnc3RhcnRUaW1lJykge1xyXG4gICAgICBpZiAoc3Vic3RhZ2UuZW5kRGF0ZSAmJiBzdWJzdGFnZS5lbmRUaW1lKSB7XHJcbiAgICAgICAgY29uc3QgbmV3U3RhcnREYXRlVGltZSA9IGZpZWxkID09PSAnc3RhcnREYXRlJyBcclxuICAgICAgICAgID8gY29tYmluZURhdGVUaW1lKG5ld1ZhbHVlLCBzdWJzdGFnZS5zdGFydFRpbWUpXHJcbiAgICAgICAgICA6IGNvbWJpbmVEYXRlVGltZShzdWJzdGFnZS5zdGFydERhdGUsIG5ld1ZhbHVlKTtcclxuICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IGNvbWJpbmVEYXRlVGltZShzdWJzdGFnZS5lbmREYXRlLCBzdWJzdGFnZS5lbmRUaW1lKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAobmV3U3RhcnREYXRlVGltZSAmJiBlbmREYXRlVGltZSAmJiBuZXcgRGF0ZShuZXdTdGFydERhdGVUaW1lKSA+IG5ldyBEYXRlKGVuZERhdGVUaW1lKSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYCR7c3Vic3RhZ2UubmFtZX06IFN0YXJ0IGRhdGUvdGltZSBjYW5ub3QgYmUgYWZ0ZXIgZW5kIGRhdGUvdGltZWApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChmaWVsZCA9PT0gJ2VuZERhdGUnIHx8IGZpZWxkID09PSAnZW5kVGltZScpIHtcclxuICAgICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiBzdWJzdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLnN0YXJ0RGF0ZSwgc3Vic3RhZ2Uuc3RhcnRUaW1lKTtcclxuICAgICAgICBjb25zdCBuZXdFbmREYXRlVGltZSA9IGZpZWxkID09PSAnZW5kRGF0ZSdcclxuICAgICAgICAgID8gY29tYmluZURhdGVUaW1lKG5ld1ZhbHVlLCBzdWJzdGFnZS5lbmRUaW1lKVxyXG4gICAgICAgICAgOiBjb21iaW5lRGF0ZVRpbWUoc3Vic3RhZ2UuZW5kRGF0ZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChzdGFydERhdGVUaW1lICYmIG5ld0VuZERhdGVUaW1lICYmIG5ldyBEYXRlKHN0YXJ0RGF0ZVRpbWUpID4gbmV3IERhdGUobmV3RW5kRGF0ZVRpbWUpKSB7XHJcbiAgICAgICAgICB0b2FzdC5lcnJvcihgJHtzdWJzdGFnZS5uYW1lfTogRW5kIGRhdGUvdGltZSBjYW5ub3QgYmUgYmVmb3JlIHN0YXJ0IGRhdGUvdGltZWApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0TWluRW5kRGF0ZSA9IChzdWJzdGFnZSkgPT4ge1xyXG4gICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSkge1xyXG4gICAgICByZXR1cm4gc3Vic3RhZ2Uuc3RhcnREYXRlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRNaW5FbmRUaW1lID0gKHN1YnN0YWdlKSA9PiB7XHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlID09PSBzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSkge1xyXG4gICAgICByZXR1cm4gc3Vic3RhZ2Uuc3RhcnRUaW1lO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9IChpbmRleCwgZmllbGQsIHZhbHVlKSA9PiB7XHJcbiAgICBpZiAocmVhZE9ubHkpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3QgdXBkYXRlZEJhdGNoID0geyAuLi5iYXRjaCB9O1xyXG4gICAgY29uc3Qgc3Vic3RhZ2UgPSB1cGRhdGVkQmF0Y2guc3Vic3RhZ2VzW2luZGV4XTtcclxuICAgIFxyXG4gICAgaWYgKGZpZWxkID09PSAnc3RhcnREYXRlJyB8fCBmaWVsZCA9PT0gJ3N0YXJ0VGltZScgfHwgZmllbGQgPT09ICdlbmREYXRlJyB8fCBmaWVsZCA9PT0gJ2VuZFRpbWUnKSB7XHJcbiAgICAgIGlmICghdmFsaWRhdGVEYXRlUmFuZ2Uoc3Vic3RhZ2UsIGZpZWxkLCB2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgc3Vic3RhZ2VbZmllbGRdID0gdmFsdWU7XHJcbiAgICBcclxuICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lICYmIHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2Uuc3RhcnREYXRlfVQke3N1YnN0YWdlLnN0YXJ0VGltZX1gKTtcclxuICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5lbmREYXRlfVQke3N1YnN0YWdlLmVuZFRpbWV9YCk7XHJcbiAgICAgIGNvbnN0IGRpZmZIb3VycyA9IChlbmREYXRlVGltZSAtIHN0YXJ0RGF0ZVRpbWUpIC8gKDEwMDAgKiA2MCAqIDYwKTtcclxuICAgICAgc3Vic3RhZ2UudG90YWxIb3VycyA9IGRpZmZIb3Vycy50b0ZpeGVkKDEpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvblVwZGF0ZSh1cGRhdGVkQmF0Y2gpO1xyXG4gIH07XHJcblxyXG4gIC8vIEdldCB0aGUgZGlzcGxheSBzdHJpbmcgZm9yIG1hdGVyaWFsc1xyXG4gIGNvbnN0IGdldE1hdGVyaWFsc0Rpc3BsYXkgPSAoKSA9PiB7XHJcbiAgICBpZiAoYmF0Y2gubWF0ZXJpYWxEaXNwbGF5TmFtZXMgJiYgYmF0Y2gubWF0ZXJpYWxEaXNwbGF5TmFtZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICByZXR1cm4gYmF0Y2gubWF0ZXJpYWxEaXNwbGF5TmFtZXMuam9pbignICsgJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJ0J1bmtlciBQcm9jZXNzJztcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0YWJsZS1zZWN0aW9uXCI+XHJcbiAgICAgIDxoMyBjbGFzc05hbWU9XCJ0YWJsZS10aXRsZVwiPkJ1bmtlciBQcm9jZXNzIC0ge2dldE1hdGVyaWFsc0Rpc3BsYXkoKX08L2gzPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImVudHJ5LXRhYmxlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJlbnRyeS10YWJsZSB1bmlmaWVkLXBsYXRmb3JtLXRhYmxlXCI+XHJcbiAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5TdWJzdGFnZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIGNvbFNwYW49XCIyXCI+U3RhcnQ8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCBjb2xTcGFuPVwiMlwiPkVuZDwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+VG90YWwgSG91cnM8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPk1vaXN0dXJlICglKTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+VGVtcGVyYXR1cmUgKMKwQyk8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPlJlbWFya3M8L3RoPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgPHRoPkRhdGU8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aD5UaW1lPC90aD5cclxuICAgICAgICAgICAgICA8dGg+RGF0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoPlRpbWU8L3RoPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAge2JhdGNoLnN1YnN0YWdlcy5tYXAoKHN1YnN0YWdlLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgIDx0ciBrZXk9e2luZGV4fT5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJzdWJzdGFnZS1uYW1lXCI+e3N1YnN0YWdlLm5hbWV9PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5zdGFydERhdGUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3N0YXJ0RGF0ZScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1heD17c3Vic3RhZ2UuZW5kRGF0ZSB8fCB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnN0YXJ0VGltZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnc3RhcnRUaW1lJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PXtzdWJzdGFnZS5zdGFydERhdGUgPT09IHN1YnN0YWdlLmVuZERhdGUgPyBzdWJzdGFnZS5lbmRUaW1lIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5lbmREYXRlIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdlbmREYXRlJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWluPXtnZXRNaW5FbmREYXRlKHN1YnN0YWdlKX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0aW1lXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UuZW5kVGltZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnZW5kVGltZScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj17Z2V0TWluRW5kVGltZShzdWJzdGFnZSl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnRvdGFsSG91cnMgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHlcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dCBob3Vycy1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBdXRvXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5tb2lzdHVyZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnbW9pc3R1cmUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXQgbW9pc3R1cmUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiJVwiXHJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PVwiMTAwXCJcclxuICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UudGVtcGVyYXR1cmUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3RlbXBlcmF0dXJlJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0IHRlbXBlcmF0dXJlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIsKwQ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PVwiMTAwXCJcclxuICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVhZE9ubHl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnJlbWFya3MgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3JlbWFya3MnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXQgcmVtYXJrcy1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBZGQgcmVtYXJrcy4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICApKX1cclxuICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59KTtcclxuXHJcbkJ1bmtlclRhYmxlLmRpc3BsYXlOYW1lID0gJ0J1bmtlclRhYmxlJztcclxuXHJcbmZ1bmN0aW9uIEJhdGNoU2VsZWN0aW9uKHsgb25TZWxlY3RCYXRjaCwgbG9hZGluZywgZXJyb3IsIGluaXRpYWxCYXRjaE51bWJlciwgaW5pdGlhbEJhdGNoSWQgfSkge1xyXG4gIGNvbnN0IFtiYXRjaE51bWJlciwgc2V0QmF0Y2hOdW1iZXJdID0gdXNlU3RhdGUoaW5pdGlhbEJhdGNoTnVtYmVyIHx8ICcnKTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcclxuICBjb25zdCBoYXNMb2FkZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG5cclxuICAvLyBBdXRvLWxvYWQgYmF0Y2ggaWYgaW5pdGlhbEJhdGNoTnVtYmVyIGlzIHByb3ZpZGVkXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpbml0aWFsQmF0Y2hOdW1iZXIgJiYgIWhhc0xvYWRlZFJlZi5jdXJyZW50ICYmICFsb2FkaW5nKSB7XHJcbiAgICAgIHNldEJhdGNoTnVtYmVyKGluaXRpYWxCYXRjaE51bWJlcik7XHJcbiAgICAgIGhhbmRsZUxvYWRCYXRjaChpbml0aWFsQmF0Y2hOdW1iZXIsIGluaXRpYWxCYXRjaElkKTtcclxuICAgICAgaGFzTG9hZGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0sIFtpbml0aWFsQmF0Y2hOdW1iZXIsIGluaXRpYWxCYXRjaElkLCBsb2FkaW5nXSk7XHJcblxyXG4gIGNvbnN0IGdldE1hdGVyaWFsc0Zyb21CYXRjaCA9IChiYXRjaERhdGEpID0+IHtcclxuICAgIGNvbnN0IG1hdGVyaWFscyA9IG5ldyBTZXQoKTtcclxuICAgIFxyXG4gICAgaWYgKGJhdGNoRGF0YSAmJiBiYXRjaERhdGEuZm9ybXVsYXRpb25fZW50cmllcykge1xyXG4gICAgICBiYXRjaERhdGEuZm9ybXVsYXRpb25fZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcclxuICAgICAgICBjb25zdCBtYXRlcmlhbE5hbWUgPSBlbnRyeS5uYW1lLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKE1BVEVSSUFMX1RZUEVTW21hdGVyaWFsTmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgbWF0ZXJpYWxzLmFkZChtYXRlcmlhbE5hbWUpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk4wgRm91bmQgbWF0ZXJpYWw6ICR7bWF0ZXJpYWxOYW1lfSAtPiAke01BVEVSSUFMX1RZUEVTW21hdGVyaWFsTmFtZV19YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIEFycmF5LmZyb20obWF0ZXJpYWxzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVMb2FkQmF0Y2ggPSBhc3luYyAoYmF0Y2hOdW0sIGJhdGNoSWQpID0+IHtcclxuICAgIGlmICghYmF0Y2hOdW0udHJpbSgpKSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdQbGVhc2UgZW50ZXIgYSBiYXRjaCBudW1iZXInKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBGZXRjaGluZyBiYXRjaCBkZXRhaWxzIGZvcjogJHtiYXRjaE51bX0gd2l0aCBJRDogJHtiYXRjaElkIHx8ICd1bmtub3duJ31gKTtcclxuICAgICAgXHJcbiAgICAgIGxldCBzZWxlY3RlZEJhdGNoID0gbnVsbDtcclxuICAgICAgbGV0IGJhdGNoSWRUb1VzZSA9IGJhdGNoSWQ7XHJcbiAgICAgIFxyXG4gICAgICAvLyBJZiBiYXRjaElkIGlzIHByb3ZpZGVkLCB3ZSBjYW4gdXNlIGl0IGRpcmVjdGx5XHJcbiAgICAgIGlmIChiYXRjaElkVG9Vc2UpIHtcclxuICAgICAgICAvLyBUcnkgdG8gZmV0Y2ggYmF0Y2ggZGV0YWlscyB1c2luZyBJRFxyXG4gICAgICAgIGNvbnN0IGJhdGNoUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQVRDSF9GRVRDSF9FTkRQT0lOVH0vJHtiYXRjaElkVG9Vc2V9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGJhdGNoUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIGNvbnN0IGJhdGNoUmVzdWx0ID0gYXdhaXQgYmF0Y2hSZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICBzZWxlY3RlZEJhdGNoID0gYmF0Y2hSZXN1bHQuZGF0YSB8fCBiYXRjaFJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gZmV0Y2hpbmcgYWxsIGJhdGNoZXNcclxuICAgICAgICAgIGNvbnN0IGFsbEJhdGNoZXNSZXNwb25zZSA9IGF3YWl0IGZldGNoKEJBVENIX0ZFVENIX0VORFBPSU5UKTtcclxuICAgICAgICAgIGlmIChhbGxCYXRjaGVzUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgY29uc3QgYWxsQmF0Y2hlc1Jlc3VsdCA9IGF3YWl0IGFsbEJhdGNoZXNSZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIGxldCBiYXRjaGVzID0gW107XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFsbEJhdGNoZXNSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgYmF0Y2hlcyA9IGFsbEJhdGNoZXNSZXN1bHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxsQmF0Y2hlc1Jlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgYmF0Y2hlcyA9IGFsbEJhdGNoZXNSZXN1bHQuZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxlY3RlZEJhdGNoID0gYmF0Y2hlcy5maW5kKGIgPT4gYi5pZCA9PT0gYmF0Y2hJZFRvVXNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gTm8gYmF0Y2hJZCBwcm92aWRlZCwgZmV0Y2ggYnkgYmF0Y2ggbnVtYmVyXHJcbiAgICAgICAgY29uc3QgYmF0Y2hSZXNwb25zZSA9IGF3YWl0IGZldGNoKEJBVENIX0ZFVENIX0VORFBPSU5UKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWJhdGNoUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGJhdGNoZXMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYmF0Y2hSZXN1bHQgPSBhd2FpdCBiYXRjaFJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgYmF0Y2hlcyA9IFtdO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJhdGNoUmVzdWx0KSkge1xyXG4gICAgICAgICAgYmF0Y2hlcyA9IGJhdGNoUmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmF0Y2hSZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgYmF0Y2hlcyA9IGJhdGNoUmVzdWx0LmRhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxlY3RlZEJhdGNoID0gYmF0Y2hlcy5maW5kKGIgPT4gYi5iYXRjaF9udW1iZXIgPT09IGJhdGNoTnVtLnRyaW0oKSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICghc2VsZWN0ZWRCYXRjaCkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKCdCYXRjaCBudW1iZXIgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRm91bmQgYmF0Y2g6Jywgc2VsZWN0ZWRCYXRjaCk7XHJcblxyXG4gICAgICBjb25zdCBtYXRlcmlhbHMgPSBnZXRNYXRlcmlhbHNGcm9tQmF0Y2goc2VsZWN0ZWRCYXRjaCk7XHJcblxyXG4gICAgICBpZiAobWF0ZXJpYWxzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKCdObyBzdWl0YWJsZSBtYXRlcmlhbHMgKEJhZ2Fzc2UsIFdoZWF0IFN0cmF3LCBvciBQYWRkeSBTdHJhdykgZm91bmQgaW4gdGhpcyBiYXRjaCcpO1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TiyBNYXRlcmlhbHMgdG8gcHJvY2VzczpgLCBtYXRlcmlhbHMpO1xyXG5cclxuICAgICAgY29uc3QgbmV3QmF0Y2ggPSBjcmVhdGVFbXB0eUJhdGNoKGJhdGNoTnVtLCBtYXRlcmlhbHMsIHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBuZXdCYXRjaC5iYXRjaERhdGEgPSBzZWxlY3RlZEJhdGNoO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogRmV0Y2hpbmcgYnVua2VyIGRhdGEgZm9yIGJhdGNoIElEOicsIHNlbGVjdGVkQmF0Y2guaWQpO1xyXG4gICAgICBjb25zdCBzdHJhd0RhdGFSZXN1bHQgPSBhd2FpdCBmZXRjaEJhdGNoRGF0YShzZWxlY3RlZEJhdGNoLmlkKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChzdHJhd0RhdGFSZXN1bHQuc3VjY2VzcyAmJiBzdHJhd0RhdGFSZXN1bHQuZGF0YSAmJiBzdHJhd0RhdGFSZXN1bHQuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk6YgUmF3IEFQSSBkYXRhOicsIHN0cmF3RGF0YVJlc3VsdC5kYXRhKTtcclxuICAgICAgICBjb25zdCBwb3B1bGF0ZWRCYXRjaCA9IGNvbnZlcnRBcGlSZXNwb25zZVRvVUkoc3RyYXdEYXRhUmVzdWx0LmRhdGEsIG5ld0JhdGNoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFBvcHVsYXRlZCBiYXRjaDonLCBwb3B1bGF0ZWRCYXRjaCk7XHJcbiAgICAgICAgb25TZWxlY3RCYXRjaChwb3B1bGF0ZWRCYXRjaCk7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19IHdpdGggZXhpc3RpbmcgZGF0YSAoJHttYXRlcmlhbHMubGVuZ3RofSBtYXRlcmlhbCR7bWF0ZXJpYWxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30pYCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3RyYXdEYXRhUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICBvblNlbGVjdEJhdGNoKG5ld0JhdGNoKTtcclxuICAgICAgICB0b2FzdC5zdWNjZXNzKGBMb2FkZWQgYmF0Y2ggJHtiYXRjaE51bX0gKCR7bWF0ZXJpYWxzLmxlbmd0aH0gbWF0ZXJpYWwke21hdGVyaWFscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IC0gbm8gZXhpc3RpbmcgZGF0YSlgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b2FzdC53YXJuaW5nKGBMb2FkZWQgYmF0Y2ggJHtiYXRjaE51bX0gYnV0IGZhaWxlZCB0byBmZXRjaCBleGlzdGluZyBkYXRhYCk7XHJcbiAgICAgICAgb25TZWxlY3RCYXRjaChuZXdCYXRjaCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGxvYWRpbmcgYmF0Y2g6JywgZXJyKTtcclxuICAgICAgdG9hc3QuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgYmF0Y2ggZGV0YWlscy4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTmV3ID0gKCkgPT4ge1xyXG4gICAgaWYgKGlzTG9hZGluZyB8fCBsb2FkaW5nKSByZXR1cm47XHJcbiAgICBoYW5kbGVMb2FkQmF0Y2goYmF0Y2hOdW1iZXIpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJhdGNoLXNlbGVjdGlvblwiPlxyXG4gICAgICA8aDI+QnVua2VyIE1hbmFnZW1lbnQgUHJvY2VzcyBFbnRyeTwvaDI+XHJcbiAgICAgIFxyXG4gICAgICB7ZXJyb3IgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiPlxyXG4gICAgICAgICAgRXJyb3I6IHtlcnJvcn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0aW9uLXBhbmVsXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctYmF0Y2gtc2VjdGlvblwiPlxyXG4gICAgICAgICAgPGgzPkVudGVyIEJhdGNoIE51bWJlcjwvaDM+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhdGNoLWlucHV0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIEJhdGNoIE51bWJlciAoZS5nLiwgQkFUQ0gtMDAxKVwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e2JhdGNoTnVtYmVyfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QmF0Y2hOdW1iZXIoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJhdGNoLWlucHV0XCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGxvYWRpbmd9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ3JlYXRlTmV3fSBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBsb2FkaW5nfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAge2lzTG9hZGluZyB8fCBsb2FkaW5nID8gJ0xvYWRpbmcuLi4nIDogJ0xvYWQgQmF0Y2gnfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEJ1bmtlck1hbmFnZW1lbnRDb250ZW50KCkge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcclxuICBjb25zdCBbY3VycmVudEJhdGNoLCBzZXRDdXJyZW50QmF0Y2hdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW2luaXRpYWxCYXRjaE51bWJlciwgc2V0SW5pdGlhbEJhdGNoTnVtYmVyXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtpbml0aWFsQmF0Y2hJZCwgc2V0SW5pdGlhbEJhdGNoSWRdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgaXNTYXZpbmdSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG5cclxuICAvLyBHZXQgYmF0Y2ggbnVtYmVyIGFuZCBJRCBmcm9tIFVSTCBwYXJhbXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgYmF0Y2hOdW0gPSBzZWFyY2hQYXJhbXMuZ2V0KCdiYXRjaCcpO1xyXG4gICAgY29uc3QgYmF0Y2hJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2JhdGNoSWQnKTtcclxuICAgIFxyXG4gICAgaWYgKGJhdGNoTnVtKSB7XHJcbiAgICAgIHNldEluaXRpYWxCYXRjaE51bWJlcihiYXRjaE51bSk7XHJcbiAgICAgIHNldEluaXRpYWxCYXRjaElkKGJhdGNoSWQpO1xyXG4gICAgfVxyXG4gIH0sIFtzZWFyY2hQYXJhbXNdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VsZWN0QmF0Y2ggPSAoYmF0Y2gpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCfinIUgU2V0dGluZyBjdXJyZW50IGJhdGNoOicsIGJhdGNoKTtcclxuICAgIHNldEN1cnJlbnRCYXRjaChiYXRjaCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVXBkYXRlQmF0Y2ggPSB1c2VDYWxsYmFjaygodXBkYXRlZEJhdGNoKSA9PiB7XHJcbiAgICBzZXRDdXJyZW50QmF0Y2godXBkYXRlZEJhdGNoKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHZhbGlkYXRlQmF0Y2hEYXRhID0gKGJhdGNoKSA9PiB7XHJcbiAgICAvLyBWYWxpZGF0ZSBzdGFnZSBzZXF1ZW5jaW5nXHJcbiAgICBpZiAoIXZhbGlkYXRlU3RhZ2VTZXF1ZW5jaW5nKGJhdGNoLnN1YnN0YWdlcywgdG9hc3QpKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVmFsaWRhdGUgZWFjaCBzdWJzdGFnZVxyXG4gICAgZm9yIChjb25zdCBzdWJzdGFnZSBvZiBiYXRjaC5zdWJzdGFnZXMpIHtcclxuICAgICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSAmJiBzdWJzdGFnZS5zdGFydFRpbWUgJiYgc3Vic3RhZ2UuZW5kRGF0ZSAmJiBzdWJzdGFnZS5lbmRUaW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLnN0YXJ0RGF0ZX1UJHtzdWJzdGFnZS5zdGFydFRpbWV9YCk7XHJcbiAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5lbmREYXRlfVQke3N1YnN0YWdlLmVuZFRpbWV9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUgPiBlbmREYXRlVGltZSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYCR7c3Vic3RhZ2UubmFtZX06IEVuZCBkYXRlL3RpbWUgY2Fubm90IGJlIGJlZm9yZSBzdGFydCBkYXRlL3RpbWVgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICgoc3Vic3RhZ2Uuc3RhcnREYXRlIHx8IHN1YnN0YWdlLnN0YXJ0VGltZSkgJiYgKCFzdWJzdGFnZS5zdGFydERhdGUgfHwgIXN1YnN0YWdlLnN0YXJ0VGltZSkpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcihgUGxlYXNlIGNvbXBsZXRlIGJvdGggZGF0ZSBhbmQgdGltZSBmb3IgJHtzdWJzdGFnZS5uYW1lfSBzdGFydGApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoKHN1YnN0YWdlLmVuZERhdGUgfHwgc3Vic3RhZ2UuZW5kVGltZSkgJiYgKCFzdWJzdGFnZS5lbmREYXRlIHx8ICFzdWJzdGFnZS5lbmRUaW1lKSkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKGBQbGVhc2UgY29tcGxldGUgYm90aCBkYXRlIGFuZCB0aW1lIGZvciAke3N1YnN0YWdlLm5hbWV9IGVuZGApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTYXZlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFjdXJyZW50QmF0Y2ggfHwgaXNTYXZpbmdSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnXFxuPT09PT09PT09PSDwn5qAIFNBVkUgU1RBUlRFRCA9PT09PT09PT09Jyk7XHJcbiAgICBjb25zb2xlLmxvZyhgQmF0Y2g6ICR7Y3VycmVudEJhdGNoLmJhdGNoTnVtYmVyfSAoSUQ6ICR7Y3VycmVudEJhdGNoLmlkfSlgKTtcclxuICAgIGNvbnNvbGUubG9nKGBNYXRlcmlhbHM6ICR7Y3VycmVudEJhdGNoLm1hdGVyaWFsRGlzcGxheU5hbWVzPy5qb2luKCcsICcpIHx8ICdVbmtub3duJ31gKTtcclxuXHJcbiAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuICAgICAgbGV0IGhhc0FueURhdGFUb1NhdmUgPSBmYWxzZTtcclxuICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XHJcbiAgICAgIGxldCBmYWlsQ291bnQgPSAwO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBkYXRhIHRvIHNhdmVcclxuICAgICAgaWYgKCFoYXNDb21wbGV0ZURhdGEoY3VycmVudEJhdGNoLnN1YnN0YWdlcykpIHtcclxuICAgICAgICB0b2FzdC5pbmZvKCdObyBjb21wbGV0ZSBkYXRhIHRvIHNhdmUuIFBsZWFzZSBmaWxsIGluIGFsbCByZXF1aXJlZCBmaWVsZHMuJyk7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gVmFsaWRhdGUgYmF0Y2ggZGF0YSBiZWZvcmUgc2F2aW5nXHJcbiAgICAgIGlmICghdmFsaWRhdGVCYXRjaERhdGEoY3VycmVudEJhdGNoKSkge1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFNhdmUgZm9yIGVhY2ggbWF0ZXJpYWwgdHlwZSBpbiB0aGUgYmF0Y2hcclxuICAgICAgZm9yIChjb25zdCBtYXRlcmlhbFR5cGUgb2YgY3VycmVudEJhdGNoLm1hdGVyaWFsVHlwZXMpIHtcclxuICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IE1BVEVSSUFMX0RJU1BMQVlfTkFNRVNbbWF0ZXJpYWxUeXBlXTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgXFxuLS0tIPCfk50gUHJvY2Vzc2luZyBtYXRlcmlhbDogJHtkaXNwbGF5TmFtZX0gLS0tYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGNvbnZlcnRUb0FwaVBheWxvYWQoY3VycmVudEJhdGNoLCBtYXRlcmlhbFR5cGUsIGZhbHNlKTtcclxuICAgICAgICBpZiAocGF5bG9hZCkge1xyXG4gICAgICAgICAgaGFzQW55RGF0YVRvU2F2ZSA9IHRydWU7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TpCBNYWtpbmcgQVBJIGNhbGwgZm9yICR7ZGlzcGxheU5hbWV9YCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRUb0FwaShwYXlsb2FkLCBtYXRlcmlhbFR5cGUsIGRpc3BsYXlOYW1lKTtcclxuICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XHJcbiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYCR7ZGlzcGxheU5hbWV9IGRhdGEgc2F2ZWQgc3VjY2Vzc2Z1bGx5IWApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmFpbENvdW50Kys7XHJcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gc2F2ZSAke2Rpc3BsYXlOYW1lfSBkYXRhOiAke3Jlc3VsdC5lcnJvcn1gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdcXG49PT09PT09PT09IPCfk4ogU0FWRSBTVU1NQVJZID09PT09PT09PT0nKTtcclxuICAgICAgY29uc29sZS5sb2coYFRvdGFsIEFQSSBjYWxscyBhdHRlbXB0ZWQ6ICR7cmVzdWx0cy5sZW5ndGh9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgU3VjY2Vzc2Z1bDogJHtzdWNjZXNzQ291bnR9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinYwgRmFpbGVkOiAke2ZhaWxDb3VudH1gKTtcclxuICAgICAgY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG4nKTtcclxuXHJcbiAgICAgIGlmICghaGFzQW55RGF0YVRvU2F2ZSkge1xyXG4gICAgICAgIHRvYXN0LmluZm8oJ05vIGRhdGEgdG8gc2F2ZS4nKTtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBhbGxTdWNjZXNzID0gcmVzdWx0cy5ldmVyeShyID0+IHIuc3VjY2Vzcyk7XHJcbiAgICAgIGlmIChhbGxTdWNjZXNzKSB7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgQWxsICR7c3VjY2Vzc0NvdW50fSBtYXRlcmlhbCBkYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseSFgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b2FzdC53YXJuaW5nKGAke3N1Y2Nlc3NDb3VudH0gbWF0ZXJpYWwocykgc2F2ZWQgc3VjY2Vzc2Z1bGx5LCAke2ZhaWxDb3VudH0gZmFpbGVkYCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBiYXRjaCBkYXRhJyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTYXZlIGVycm9yOicsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUJhY2tUb1NlbGVjdGlvbiA9ICgpID0+IHtcclxuICAgIC8vIENsZWFyIHRoZSBjdXJyZW50IGJhdGNoIHRvIHNob3cgdGhlIHNlbGVjdGlvbiBVSVxyXG4gICAgc2V0Q3VycmVudEJhdGNoKG51bGwpO1xyXG4gICAgLy8gQ2xlYXIgVVJMIHBhcmFtcyB3aGVuIGdvaW5nIGJhY2tcclxuICAgIHJvdXRlci5wdXNoKCcvYnVua2VyLW1hbmFnZW1lbnQnKTtcclxuICAgIC8vIENsZWFyIGFueSBzYXZlZCBzdGF0ZVxyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAvLyBSZXNldCB0aGUgaW5pdGlhbCBiYXRjaCBudW1iZXIgc3RhdGUgaWYgbmVlZGVkXHJcbiAgICBzZXRJbml0aWFsQmF0Y2hOdW1iZXIobnVsbCk7XHJcbiAgICBzZXRJbml0aWFsQmF0Y2hJZChudWxsKTtcclxuICB9O1xyXG5cclxuICBpZiAoIWN1cnJlbnRCYXRjaCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEFwcExheW91dCB0aXRsZT1cIkJ1bmtlciBNYW5hZ2VtZW50XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1bmlmaWVkLXBsYXRmb3JtLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgPEJhdGNoU2VsZWN0aW9uIFxyXG4gICAgICAgICAgICBvblNlbGVjdEJhdGNoPXtoYW5kbGVTZWxlY3RCYXRjaH1cclxuICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cclxuICAgICAgICAgICAgZXJyb3I9e2Vycm9yfVxyXG4gICAgICAgICAgICBpbml0aWFsQmF0Y2hOdW1iZXI9e2luaXRpYWxCYXRjaE51bWJlcn1cclxuICAgICAgICAgICAgaW5pdGlhbEJhdGNoSWQ9e2luaXRpYWxCYXRjaElkfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9BcHBMYXlvdXQ+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWF0ZXJpYWxzRGlzcGxheSA9IGN1cnJlbnRCYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcz8uam9pbignICsgJykgfHwgJ1Vua25vd24nO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPEFwcExheW91dCB0aXRsZT1cIkJ1bmtlciBNYW5hZ2VtZW50XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidW5pZmllZC1wbGF0Zm9ybS1jb250YWluZXJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVudHJ5LWhlYWRlclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItbGVmdFwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUJhY2tUb1NlbGVjdGlvbn0gY2xhc3NOYW1lPVwiYmFjay1idXR0b25cIj5cclxuICAgICAgICAgICAgICA8QXJyb3dCYWNrSWNvbi8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8aDI+e2N1cnJlbnRCYXRjaC5iYXRjaE51bWJlcn08L2gyPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1jb3VudFwiPlxyXG4gICAgICAgICAgICAgICh7bWF0ZXJpYWxzRGlzcGxheX0pXHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItYWN0aW9uc1wiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmV9IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1zYXZlXCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz5cclxuICAgICAgICAgICAgICB7bG9hZGluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUnfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogU2luZ2xlIHRhYmxlIGZvciBhbGwgbWF0ZXJpYWxzICovfVxyXG4gICAgICAgIDxCdW5rZXJUYWJsZSBcclxuICAgICAgICAgIGJhdGNoPXtjdXJyZW50QmF0Y2h9XHJcbiAgICAgICAgICBvblVwZGF0ZT17aGFuZGxlVXBkYXRlQmF0Y2h9XHJcbiAgICAgICAgICByZWFkT25seT17ZmFsc2V9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L0FwcExheW91dD5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCdW5rZXJNYW5hZ2VtZW50KCkge1xyXG4gIHJldHVybiAoXHJcbiAgICA8VG9hc3RQcm92aWRlcj5cclxuICAgICAgPEJ1bmtlck1hbmFnZW1lbnRDb250ZW50IC8+XHJcbiAgICA8L1RvYXN0UHJvdmlkZXI+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VSb3V0ZXIiLCJ1c2VTZWFyY2hQYXJhbXMiLCJBcHBMYXlvdXQiLCJUb2FzdFByb3ZpZGVyIiwidXNlVG9hc3QiLCJTYXZlSWNvbiIsIkFycm93Rm9yd2FyZEljb24iLCJBcnJvd0JhY2tJY29uIiwiTUFURVJJQUxfVFlQRVMiLCJNQVRFUklBTF9ESVNQTEFZX05BTUVTIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJBUElfRU5EUE9JTlQiLCJBUElfRkVUQ0hfRU5EUE9JTlQiLCJCQVRDSF9GRVRDSF9FTkRQT0lOVCIsIlNUQUdFX05BTUVTIiwiY3JlYXRlRW1wdHlTdWJzdGFnZSIsIm5hbWUiLCJzdGFydERhdGUiLCJzdGFydFRpbWUiLCJlbmREYXRlIiwiZW5kVGltZSIsInRvdGFsSG91cnMiLCJtb2lzdHVyZSIsInRlbXBlcmF0dXJlIiwicmVtYXJrcyIsImNyZWF0ZUVtcHR5QmF0Y2giLCJiYXRjaE51bWJlciIsIm1hdGVyaWFscyIsImJhdGNoSWQiLCJtYXRlcmlhbFR5cGVzIiwibWFwIiwibSIsImZpbHRlciIsIkJvb2xlYW4iLCJtYXRlcmlhbERpc3BsYXlOYW1lcyIsInQiLCJiYXRjaCIsImlkIiwiRGF0ZSIsIm5vdyIsImJhdGNoRGF0YSIsImV4aXN0aW5nUmVjb3JkcyIsInN1YnN0YWdlcyIsInBhcnNlRGF0ZVRpbWUiLCJkYXRldGltZSIsImRhdGUiLCJ0aW1lIiwiaXNOYU4iLCJnZXRUaW1lIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJTdHJpbmciLCJnZXRNb250aCIsInBhZFN0YXJ0IiwiZGF5IiwiZ2V0RGF0ZSIsImhvdXJzIiwiZ2V0SG91cnMiLCJtaW51dGVzIiwiZ2V0TWludXRlcyIsImVycm9yIiwiY29uc29sZSIsImZldGNoQmF0Y2hEYXRhIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwic3RhdHVzIiwic3VjY2VzcyIsImRhdGEiLCJFcnJvciIsInJlc3BvbnNlRGF0YSIsImpzb24iLCJpdGVtcyIsIkFycmF5IiwiaXNBcnJheSIsIm1lc3NhZ2UiLCJmZXRjaEJhdGNoRGV0YWlscyIsImNvbWJpbmVEYXRlVGltZSIsImRhdGVUaW1lU3RyIiwidG9JU09TdHJpbmciLCJoYXNTdWJzdGFnZURhdGEiLCJzdWJzdGFnZSIsInZhbGlkYXRlU3RhZ2VTZXF1ZW5jaW5nIiwidG9hc3QiLCJpIiwibGVuZ3RoIiwiY3VycmVudFN0YWdlIiwibmV4dFN0YWdlIiwiY3VycmVudEVuZCIsIm5leHRTdGFydCIsImhhc0NvbXBsZXRlRGF0YSIsImhhc0FueURhdGEiLCJzb21lIiwiY29udmVydFRvQXBpUGF5bG9hZCIsIm1hdGVyaWFsVHlwZSIsImlzQ29tcGxldGVkIiwiYnVua2VyMSIsImJ1bmtlcjFSZXN0IiwiYnVua2VyMiIsImJ1bmtlcjJSZXN0IiwiYnVua2VyMyIsImJ1bmtlcjNSZXN0IiwiZm9ybWF0RGF0ZVRpbWUiLCJzZWNvbmRzIiwiZ2V0U2Vjb25kcyIsImJ1bmtlcjFfc3RhcnQiLCJidW5rZXIxX2VuZCIsImJ1bmtlcjFfcmVzdF9zdGFydCIsImJ1bmtlcjFfcmVzdF9lbmQiLCJidW5rZXIyX3N0YXJ0IiwiYnVua2VyMl9lbmQiLCJidW5rZXIyX3Jlc3Rfc3RhcnQiLCJidW5rZXIyX3Jlc3RfZW5kIiwiYnVua2VyM19zdGFydCIsImJ1bmtlcjNfZW5kIiwiYnVua2VyM19yZXN0X3N0YXJ0IiwiYnVua2VyM19yZXN0X2VuZCIsImFsbFN0YXJ0cyIsInN0YXJ0Iiwib3ZlcmFsbF9zdGFydF90aW1lIiwiTWF0aCIsIm1pbiIsImQiLCJwYXlsb2FkIiwiYmF0Y2hfaWQiLCJzdHJhd190eXBlIiwic3RhcnRfdGltZSIsImlzY29tcGxldGVkIiwiYnVua2VyX3Byb2Nlc3MxIiwiZW5kX3RpbWUiLCJwYXJzZUZsb2F0IiwiYnVua2VyX3Byb2Nlc3MxX3Jlc3QiLCJidW5rZXJfcHJvY2VzczIiLCJidW5rZXJfcHJvY2VzczJfcmVzdCIsImJ1bmtlcl9wcm9jZXNzMyIsImJ1bmtlcl9wcm9jZXNzM19yZXN0IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJzdWJLZXkiLCJ1bmRlZmluZWQiLCJjb252ZXJ0QXBpUmVzcG9uc2VUb1VJIiwiYXBpRGF0YSIsIm1hdGVyaWFsRGF0YU1hcCIsIml0ZW0iLCJzdWJzdGFnZU1hcHBpbmciLCJpbmRleCIsImZpZWxkIiwibWF0ZXJpYWxEYXRhIiwic3RhZ2VEYXRhIiwiZHVyYXRpb25faG91cnMiLCJ0b0ZpeGVkIiwidG9TdHJpbmciLCJzZW5kVG9BcGkiLCJkaXNwbGF5TmFtZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yRGF0YSIsImNhdGNoIiwiZGV0YWlsIiwiZXJyb3JNZXNzYWdlIiwiZXJyIiwibXNnIiwiam9pbiIsInJlc3VsdCIsIkJ1bmtlclRhYmxlIiwibWVtbyIsIm9uVXBkYXRlIiwicmVhZE9ubHkiLCJ2YWxpZGF0ZURhdGVSYW5nZSIsIm5ld1ZhbHVlIiwibmV3U3RhcnREYXRlVGltZSIsImVuZERhdGVUaW1lIiwic3RhcnREYXRlVGltZSIsIm5ld0VuZERhdGVUaW1lIiwiZ2V0TWluRW5kRGF0ZSIsImdldE1pbkVuZFRpbWUiLCJoYW5kbGVJbnB1dENoYW5nZSIsInZhbHVlIiwidXBkYXRlZEJhdGNoIiwiZGlmZkhvdXJzIiwiZ2V0TWF0ZXJpYWxzRGlzcGxheSIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwidGFibGUiLCJ0aGVhZCIsInRyIiwidGgiLCJyb3dTcGFuIiwiY29sU3BhbiIsInRib2R5IiwidGQiLCJpbnB1dCIsInR5cGUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJkaXNhYmxlZCIsIm1heCIsInBsYWNlaG9sZGVyIiwic3RlcCIsIkJhdGNoU2VsZWN0aW9uIiwib25TZWxlY3RCYXRjaCIsImxvYWRpbmciLCJpbml0aWFsQmF0Y2hOdW1iZXIiLCJpbml0aWFsQmF0Y2hJZCIsInNldEJhdGNoTnVtYmVyIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwicm91dGVyIiwic2VhcmNoUGFyYW1zIiwiaGFzTG9hZGVkUmVmIiwiY3VycmVudCIsImhhbmRsZUxvYWRCYXRjaCIsImdldE1hdGVyaWFsc0Zyb21CYXRjaCIsIlNldCIsImZvcm11bGF0aW9uX2VudHJpZXMiLCJlbnRyeSIsIm1hdGVyaWFsTmFtZSIsInRvVXBwZXJDYXNlIiwiYWRkIiwiZnJvbSIsImJhdGNoTnVtIiwidHJpbSIsInNlbGVjdGVkQmF0Y2giLCJiYXRjaElkVG9Vc2UiLCJiYXRjaFJlc3BvbnNlIiwiYmF0Y2hSZXN1bHQiLCJhbGxCYXRjaGVzUmVzcG9uc2UiLCJhbGxCYXRjaGVzUmVzdWx0IiwiYmF0Y2hlcyIsImZpbmQiLCJiIiwiYmF0Y2hfbnVtYmVyIiwibmV3QmF0Y2giLCJzdHJhd0RhdGFSZXN1bHQiLCJwb3B1bGF0ZWRCYXRjaCIsIndhcm5pbmciLCJoYW5kbGVDcmVhdGVOZXciLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJCdW5rZXJNYW5hZ2VtZW50Q29udGVudCIsImN1cnJlbnRCYXRjaCIsInNldEN1cnJlbnRCYXRjaCIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInNldEluaXRpYWxCYXRjaE51bWJlciIsInNldEluaXRpYWxCYXRjaElkIiwiaXNTYXZpbmdSZWYiLCJnZXQiLCJoYW5kbGVTZWxlY3RCYXRjaCIsImhhbmRsZVVwZGF0ZUJhdGNoIiwidmFsaWRhdGVCYXRjaERhdGEiLCJoYW5kbGVTYXZlIiwicmVzdWx0cyIsImhhc0FueURhdGFUb1NhdmUiLCJzdWNjZXNzQ291bnQiLCJmYWlsQ291bnQiLCJpbmZvIiwicHVzaCIsImFsbFN1Y2Nlc3MiLCJldmVyeSIsInIiLCJzZXRUaW1lb3V0IiwiaGFuZGxlQmFja1RvU2VsZWN0aW9uIiwidGl0bGUiLCJtYXRlcmlhbHNEaXNwbGF5Iiwic3BhbiIsImZvbnRTaXplIiwiQnVua2VyTWFuYWdlbWVudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(pages)/bunker-management/page.jsx\n"));

/***/ })

});