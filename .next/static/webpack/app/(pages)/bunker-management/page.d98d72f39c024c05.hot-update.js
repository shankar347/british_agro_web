"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(pages)/bunker-management/page",{

/***/ "(app-pages-browser)/./app/(pages)/bunker-management/page.jsx":
/*!************************************************!*\
  !*** ./app/(pages)/bunker-management/page.jsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BunkerManagement)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/AppLayout */ \"(app-pages-browser)/./app/components/AppLayout.jsx\");\n/* harmony import */ var _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/common/Toaster */ \"(app-pages-browser)/./app/components/common/Toaster.jsx\");\n/* harmony import */ var _styles_pages_unified_platform_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../styles/pages/unified-platform.css */ \"(app-pages-browser)/./app/styles/pages/unified-platform.css\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/Save */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/ArrowBack */ \"(app-pages-browser)/./node_modules/@mui/icons-material/esm/ArrowBack.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst MATERIAL_TYPES = {\n    'BAGASSE': 'BAGASSE',\n    'WHEAT STRAW': 'WHEAT',\n    'PADDY STRAW': 'PADDY'\n};\nconst MATERIAL_DISPLAY_NAMES = {\n    'BAGASSE': 'Bagasse',\n    'WHEAT': 'Wheat Straw',\n    'PADDY': 'Paddy Straw'\n};\nconst API_BASE_URL = \"http://192.168.1.148:8000\";\nconst API_ENDPOINT = \"\".concat(API_BASE_URL, \"/bunker-process-logs\");\nconst API_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/bunker-process-logs/batch\");\nconst BATCH_FETCH_ENDPOINT = \"\".concat(API_BASE_URL, \"/batches\");\nconst STAGE_NAMES = [\n    \"Bunker Process 1\",\n    \"Bunker Process 1 Rest\",\n    \"Bunker Process 2\",\n    \"Bunker Process 2 Rest\",\n    \"Bunker Process 3\",\n    \"Bunker Process 3 Rest\"\n];\nconst createEmptySubstage = (name)=>({\n        name: name,\n        startDate: '',\n        startTime: '',\n        endDate: '',\n        endTime: '',\n        totalHours: '',\n        moisture: '',\n        temperature: '',\n        remarks: ''\n    });\nconst createEmptyBatch = function(batchNumber) {\n    let materials = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], batchId = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n    const materialTypes = materials.map((m)=>MATERIAL_TYPES[m]).filter(Boolean);\n    const materialDisplayNames = materialTypes.map((t)=>MATERIAL_DISPLAY_NAMES[t]);\n    const batch = {\n        id: batchId || Date.now(),\n        batchNumber: batchNumber,\n        materialTypes: materialTypes,\n        materialDisplayNames: materialDisplayNames,\n        batchData: null,\n        existingRecords: {},\n        substages: STAGE_NAMES.map((name)=>createEmptySubstage(name))\n    };\n    return batch;\n};\nconst parseDateTime = (datetime)=>{\n    if (!datetime) return {\n        date: '',\n        time: ''\n    };\n    try {\n        const date = new Date(datetime);\n        if (isNaN(date.getTime())) return {\n            date: '',\n            time: ''\n        };\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        const hours = String(date.getHours()).padStart(2, '0');\n        const minutes = String(date.getMinutes()).padStart(2, '0');\n        return {\n            date: \"\".concat(year, \"-\").concat(month, \"-\").concat(day),\n            time: \"\".concat(hours, \":\").concat(minutes)\n        };\n    } catch (error) {\n        console.error('Error parsing datetime:', error);\n        return {\n            date: '',\n            time: ''\n        };\n    }\n};\nconst fetchBatchData = async (batchId)=>{\n    try {\n        const response = await fetch(\"\".concat(API_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            if (response.status === 404) {\n                return {\n                    success: true,\n                    data: []\n                };\n            }\n            throw new Error(\"Failed to fetch bunker data: \".concat(response.status));\n        }\n        const responseData = await response.json();\n        if (responseData.success && responseData.data) {\n            if (responseData.data.items && Array.isArray(responseData.data.items)) {\n                return {\n                    success: true,\n                    data: responseData.data.items\n                };\n            }\n            if (Array.isArray(responseData.data)) {\n                return {\n                    success: true,\n                    data: responseData.data\n                };\n            }\n        }\n        return {\n            success: true,\n            data: []\n        };\n    } catch (error) {\n        console.error(' Error fetching bunker data:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst fetchBatchDetails = async (batchId)=>{\n    try {\n        const response = await fetch(\"\".concat(BATCH_FETCH_ENDPOINT, \"/\").concat(batchId));\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch batch details: \".concat(response.status));\n        }\n        const data = await response.json();\n        return {\n            success: true,\n            data\n        };\n    } catch (error) {\n        console.error(' Error fetching batch details:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst combineDateTime = (date, time)=>{\n    if (!date || !time) return null;\n    try {\n        const dateTimeStr = \"\".concat(date, \"T\").concat(time, \":00\");\n        const datetime = new Date(dateTimeStr);\n        if (isNaN(datetime.getTime())) return null;\n        return datetime.toISOString();\n    } catch (error) {\n        console.error('Error combining datetime:', error);\n        return null;\n    }\n};\nconst hasSubstageData = (substage)=>{\n    return substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.moisture || substage.temperature || substage.remarks;\n};\nconst validateStageSequencing = (substages, toast)=>{\n    for(let i = 0; i < substages.length - 1; i++){\n        const currentStage = substages[i];\n        const nextStage = substages[i + 1];\n        if (!currentStage.endDate || !currentStage.endTime || !nextStage.startDate || !nextStage.startTime) {\n            continue;\n        }\n        const currentEnd = combineDateTime(currentStage.endDate, currentStage.endTime);\n        const nextStart = combineDateTime(nextStage.startDate, nextStage.startTime);\n        if (currentEnd && nextStart) {\n            if (new Date(currentEnd) > new Date(nextStart)) {\n                toast.error(\"\".concat(nextStage.name, \" must start after \").concat(currentStage.name, \" ends\"));\n                return false;\n            }\n        }\n    }\n    return true;\n};\nconst hasCompleteData = (substages)=>{\n    const hasAnyData = substages.some((substage)=>substage.startDate || substage.startTime || substage.endDate || substage.endTime || substage.moisture || substage.temperature || substage.remarks);\n    if (!hasAnyData) {\n        return false;\n    }\n    for (const substage of substages){\n        if (substage.startDate && !substage.startTime) {\n            return false;\n        }\n        if (substage.startTime && !substage.startDate) {\n            return false;\n        }\n        if (substage.endDate && !substage.endTime) {\n            return false;\n        }\n        if (substage.endTime && !substage.endDate) {\n            return false;\n        }\n    }\n    return true;\n};\nconst convertToApiPayload = (batch, materialType, isCompleted)=>{\n    const substages = batch.substages;\n    const bunker1 = substages[0] || createEmptySubstage(\"Bunker Process 1\");\n    const bunker1Rest = substages[1] || createEmptySubstage(\"Bunker Process 1 Rest\");\n    const bunker2 = substages[2] || createEmptySubstage(\"Bunker Process 2\");\n    const bunker2Rest = substages[3] || createEmptySubstage(\"Bunker Process 2 Rest\");\n    const bunker3 = substages[4] || createEmptySubstage(\"Bunker Process 3\");\n    const bunker3Rest = substages[5] || createEmptySubstage(\"Bunker Process 3 Rest\");\n    // Helper function to format datetime without milliseconds and timezone\n    const formatDateTime = (dateTimeStr)=>{\n        if (!dateTimeStr) return null;\n        try {\n            const date = new Date(dateTimeStr);\n            if (isNaN(date.getTime())) return null;\n            const year = date.getFullYear();\n            const month = String(date.getMonth() + 1).padStart(2, '0');\n            const day = String(date.getDate()).padStart(2, '0');\n            const hours = String(date.getHours()).padStart(2, '0');\n            const minutes = String(date.getMinutes()).padStart(2, '0');\n            const seconds = String(date.getSeconds()).padStart(2, '0');\n            return \"\".concat(year, \"-\").concat(month, \"-\").concat(day, \"T\").concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n        } catch (error) {\n            console.error('Error formatting datetime:', error);\n            return null;\n        }\n    };\n    // Only combine dates if both date and time exist\n    const bunker1_start = bunker1.startDate && bunker1.startTime ? combineDateTime(bunker1.startDate, bunker1.startTime) : null;\n    const bunker1_end = bunker1.endDate && bunker1.endTime ? combineDateTime(bunker1.endDate, bunker1.endTime) : null;\n    const bunker1_rest_start = bunker1Rest.startDate && bunker1Rest.startTime ? combineDateTime(bunker1Rest.startDate, bunker1Rest.startTime) : null;\n    const bunker1_rest_end = bunker1Rest.endDate && bunker1Rest.endTime ? combineDateTime(bunker1Rest.endDate, bunker1Rest.endTime) : null;\n    const bunker2_start = bunker2.startDate && bunker2.startTime ? combineDateTime(bunker2.startDate, bunker2.startTime) : null;\n    const bunker2_end = bunker2.endDate && bunker2.endTime ? combineDateTime(bunker2.endDate, bunker2.endTime) : null;\n    const bunker2_rest_start = bunker2Rest.startDate && bunker2Rest.startTime ? combineDateTime(bunker2Rest.startDate, bunker2Rest.startTime) : null;\n    const bunker2_rest_end = bunker2Rest.endDate && bunker2Rest.endTime ? combineDateTime(bunker2Rest.endDate, bunker2Rest.endTime) : null;\n    const bunker3_start = bunker3.startDate && bunker3.startTime ? combineDateTime(bunker3.startDate, bunker3.startTime) : null;\n    const bunker3_end = bunker3.endDate && bunker3.endTime ? combineDateTime(bunker3.endDate, bunker3.endTime) : null;\n    const bunker3_rest_start = bunker3Rest.startDate && bunker3Rest.startTime ? combineDateTime(bunker3Rest.startDate, bunker3Rest.startTime) : null;\n    const bunker3_rest_end = bunker3Rest.endDate && bunker3Rest.endTime ? combineDateTime(bunker3Rest.endDate, bunker3Rest.endTime) : null;\n    // Determine overall start_time (earliest start across all stages)\n    const allStarts = [\n        bunker1_start,\n        bunker1_rest_start,\n        bunker2_start,\n        bunker2_rest_start,\n        bunker3_start,\n        bunker3_rest_start\n    ].filter((start)=>start !== null);\n    const overall_start_time = allStarts.length > 0 ? formatDateTime(new Date(Math.min(...allStarts.map((d)=>new Date(d).getTime())))) : null;\n    // Format all datetime fields to match the expected format\n    const payload = {\n        batch_id: batch.id,\n        straw_type: materialType,\n        start_time: overall_start_time,\n        iscompleted: isCompleted,\n        bunker_process1: {\n            start_time: formatDateTime(bunker1_start),\n            end_time: formatDateTime(bunker1_end),\n            moisture: bunker1.moisture ? parseFloat(bunker1.moisture) : null,\n            temperature: bunker1.temperature ? parseFloat(bunker1.temperature) : null,\n            remarks: bunker1.remarks || null\n        },\n        bunker_process1_rest: {\n            start_time: formatDateTime(bunker1_rest_start),\n            end_time: formatDateTime(bunker1_rest_end),\n            moisture: bunker1Rest.moisture ? parseFloat(bunker1Rest.moisture) : null,\n            temperature: bunker1Rest.temperature ? parseFloat(bunker1Rest.temperature) : null,\n            remarks: bunker1Rest.remarks || null\n        },\n        bunker_process2: {\n            start_time: formatDateTime(bunker2_start),\n            end_time: formatDateTime(bunker2_end),\n            moisture: bunker2.moisture ? parseFloat(bunker2.moisture) : null,\n            temperature: bunker2.temperature ? parseFloat(bunker2.temperature) : null,\n            remarks: bunker2.remarks || null\n        },\n        bunker_process2_rest: {\n            start_time: formatDateTime(bunker2_rest_start),\n            end_time: formatDateTime(bunker2_rest_end),\n            moisture: bunker2Rest.moisture ? parseFloat(bunker2Rest.moisture) : null,\n            temperature: bunker2Rest.temperature ? parseFloat(bunker2Rest.temperature) : null,\n            remarks: bunker2Rest.remarks || null\n        },\n        bunker_process3: {\n            start_time: formatDateTime(bunker3_start),\n            end_time: formatDateTime(bunker3_end),\n            moisture: bunker3.moisture ? parseFloat(bunker3.moisture) : null,\n            temperature: bunker3.temperature ? parseFloat(bunker3.temperature) : null,\n            remarks: bunker3.remarks || null\n        },\n        bunker_process3_rest: {\n            start_time: formatDateTime(bunker3_rest_start),\n            end_time: formatDateTime(bunker3_rest_end),\n            moisture: bunker3Rest.moisture ? parseFloat(bunker3Rest.moisture) : null,\n            temperature: bunker3Rest.temperature ? parseFloat(bunker3Rest.temperature) : null,\n            remarks: bunker3Rest.remarks || null\n        }\n    };\n    // Remove null values but keep the structure\n    Object.keys(payload).forEach((key)=>{\n        if (payload[key] === null) {\n            delete payload[key];\n        } else if (typeof payload[key] === 'object' && payload[key] !== null && key !== 'batch_id' && key !== 'straw_type' && key !== 'iscompleted') {\n            // Remove null fields from nested objects\n            Object.keys(payload[key]).forEach((subKey)=>{\n                if (payload[key][subKey] === null || payload[key][subKey] === undefined) {\n                    delete payload[key][subKey];\n                }\n            });\n            // If nested object has no properties left, remove it\n            if (Object.keys(payload[key]).length === 0) {\n                delete payload[key];\n            }\n        }\n    });\n    console.log(\"\\uD83D\\uDCE6 Generated payload for \".concat(MATERIAL_DISPLAY_NAMES[materialType], \":\"), payload);\n    return payload;\n};\nconst convertApiResponseToUI = (apiData, batch)=>{\n    if (!apiData || !Array.isArray(apiData)) {\n        console.log('âŒ No valid API data array to convert:', apiData);\n        return batch;\n    }\n    console.log('ðŸ”„ Converting API data to UI. Found items:', apiData.length);\n    // Create a map to store data for each material type\n    const materialDataMap = {};\n    apiData.forEach((item)=>{\n        if (item.straw_type) {\n            materialDataMap[item.straw_type] = item;\n        }\n    });\n    console.log('ðŸ“Š Material data map:', Object.keys(materialDataMap));\n    // Since we have multiple materials but one table, we'll combine data from all materials\n    // For fields that exist in multiple materials, we'll use the first non-null value\n    const substageMapping = [\n        {\n            index: 0,\n            field: 'bunker_process1'\n        },\n        {\n            index: 1,\n            field: 'bunker_process1_rest'\n        },\n        {\n            index: 2,\n            field: 'bunker_process2'\n        },\n        {\n            index: 3,\n            field: 'bunker_process2_rest'\n        },\n        {\n            index: 4,\n            field: 'bunker_process3'\n        },\n        {\n            index: 5,\n            field: 'bunker_process3_rest'\n        }\n    ];\n    // For each substage, check all materials for data\n    substageMapping.forEach((param)=>{\n        let { index, field } = param;\n        // Try each material type in order\n        for (const materialType of batch.materialTypes){\n            const materialData = materialDataMap[materialType];\n            if (!materialData) continue;\n            const stageData = materialData[field];\n            if (stageData && batch.substages[index]) {\n                // Only populate if not already populated\n                if (!batch.substages[index].startDate && stageData.start_time) {\n                    const { date, time } = parseDateTime(stageData.start_time);\n                    batch.substages[index].startDate = date;\n                    batch.substages[index].startTime = time;\n                }\n                if (!batch.substages[index].endDate && stageData.end_time) {\n                    const { date, time } = parseDateTime(stageData.end_time);\n                    batch.substages[index].endDate = date;\n                    batch.substages[index].endTime = time;\n                }\n                if (!batch.substages[index].totalHours && stageData.duration_hours !== undefined && stageData.duration_hours !== null) {\n                    batch.substages[index].totalHours = stageData.duration_hours.toFixed(1);\n                }\n                if (!batch.substages[index].moisture && stageData.moisture !== undefined && stageData.moisture !== null) {\n                    batch.substages[index].moisture = stageData.moisture.toString();\n                }\n                if (!batch.substages[index].temperature && stageData.temperature !== undefined && stageData.temperature !== null) {\n                    batch.substages[index].temperature = stageData.temperature.toString();\n                }\n                if (!batch.substages[index].remarks && stageData.remarks) {\n                    batch.substages[index].remarks = stageData.remarks;\n                }\n            }\n        }\n    });\n    console.log('âœ… Finished converting API data to UI');\n    return batch;\n};\nconst sendToApi = async (payload, materialType, displayName)=>{\n    try {\n        const response = await fetch(API_ENDPOINT, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n        console.log(\"\\uD83D\\uDCE5 RESPONSE for \".concat(displayName, \": Status \").concat(response.status));\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    detail: 'Unknown error'\n                }));\n            console.error('âŒ API Error Response:', errorData);\n            let errorMessage = \"API error: \".concat(response.status);\n            if (errorData.detail) {\n                if (typeof errorData.detail === 'string') {\n                    errorMessage = errorData.detail;\n                } else if (Array.isArray(errorData.detail)) {\n                    errorMessage = errorData.detail.map((err)=>err.msg).join(', ');\n                } else if (typeof errorData.detail === 'object') {\n                    errorMessage = JSON.stringify(errorData.detail);\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        console.log(\"âœ… SUCCESS for \".concat(displayName, \":\"), result);\n        return {\n            success: true,\n            data: result,\n            materialType,\n            displayName\n        };\n    } catch (error) {\n        console.error(\"âŒ ERROR sending \".concat(displayName, \" data:\"), error);\n        return {\n            success: false,\n            error: error.message,\n            materialType,\n            displayName\n        };\n    }\n};\nconst BunkerTable = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(_s((param)=>{\n    let { batch, onUpdate, readOnly = false } = param;\n    _s();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const validateDateRange = (substage, field, newValue)=>{\n        if (field === 'startDate' || field === 'startTime') {\n            if (substage.endDate && substage.endTime) {\n                const newStartDateTime = field === 'startDate' ? combineDateTime(newValue, substage.startTime) : combineDateTime(substage.startDate, newValue);\n                const endDateTime = combineDateTime(substage.endDate, substage.endTime);\n                if (newStartDateTime && endDateTime && new Date(newStartDateTime) > new Date(endDateTime)) {\n                    toast.error(\"\".concat(substage.name, \": Start date/time cannot be after end date/time\"));\n                    return false;\n                }\n            }\n        } else if (field === 'endDate' || field === 'endTime') {\n            if (substage.startDate && substage.startTime) {\n                const startDateTime = combineDateTime(substage.startDate, substage.startTime);\n                const newEndDateTime = field === 'endDate' ? combineDateTime(newValue, substage.endTime) : combineDateTime(substage.endDate, newValue);\n                if (startDateTime && newEndDateTime && new Date(startDateTime) > new Date(newEndDateTime)) {\n                    toast.error(\"\".concat(substage.name, \": End date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const getMinEndDate = (substage)=>{\n        if (substage.startDate) {\n            return substage.startDate;\n        }\n        return undefined;\n    };\n    const getMinEndTime = (substage)=>{\n        if (substage.startDate === substage.endDate && substage.startTime) {\n            return substage.startTime;\n        }\n        return undefined;\n    };\n    const handleInputChange = (index, field, value)=>{\n        if (readOnly) return;\n        const updatedBatch = {\n            ...batch\n        };\n        const substage = updatedBatch.substages[index];\n        if (field === 'startDate' || field === 'startTime' || field === 'endDate' || field === 'endTime') {\n            if (!validateDateRange(substage, field, value)) {\n                return;\n            }\n        }\n        substage[field] = value;\n        if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n            const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n            const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n            const diffHours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n            substage.totalHours = diffHours.toFixed(1);\n        }\n        onUpdate(updatedBatch);\n    };\n    // Get the display string for materials\n    const getMaterialsDisplay = ()=>{\n        if (batch.materialDisplayNames && batch.materialDisplayNames.length > 0) {\n            return batch.materialDisplayNames.join(' + ');\n        }\n        return 'Bunker Process';\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"table-section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"table-title\",\n                children: [\n                    \"Bunker Process - \",\n                    getMaterialsDisplay()\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 562,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"entry-table-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                    className: \"entry-table unified-platform-table\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Substage\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 567,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"Start\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 568,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            colSpan: \"2\",\n                                            children: \"End\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 569,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Total Hours\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 570,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Moisture (%)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 571,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Temperature (\\xb0C)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 572,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            rowSpan: \"2\",\n                                            children: \"Remarks\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 573,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 566,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 576,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 577,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Date\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 578,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 579,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 575,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 565,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                            children: batch.substages.map((substage, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"substage-name\",\n                                            children: substage.name\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 585,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: substage.startDate || '',\n                                                onChange: (e)=>handleInputChange(index, 'startDate', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: substage.endDate || undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 587,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 586,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: substage.startTime || '',\n                                                onChange: (e)=>handleInputChange(index, 'startTime', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                max: substage.startDate === substage.endDate ? substage.endTime : undefined\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 597,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 596,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: substage.endDate || '',\n                                                onChange: (e)=>handleInputChange(index, 'endDate', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndDate(substage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 607,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 606,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: substage.endTime || '',\n                                                onChange: (e)=>handleInputChange(index, 'endTime', e.target.value),\n                                                className: \"table-input\",\n                                                disabled: readOnly,\n                                                min: getMinEndTime(substage)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 617,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 616,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: substage.totalHours || '',\n                                                readOnly: true,\n                                                className: \"table-input hours-input\",\n                                                placeholder: \"Auto\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 627,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 626,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                value: substage.moisture || '',\n                                                onChange: (e)=>handleInputChange(index, 'moisture', e.target.value),\n                                                className: \"table-input moisture-input\",\n                                                placeholder: \"%\",\n                                                min: \"0\",\n                                                max: \"100\",\n                                                step: \"0.1\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 636,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 635,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                value: substage.temperature || '',\n                                                onChange: (e)=>handleInputChange(index, 'temperature', e.target.value),\n                                                className: \"table-input temperature-input\",\n                                                placeholder: \"\\xb0C\",\n                                                min: \"0\",\n                                                max: \"100\",\n                                                step: \"0.1\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 649,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 648,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: substage.remarks || '',\n                                                onChange: (e)=>handleInputChange(index, 'remarks', e.target.value),\n                                                className: \"table-input remarks-input\",\n                                                placeholder: \"Add remarks...\",\n                                                disabled: readOnly\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                                lineNumber: 662,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                            lineNumber: 661,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 584,\n                                    columnNumber: 15\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 582,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 564,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 563,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 561,\n        columnNumber: 5\n    }, undefined);\n}, \"WUU7e0p6AiTpvVrXhi50JBdcu+0=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast\n    ];\n}));\n_c = BunkerTable;\nBunkerTable.displayName = 'BunkerTable';\nfunction BatchSelection(param) {\n    let { onSelectBatch, loading, error, initialBatchNumber, initialBatchId } = param;\n    _s1();\n    const [batchNumber, setBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBatchNumber || '');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const hasLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Auto-load batch if initialBatchNumber is provided\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BatchSelection.useEffect\": ()=>{\n            if (initialBatchNumber && !hasLoadedRef.current && !loading) {\n                setBatchNumber(initialBatchNumber);\n                handleLoadBatch(initialBatchNumber, initialBatchId);\n                hasLoadedRef.current = true;\n            }\n        }\n    }[\"BatchSelection.useEffect\"], [\n        initialBatchNumber,\n        initialBatchId,\n        loading\n    ]);\n    const getMaterialsFromBatch = (batchData)=>{\n        const materials = new Set();\n        if (batchData && batchData.formulation_entries) {\n            batchData.formulation_entries.forEach((entry)=>{\n                const materialName = entry.name.toUpperCase();\n                if (MATERIAL_TYPES[materialName] !== undefined) {\n                    materials.add(materialName);\n                    console.log(\"\\uD83D\\uDCCC Found material: \".concat(materialName, \" -> \").concat(MATERIAL_TYPES[materialName]));\n                }\n            });\n        }\n        return Array.from(materials);\n    };\n    const handleLoadBatch = async (batchNum, batchId)=>{\n        if (!batchNum.trim()) {\n            toast.error('Please enter a batch number');\n            return;\n        }\n        setIsLoading(true);\n        try {\n            console.log(\"\\uD83D\\uDD0D Fetching batch details for: \".concat(batchNum, \" with ID: \").concat(batchId || 'unknown'));\n            let selectedBatch = null;\n            let batchIdToUse = batchId;\n            // If batchId is provided, we can use it directly\n            if (batchIdToUse) {\n                // Try to fetch batch details using ID\n                const batchResponse = await fetch(\"\".concat(BATCH_FETCH_ENDPOINT, \"/\").concat(batchIdToUse));\n                if (batchResponse.ok) {\n                    const batchResult = await batchResponse.json();\n                    selectedBatch = batchResult.data || batchResult;\n                } else {\n                    // Fallback to fetching all batches\n                    const allBatchesResponse = await fetch(BATCH_FETCH_ENDPOINT);\n                    if (allBatchesResponse.ok) {\n                        const allBatchesResult = await allBatchesResponse.json();\n                        let batches = [];\n                        if (Array.isArray(allBatchesResult)) {\n                            batches = allBatchesResult;\n                        } else if (allBatchesResult.success) {\n                            batches = allBatchesResult.data;\n                        }\n                        selectedBatch = batches.find((b)=>b.id === batchIdToUse);\n                    }\n                }\n            } else {\n                // No batchId provided, fetch by batch number\n                const batchResponse = await fetch(BATCH_FETCH_ENDPOINT);\n                if (!batchResponse.ok) {\n                    throw new Error('Failed to fetch batches');\n                }\n                const batchResult = await batchResponse.json();\n                let batches = [];\n                if (Array.isArray(batchResult)) {\n                    batches = batchResult;\n                } else if (batchResult.success) {\n                    batches = batchResult.data;\n                }\n                selectedBatch = batches.find((b)=>b.batch_number === batchNum.trim());\n            }\n            if (!selectedBatch) {\n                toast.error('Batch number not found');\n                setIsLoading(false);\n                return;\n            }\n            console.log('âœ… Found batch:', selectedBatch);\n            const materials = getMaterialsFromBatch(selectedBatch);\n            if (materials.length === 0) {\n                toast.error('No suitable materials (Bagasse, Wheat Straw, or Paddy Straw) found in this batch');\n                setIsLoading(false);\n                return;\n            }\n            console.log(\"\\uD83D\\uDCCB Materials to process:\", materials);\n            const newBatch = createEmptyBatch(batchNum, materials, selectedBatch.id);\n            newBatch.batchData = selectedBatch;\n            console.log('ðŸ“Š Fetching bunker data for batch ID:', selectedBatch.id);\n            const strawDataResult = await fetchBatchData(selectedBatch.id);\n            if (strawDataResult.success && strawDataResult.data && strawDataResult.data.length > 0) {\n                console.log('ðŸ“¦ Raw API data:', strawDataResult.data);\n                const populatedBatch = convertApiResponseToUI(strawDataResult.data, newBatch);\n                console.log('âœ… Populated batch:', populatedBatch);\n                onSelectBatch(populatedBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" with existing data (\").concat(materials.length, \" material\").concat(materials.length > 1 ? 's' : '', \")\"));\n            } else if (strawDataResult.success) {\n                onSelectBatch(newBatch);\n                toast.success(\"Loaded batch \".concat(batchNum, \" (\").concat(materials.length, \" material\").concat(materials.length > 1 ? 's' : '', \" - no existing data)\"));\n            } else {\n                toast.warning(\"Loaded batch \".concat(batchNum, \" but failed to fetch existing data\"));\n                onSelectBatch(newBatch);\n            }\n        } catch (err) {\n            console.error('âŒ Error loading batch:', err);\n            toast.error('Error loading batch details. Please try again.');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleCreateNew = ()=>{\n        if (isLoading || loading) return;\n        handleLoadBatch(batchNumber);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"batch-selection\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Bunker Management Process Entry\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 824,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 827,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"selection-panel\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"new-batch-section\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Enter Batch Number\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 834,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"batch-input-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    placeholder: \"Enter Batch Number (e.g., BATCH-001)\",\n                                    value: batchNumber,\n                                    onChange: (e)=>setBatchNumber(e.target.value),\n                                    className: \"batch-input\",\n                                    disabled: isLoading || loading\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 836,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCreateNew,\n                                    className: \"btn-primary\",\n                                    disabled: isLoading || loading,\n                                    children: isLoading || loading ? 'Loading...' : 'Load Batch'\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 844,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 835,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 833,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 832,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 823,\n        columnNumber: 5\n    }, this);\n}\n_s1(BatchSelection, \"bSsv6SxcH5WNCl5iqtC1T5kE3FA=\", false, function() {\n    return [\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c1 = BatchSelection;\nfunction BunkerManagementContent() {\n    var _currentBatch_materialDisplayNames;\n    _s2();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const toast = (0,_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [currentBatch, setCurrentBatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchNumber, setInitialBatchNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialBatchId, setInitialBatchId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isSavingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Get batch number and ID from URL params\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BunkerManagementContent.useEffect\": ()=>{\n            const batchNum = searchParams.get('batch');\n            const batchId = searchParams.get('batchId');\n            if (batchNum) {\n                setInitialBatchNumber(batchNum);\n                setInitialBatchId(batchId);\n            }\n        }\n    }[\"BunkerManagementContent.useEffect\"], [\n        searchParams\n    ]);\n    const handleSelectBatch = (batch)=>{\n        console.log('âœ… Setting current batch:', batch);\n        setCurrentBatch(batch);\n    };\n    const handleUpdateBatch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"BunkerManagementContent.useCallback[handleUpdateBatch]\": (updatedBatch)=>{\n            setCurrentBatch(updatedBatch);\n        }\n    }[\"BunkerManagementContent.useCallback[handleUpdateBatch]\"], []);\n    const validateBatchData = (batch)=>{\n        // Validate stage sequencing\n        if (!validateStageSequencing(batch.substages, toast)) {\n            return false;\n        }\n        // Validate each substage\n        for (const substage of batch.substages){\n            if (substage.startDate && substage.startTime && substage.endDate && substage.endTime) {\n                const startDateTime = new Date(\"\".concat(substage.startDate, \"T\").concat(substage.startTime));\n                const endDateTime = new Date(\"\".concat(substage.endDate, \"T\").concat(substage.endTime));\n                if (startDateTime > endDateTime) {\n                    toast.error(\"\".concat(substage.name, \": End date/time cannot be before start date/time\"));\n                    return false;\n                }\n            }\n            if ((substage.startDate || substage.startTime) && (!substage.startDate || !substage.startTime)) {\n                toast.error(\"Please complete both date and time for \".concat(substage.name, \" start\"));\n                return false;\n            }\n            if ((substage.endDate || substage.endTime) && (!substage.endDate || !substage.endTime)) {\n                toast.error(\"Please complete both date and time for \".concat(substage.name, \" end\"));\n                return false;\n            }\n        }\n        return true;\n    };\n    const handleSave = async ()=>{\n        var _currentBatch_materialDisplayNames;\n        if (!currentBatch || isSavingRef.current) return;\n        console.log('\\n========== ðŸš€ SAVE STARTED ==========');\n        console.log(\"Batch: \".concat(currentBatch.batchNumber, \" (ID: \").concat(currentBatch.id, \")\"));\n        console.log(\"Materials: \".concat(((_currentBatch_materialDisplayNames = currentBatch.materialDisplayNames) === null || _currentBatch_materialDisplayNames === void 0 ? void 0 : _currentBatch_materialDisplayNames.join(', ')) || 'Unknown'));\n        isSavingRef.current = true;\n        setLoading(true);\n        try {\n            const results = [];\n            let hasAnyDataToSave = false;\n            let successCount = 0;\n            let failCount = 0;\n            // Check if we have data to save\n            if (!hasCompleteData(currentBatch.substages)) {\n                toast.info('No complete data to save. Please fill in all required fields.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            // Validate batch data before saving\n            if (!validateBatchData(currentBatch)) {\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            // Save for each material type in the batch\n            for (const materialType of currentBatch.materialTypes){\n                const displayName = MATERIAL_DISPLAY_NAMES[materialType];\n                console.log(\"\\n--- \\uD83D\\uDCDD Processing material: \".concat(displayName, \" ---\"));\n                const payload = convertToApiPayload(currentBatch, materialType, false);\n                if (payload) {\n                    hasAnyDataToSave = true;\n                    console.log(\"\\uD83D\\uDCE4 Making API call for \".concat(displayName));\n                    const result = await sendToApi(payload, materialType, displayName);\n                    results.push(result);\n                    if (result.success) {\n                        successCount++;\n                        toast.success(\"\".concat(displayName, \" data saved successfully!\"));\n                    } else {\n                        failCount++;\n                        toast.error(\"Failed to save \".concat(displayName, \" data: \").concat(result.error));\n                    }\n                }\n            }\n            console.log('\\n========== ðŸ“Š SAVE SUMMARY ==========');\n            console.log(\"Total API calls attempted: \".concat(results.length));\n            console.log(\"âœ… Successful: \".concat(successCount));\n            console.log(\"âŒ Failed: \".concat(failCount));\n            console.log('=====================================\\n');\n            if (!hasAnyDataToSave) {\n                toast.info('No data to save.');\n                setLoading(false);\n                isSavingRef.current = false;\n                return;\n            }\n            const allSuccess = results.every((r)=>r.success);\n            if (allSuccess) {\n                toast.success(\"All \".concat(successCount, \" material data saved successfully!\"));\n            } else {\n                toast.warning(\"\".concat(successCount, \" material(s) saved successfully, \").concat(failCount, \" failed\"));\n            }\n        } catch (error) {\n            toast.error('Failed to save batch data');\n            console.error('âŒ Save error:', error);\n        } finally{\n            setLoading(false);\n            setTimeout(()=>{\n                isSavingRef.current = false;\n            }, 1000);\n        }\n    };\n    const handleBackToSelection = ()=>{\n        // Clear the current batch to show the selection UI\n        setCurrentBatch(null);\n        // Clear URL params when going back\n        router.push('/bunker-management');\n        // Clear any saved state\n        setError(null);\n        // Reset the initial batch number state if needed\n        setInitialBatchNumber(null);\n        setInitialBatchId(null);\n    };\n    if (!currentBatch) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            title: \"Bunker Management\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"unified-platform-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BatchSelection, {\n                    onSelectBatch: handleSelectBatch,\n                    loading: loading,\n                    error: error,\n                    initialBatchNumber: initialBatchNumber,\n                    initialBatchId: initialBatchId\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1020,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                lineNumber: 1019,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1018,\n            columnNumber: 7\n        }, this);\n    }\n    const materialsDisplay = ((_currentBatch_materialDisplayNames = currentBatch.materialDisplayNames) === null || _currentBatch_materialDisplayNames === void 0 ? void 0 : _currentBatch_materialDisplayNames.join(' + ')) || 'Unknown';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Bunker Management\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"unified-platform-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"entry-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-left\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleBackToSelection,\n                                    className: \"back-button\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                        lineNumber: 1040,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1039,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: currentBatch.batchNumber\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1042,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-count\",\n                                    children: [\n                                        \"(\",\n                                        materialsDisplay,\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                    lineNumber: 1043,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 1038,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-actions\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSave,\n                                className: \"btn-save\",\n                                disabled: loading,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        fontSize: \"small\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                        lineNumber: 1053,\n                                        columnNumber: 15\n                                    }, this),\n                                    loading ? 'Saving...' : 'Save'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                                lineNumber: 1048,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                            lineNumber: 1047,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1037,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BunkerTable, {\n                    batch: currentBatch,\n                    onUpdate: handleUpdateBatch,\n                    readOnly: false\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n                    lineNumber: 1060,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1036,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 1035,\n        columnNumber: 5\n    }, this);\n}\n_s2(BunkerManagementContent, \"fN98z1Elz4TM8uKmJFaagiXk7ig=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = BunkerManagementContent;\nfunction BunkerManagement() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_common_Toaster__WEBPACK_IMPORTED_MODULE_4__.ToastProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BunkerManagementContent, {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n            lineNumber: 1073,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Admin\\\\Downloads\\\\britishagro-admin-panel\\\\britishagro\\\\app\\\\(pages)\\\\bunker-management\\\\page.jsx\",\n        lineNumber: 1072,\n        columnNumber: 5\n    }, this);\n}\n_c3 = BunkerManagement;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"BunkerTable\");\n$RefreshReg$(_c1, \"BatchSelection\");\n$RefreshReg$(_c2, \"BunkerManagementContent\");\n$RefreshReg$(_c3, \"BunkerManagement\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocGFnZXMpL2J1bmtlci1tYW5hZ2VtZW50L3BhZ2UuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUN3RTtBQUNYO0FBQ1Y7QUFDdUI7QUFDekI7QUFFRDtBQUNnQjtBQUNOO0FBRTFELE1BQU1hLGlCQUFpQjtJQUNyQixXQUFXO0lBQ1gsZUFBZTtJQUNmLGVBQWU7QUFDakI7QUFFQSxNQUFNQyx5QkFBeUI7SUFDN0IsV0FBVztJQUNYLFNBQVM7SUFDVCxTQUFTO0FBQ1g7QUFFQSxNQUFNQyxlQUFlQywyQkFBK0I7QUFDcEQsTUFBTUcsZUFBZSxHQUFnQixPQUFiSixjQUFhO0FBQ3JDLE1BQU1LLHFCQUFxQixHQUFnQixPQUFiTCxjQUFhO0FBQzNDLE1BQU1NLHVCQUF1QixHQUFnQixPQUFiTixjQUFhO0FBRTdDLE1BQU1PLGNBQWM7SUFDbEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxNQUFNQyxzQkFBc0IsQ0FBQ0MsT0FBVTtRQUNyQ0EsTUFBTUE7UUFDTkMsV0FBVztRQUNYQyxXQUFXO1FBQ1hDLFNBQVM7UUFDVEMsU0FBUztRQUNUQyxZQUFZO1FBQ1pDLFVBQVU7UUFDVkMsYUFBYTtRQUNiQyxTQUFTO0lBQ1g7QUFFQSxNQUFNQyxtQkFBbUIsU0FBQ0M7UUFBYUMsNkVBQVksRUFBRSxFQUFFQywyRUFBVTtJQUMvRCxNQUFNQyxnQkFBZ0JGLFVBQVVHLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBSzFCLGNBQWMsQ0FBQzBCLEVBQUUsRUFBRUMsTUFBTSxDQUFDQztJQUNuRSxNQUFNQyx1QkFBdUJMLGNBQWNDLEdBQUcsQ0FBQ0ssQ0FBQUEsSUFBSzdCLHNCQUFzQixDQUFDNkIsRUFBRTtJQUU3RSxNQUFNQyxRQUFRO1FBQ1pDLElBQUlULFdBQVdVLEtBQUtDLEdBQUc7UUFDdkJiLGFBQWFBO1FBQ2JHLGVBQWVBO1FBQ2ZLLHNCQUFzQkE7UUFDdEJNLFdBQVc7UUFDWEMsaUJBQWlCLENB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RTNFLHFCQUNFLDhEQUFDMUssNkRBQVNBO1FBQUNrUixPQUFNO2tCQUNmLDRFQUFDckY7WUFBSUMsV0FBVTs7OEJBQ2IsOERBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDMEQ7b0NBQU9DLFNBQVN3QjtvQ0FBdUJuRixXQUFVOzhDQUNoRCw0RUFBQ3pMLHFFQUFhQTs7Ozs7Ozs7Ozs4Q0FFaEIsOERBQUNrUDs4Q0FBSUksYUFBYWhPLFdBQVc7Ozs7Ozs4Q0FDN0IsOERBQUN5UDtvQ0FBS3RGLFdBQVU7O3dDQUFpQjt3Q0FDN0JxRjt3Q0FBaUI7Ozs7Ozs7Ozs7Ozs7c0NBR3ZCLDhEQUFDdEY7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUMwRDtnQ0FDQ0MsU0FBU2E7Z0NBQ1R4RSxXQUFVO2dDQUNWZSxVQUFVTTs7a0RBRVYsOERBQUNoTixnRUFBUUE7d0NBQUNrUixVQUFTOzs7Ozs7b0NBQ2xCbEUsVUFBVSxjQUFjOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBTS9CLDhEQUFDdkM7b0JBQ0N2SSxPQUFPc047b0JBQ1A3RSxVQUFVc0Y7b0JBQ1ZyRixVQUFVOzs7Ozs7Ozs7Ozs7Ozs7OztBQUtwQjtJQWxOUzJFOztRQUNRNVAsc0RBQVNBO1FBQ1ZJLGdFQUFRQTtRQUNESCw0REFBZUE7OztNQUg3QjJQO0FBb05NLFNBQVM0QjtJQUN0QixxQkFDRSw4REFBQ3JSLHFFQUFhQTtrQkFDWiw0RUFBQ3lQOzs7Ozs7Ozs7O0FBR1A7TUFOd0I0QiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxBZG1pblxcRG93bmxvYWRzXFxicml0aXNoYWdyby1hZG1pbi1wYW5lbFxcYnJpdGlzaGFncm9cXGFwcFxcKHBhZ2VzKVxcYnVua2VyLW1hbmFnZW1lbnRcXHBhZ2UuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcclxuaW1wb3J0IEFwcExheW91dCBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9BcHBMYXlvdXRcIjtcclxuaW1wb3J0IHsgVG9hc3RQcm92aWRlciwgdXNlVG9hc3QgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9jb21tb24vVG9hc3RlclwiO1xyXG5pbXBvcnQgXCIuLi8uLi9zdHlsZXMvcGFnZXMvdW5pZmllZC1wbGF0Zm9ybS5jc3NcIjtcclxuXHJcbmltcG9ydCBTYXZlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1NhdmUnO1xyXG5pbXBvcnQgQXJyb3dGb3J3YXJkSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Fycm93Rm9yd2FyZCc7XHJcbmltcG9ydCBBcnJvd0JhY2tJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQXJyb3dCYWNrJztcclxuXHJcbmNvbnN0IE1BVEVSSUFMX1RZUEVTID0ge1xyXG4gICdCQUdBU1NFJzogJ0JBR0FTU0UnLFxyXG4gICdXSEVBVCBTVFJBVyc6ICdXSEVBVCcsXHJcbiAgJ1BBRERZIFNUUkFXJzogJ1BBRERZJ1xyXG59O1xyXG5cclxuY29uc3QgTUFURVJJQUxfRElTUExBWV9OQU1FUyA9IHtcclxuICAnQkFHQVNTRSc6ICdCYWdhc3NlJyxcclxuICAnV0hFQVQnOiAnV2hlYXQgU3RyYXcnLFxyXG4gICdQQUREWSc6ICdQYWRkeSBTdHJhdydcclxufTtcclxuXHJcbmNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkw7XHJcbmNvbnN0IEFQSV9FTkRQT0lOVCA9IGAke0FQSV9CQVNFX1VSTH0vYnVua2VyLXByb2Nlc3MtbG9nc2A7XHJcbmNvbnN0IEFQSV9GRVRDSF9FTkRQT0lOVCA9IGAke0FQSV9CQVNFX1VSTH0vYnVua2VyLXByb2Nlc3MtbG9ncy9iYXRjaGA7XHJcbmNvbnN0IEJBVENIX0ZFVENIX0VORFBPSU5UID0gYCR7QVBJX0JBU0VfVVJMfS9iYXRjaGVzYDtcclxuXHJcbmNvbnN0IFNUQUdFX05BTUVTID0gW1xyXG4gIFwiQnVua2VyIFByb2Nlc3MgMVwiLFxyXG4gIFwiQnVua2VyIFByb2Nlc3MgMSBSZXN0XCIsIFxyXG4gIFwiQnVua2VyIFByb2Nlc3MgMlwiLFxyXG4gIFwiQnVua2VyIFByb2Nlc3MgMiBSZXN0XCIsXHJcbiAgXCJCdW5rZXIgUHJvY2VzcyAzXCIsXHJcbiAgXCJCdW5rZXIgUHJvY2VzcyAzIFJlc3RcIlxyXG5dO1xyXG5cclxuY29uc3QgY3JlYXRlRW1wdHlTdWJzdGFnZSA9IChuYW1lKSA9PiAoe1xyXG4gIG5hbWU6IG5hbWUsXHJcbiAgc3RhcnREYXRlOiAnJyxcclxuICBzdGFydFRpbWU6ICcnLFxyXG4gIGVuZERhdGU6ICcnLFxyXG4gIGVuZFRpbWU6ICcnLFxyXG4gIHRvdGFsSG91cnM6ICcnLFxyXG4gIG1vaXN0dXJlOiAnJyxcclxuICB0ZW1wZXJhdHVyZTogJycsXHJcbiAgcmVtYXJrczogJydcclxufSk7XHJcblxyXG5jb25zdCBjcmVhdGVFbXB0eUJhdGNoID0gKGJhdGNoTnVtYmVyLCBtYXRlcmlhbHMgPSBbXSwgYmF0Y2hJZCA9IG51bGwpID0+IHtcclxuICBjb25zdCBtYXRlcmlhbFR5cGVzID0gbWF0ZXJpYWxzLm1hcChtID0+IE1BVEVSSUFMX1RZUEVTW21dKS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgY29uc3QgbWF0ZXJpYWxEaXNwbGF5TmFtZXMgPSBtYXRlcmlhbFR5cGVzLm1hcCh0ID0+IE1BVEVSSUFMX0RJU1BMQVlfTkFNRVNbdF0pO1xyXG4gIFxyXG4gIGNvbnN0IGJhdGNoID0ge1xyXG4gICAgaWQ6IGJhdGNoSWQgfHwgRGF0ZS5ub3coKSxcclxuICAgIGJhdGNoTnVtYmVyOiBiYXRjaE51bWJlcixcclxuICAgIG1hdGVyaWFsVHlwZXM6IG1hdGVyaWFsVHlwZXMsIFxyXG4gICAgbWF0ZXJpYWxEaXNwbGF5TmFtZXM6IG1hdGVyaWFsRGlzcGxheU5hbWVzLCBcclxuICAgIGJhdGNoRGF0YTogbnVsbCxcclxuICAgIGV4aXN0aW5nUmVjb3Jkczoge30sXHJcbiAgICBzdWJzdGFnZXM6IFNUQUdFX05BTUVTLm1hcChuYW1lID0+IGNyZWF0ZUVtcHR5U3Vic3RhZ2UobmFtZSkpXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGJhdGNoO1xyXG59O1xyXG5cclxuY29uc3QgcGFyc2VEYXRlVGltZSA9IChkYXRldGltZSkgPT4ge1xyXG4gIGlmICghZGF0ZXRpbWUpIHJldHVybiB7IGRhdGU6ICcnLCB0aW1lOiAnJyB9O1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZXRpbWUpO1xyXG4gICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuIHsgZGF0ZTogJycsIHRpbWU6ICcnIH07XHJcbiAgICBcclxuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgaG91cnMgPSBTdHJpbmcoZGF0ZS5nZXRIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0ZTogYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YCxcclxuICAgICAgdGltZTogYCR7aG91cnN9OiR7bWludXRlc31gXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIGRhdGV0aW1lOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGU6ICcnLCB0aW1lOiAnJyB9O1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGZldGNoQmF0Y2hEYXRhID0gYXN5bmMgKGJhdGNoSWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfRkVUQ0hfRU5EUE9JTlR9LyR7YmF0Y2hJZH1gKTtcclxuICAgIFxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9O1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGJ1bmtlciBkYXRhOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgXHJcbiAgICBpZiAocmVzcG9uc2VEYXRhLnN1Y2Nlc3MgJiYgcmVzcG9uc2VEYXRhLmRhdGEpIHtcclxuICAgICAgaWYgKHJlc3BvbnNlRGF0YS5kYXRhLml0ZW1zICYmIEFycmF5LmlzQXJyYXkocmVzcG9uc2VEYXRhLmRhdGEuaXRlbXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzcG9uc2VEYXRhLmRhdGEuaXRlbXMgfTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNwb25zZURhdGEuZGF0YSkpIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXNwb25zZURhdGEuZGF0YSB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJyBFcnJvciBmZXRjaGluZyBidW5rZXIgZGF0YTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBmZXRjaEJhdGNoRGV0YWlscyA9IGFzeW5jIChiYXRjaElkKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFUQ0hfRkVUQ0hfRU5EUE9JTlR9LyR7YmF0Y2hJZH1gKTtcclxuICAgIFxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBiYXRjaCBkZXRhaWxzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignIEVycm9yIGZldGNoaW5nIGJhdGNoIGRldGFpbHM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY29tYmluZURhdGVUaW1lID0gKGRhdGUsIHRpbWUpID0+IHtcclxuICBpZiAoIWRhdGUgfHwgIXRpbWUpIHJldHVybiBudWxsO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRlVGltZVN0ciA9IGAke2RhdGV9VCR7dGltZX06MDBgO1xyXG4gICAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZShkYXRlVGltZVN0cik7XHJcbiAgICBcclxuICAgIGlmIChpc05hTihkYXRldGltZS5nZXRUaW1lKCkpKSByZXR1cm4gbnVsbDtcclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGV0aW1lLnRvSVNPU3RyaW5nKCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbWJpbmluZyBkYXRldGltZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNTdWJzdGFnZURhdGEgPSAoc3Vic3RhZ2UpID0+IHtcclxuICByZXR1cm4gc3Vic3RhZ2Uuc3RhcnREYXRlIHx8IHN1YnN0YWdlLnN0YXJ0VGltZSB8fCBzdWJzdGFnZS5lbmREYXRlIHx8IHN1YnN0YWdlLmVuZFRpbWUgfHwgXHJcbiAgICAgICAgIHN1YnN0YWdlLm1vaXN0dXJlIHx8IHN1YnN0YWdlLnRlbXBlcmF0dXJlIHx8IHN1YnN0YWdlLnJlbWFya3M7XHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0ZVN0YWdlU2VxdWVuY2luZyA9IChzdWJzdGFnZXMsIHRvYXN0KSA9PiB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzdGFnZXMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICBjb25zdCBjdXJyZW50U3RhZ2UgPSBzdWJzdGFnZXNbaV07XHJcbiAgICBjb25zdCBuZXh0U3RhZ2UgPSBzdWJzdGFnZXNbaSArIDFdO1xyXG4gICAgXHJcbiAgICBpZiAoIWN1cnJlbnRTdGFnZS5lbmREYXRlIHx8ICFjdXJyZW50U3RhZ2UuZW5kVGltZSB8fCAhbmV4dFN0YWdlLnN0YXJ0RGF0ZSB8fCAhbmV4dFN0YWdlLnN0YXJ0VGltZSkge1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgY3VycmVudEVuZCA9IGNvbWJpbmVEYXRlVGltZShjdXJyZW50U3RhZ2UuZW5kRGF0ZSwgY3VycmVudFN0YWdlLmVuZFRpbWUpO1xyXG4gICAgY29uc3QgbmV4dFN0YXJ0ID0gY29tYmluZURhdGVUaW1lKG5leHRTdGFnZS5zdGFydERhdGUsIG5leHRTdGFnZS5zdGFydFRpbWUpO1xyXG4gICAgXHJcbiAgICBpZiAoY3VycmVudEVuZCAmJiBuZXh0U3RhcnQpIHtcclxuICAgICAgaWYgKG5ldyBEYXRlKGN1cnJlbnRFbmQpID4gbmV3IERhdGUobmV4dFN0YXJ0KSkge1xyXG4gICAgICAgIHRvYXN0LmVycm9yKGAke25leHRTdGFnZS5uYW1lfSBtdXN0IHN0YXJ0IGFmdGVyICR7Y3VycmVudFN0YWdlLm5hbWV9IGVuZHNgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5jb25zdCBoYXNDb21wbGV0ZURhdGEgPSAoc3Vic3RhZ2VzKSA9PiB7XHJcbiAgY29uc3QgaGFzQW55RGF0YSA9IHN1YnN0YWdlcy5zb21lKHN1YnN0YWdlID0+IFxyXG4gICAgc3Vic3RhZ2Uuc3RhcnREYXRlIHx8IHN1YnN0YWdlLnN0YXJ0VGltZSB8fCBzdWJzdGFnZS5lbmREYXRlIHx8IHN1YnN0YWdlLmVuZFRpbWUgfHwgXHJcbiAgICBzdWJzdGFnZS5tb2lzdHVyZSB8fCBzdWJzdGFnZS50ZW1wZXJhdHVyZSB8fCBzdWJzdGFnZS5yZW1hcmtzXHJcbiAgKTtcclxuICBcclxuICBpZiAoIWhhc0FueURhdGEpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgZm9yIChjb25zdCBzdWJzdGFnZSBvZiBzdWJzdGFnZXMpIHtcclxuICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgIXN1YnN0YWdlLnN0YXJ0VGltZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzdWJzdGFnZS5zdGFydFRpbWUgJiYgIXN1YnN0YWdlLnN0YXJ0RGF0ZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzdWJzdGFnZS5lbmREYXRlICYmICFzdWJzdGFnZS5lbmRUaW1lKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHN1YnN0YWdlLmVuZFRpbWUgJiYgIXN1YnN0YWdlLmVuZERhdGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IGNvbnZlcnRUb0FwaVBheWxvYWQgPSAoYmF0Y2gsIG1hdGVyaWFsVHlwZSwgaXNDb21wbGV0ZWQpID0+IHtcclxuICBjb25zdCBzdWJzdGFnZXMgPSBiYXRjaC5zdWJzdGFnZXM7XHJcblxyXG4gIGNvbnN0IGJ1bmtlcjEgPSBzdWJzdGFnZXNbMF0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIkJ1bmtlciBQcm9jZXNzIDFcIik7XHJcbiAgY29uc3QgYnVua2VyMVJlc3QgPSBzdWJzdGFnZXNbMV0gfHwgY3JlYXRlRW1wdHlTdWJzdGFnZShcIkJ1bmtlciBQcm9jZXNzIDEgUmVzdFwiKTtcclxuICBjb25zdCBidW5rZXIyID0gc3Vic3RhZ2VzWzJdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJCdW5rZXIgUHJvY2VzcyAyXCIpO1xyXG4gIGNvbnN0IGJ1bmtlcjJSZXN0ID0gc3Vic3RhZ2VzWzNdIHx8IGNyZWF0ZUVtcHR5U3Vic3RhZ2UoXCJCdW5rZXIgUHJvY2VzcyAyIFJlc3RcIik7XHJcbiAgY29uc3QgYnVua2VyMyA9IHN1YnN0YWdlc1s0XSB8fCBjcmVhdGVFbXB0eVN1YnN0YWdlKFwiQnVua2VyIFByb2Nlc3MgM1wiKTtcclxuICBjb25zdCBidW5rZXIzUmVzdCA9IHN1YnN0YWdlc1s1XSB8fCBjcmVhdGVFbXB0eVN1YnN0YWdlKFwiQnVua2VyIFByb2Nlc3MgMyBSZXN0XCIpO1xyXG5cclxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZm9ybWF0IGRhdGV0aW1lIHdpdGhvdXQgbWlsbGlzZWNvbmRzIGFuZCB0aW1lem9uZVxyXG4gIGNvbnN0IGZvcm1hdERhdGVUaW1lID0gKGRhdGVUaW1lU3RyKSA9PiB7XHJcbiAgICBpZiAoIWRhdGVUaW1lU3RyKSByZXR1cm4gbnVsbDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlVGltZVN0cik7XHJcbiAgICAgIGlmIChpc05hTihkYXRlLmdldFRpbWUoKSkpIHJldHVybiBudWxsO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgY29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICBjb25zdCBob3VycyA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcoZGF0ZS5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICAgIGNvbnN0IHNlY29uZHMgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9VCR7aG91cnN9OiR7bWludXRlc306JHtzZWNvbmRzfWA7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmb3JtYXR0aW5nIGRhdGV0aW1lOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gT25seSBjb21iaW5lIGRhdGVzIGlmIGJvdGggZGF0ZSBhbmQgdGltZSBleGlzdFxyXG4gIGNvbnN0IGJ1bmtlcjFfc3RhcnQgPSAoYnVua2VyMS5zdGFydERhdGUgJiYgYnVua2VyMS5zdGFydFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyMS5zdGFydERhdGUsIGJ1bmtlcjEuc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCBidW5rZXIxX2VuZCA9IChidW5rZXIxLmVuZERhdGUgJiYgYnVua2VyMS5lbmRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjEuZW5kRGF0ZSwgYnVua2VyMS5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBcclxuICBjb25zdCBidW5rZXIxX3Jlc3Rfc3RhcnQgPSAoYnVua2VyMVJlc3Quc3RhcnREYXRlICYmIGJ1bmtlcjFSZXN0LnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIxUmVzdC5zdGFydERhdGUsIGJ1bmtlcjFSZXN0LnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgYnVua2VyMV9yZXN0X2VuZCA9IChidW5rZXIxUmVzdC5lbmREYXRlICYmIGJ1bmtlcjFSZXN0LmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyMVJlc3QuZW5kRGF0ZSwgYnVua2VyMVJlc3QuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgXHJcbiAgY29uc3QgYnVua2VyMl9zdGFydCA9IChidW5rZXIyLnN0YXJ0RGF0ZSAmJiBidW5rZXIyLnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIyLnN0YXJ0RGF0ZSwgYnVua2VyMi5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IGJ1bmtlcjJfZW5kID0gKGJ1bmtlcjIuZW5kRGF0ZSAmJiBidW5rZXIyLmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyMi5lbmREYXRlLCBidW5rZXIyLmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIFxyXG4gIGNvbnN0IGJ1bmtlcjJfcmVzdF9zdGFydCA9IChidW5rZXIyUmVzdC5zdGFydERhdGUgJiYgYnVua2VyMlJlc3Quc3RhcnRUaW1lKSBcclxuICAgID8gY29tYmluZURhdGVUaW1lKGJ1bmtlcjJSZXN0LnN0YXJ0RGF0ZSwgYnVua2VyMlJlc3Quc3RhcnRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuICBjb25zdCBidW5rZXIyX3Jlc3RfZW5kID0gKGJ1bmtlcjJSZXN0LmVuZERhdGUgJiYgYnVua2VyMlJlc3QuZW5kVGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIyUmVzdC5lbmREYXRlLCBidW5rZXIyUmVzdC5lbmRUaW1lKSBcclxuICAgIDogbnVsbDtcclxuXHJcbiAgY29uc3QgYnVua2VyM19zdGFydCA9IChidW5rZXIzLnN0YXJ0RGF0ZSAmJiBidW5rZXIzLnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIzLnN0YXJ0RGF0ZSwgYnVua2VyMy5zdGFydFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG4gIGNvbnN0IGJ1bmtlcjNfZW5kID0gKGJ1bmtlcjMuZW5kRGF0ZSAmJiBidW5rZXIzLmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyMy5lbmREYXRlLCBidW5rZXIzLmVuZFRpbWUpIFxyXG4gICAgOiBudWxsO1xyXG5cclxuICBjb25zdCBidW5rZXIzX3Jlc3Rfc3RhcnQgPSAoYnVua2VyM1Jlc3Quc3RhcnREYXRlICYmIGJ1bmtlcjNSZXN0LnN0YXJ0VGltZSkgXHJcbiAgICA/IGNvbWJpbmVEYXRlVGltZShidW5rZXIzUmVzdC5zdGFydERhdGUsIGJ1bmtlcjNSZXN0LnN0YXJ0VGltZSkgXHJcbiAgICA6IG51bGw7XHJcbiAgY29uc3QgYnVua2VyM19yZXN0X2VuZCA9IChidW5rZXIzUmVzdC5lbmREYXRlICYmIGJ1bmtlcjNSZXN0LmVuZFRpbWUpIFxyXG4gICAgPyBjb21iaW5lRGF0ZVRpbWUoYnVua2VyM1Jlc3QuZW5kRGF0ZSwgYnVua2VyM1Jlc3QuZW5kVGltZSkgXHJcbiAgICA6IG51bGw7XHJcblxyXG4gIC8vIERldGVybWluZSBvdmVyYWxsIHN0YXJ0X3RpbWUgKGVhcmxpZXN0IHN0YXJ0IGFjcm9zcyBhbGwgc3RhZ2VzKVxyXG4gIGNvbnN0IGFsbFN0YXJ0cyA9IFtcclxuICAgIGJ1bmtlcjFfc3RhcnQsXHJcbiAgICBidW5rZXIxX3Jlc3Rfc3RhcnQsXHJcbiAgICBidW5rZXIyX3N0YXJ0LFxyXG4gICAgYnVua2VyMl9yZXN0X3N0YXJ0LFxyXG4gICAgYnVua2VyM19zdGFydCxcclxuICAgIGJ1bmtlcjNfcmVzdF9zdGFydFxyXG4gIF0uZmlsdGVyKHN0YXJ0ID0+IHN0YXJ0ICE9PSBudWxsKTtcclxuICBcclxuICBjb25zdCBvdmVyYWxsX3N0YXJ0X3RpbWUgPSBhbGxTdGFydHMubGVuZ3RoID4gMCBcclxuICAgID8gZm9ybWF0RGF0ZVRpbWUobmV3IERhdGUoTWF0aC5taW4oLi4uYWxsU3RhcnRzLm1hcChkID0+IG5ldyBEYXRlKGQpLmdldFRpbWUoKSkpKSlcclxuICAgIDogbnVsbDtcclxuXHJcbiAgLy8gRm9ybWF0IGFsbCBkYXRldGltZSBmaWVsZHMgdG8gbWF0Y2ggdGhlIGV4cGVjdGVkIGZvcm1hdFxyXG4gIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICBiYXRjaF9pZDogYmF0Y2guaWQsXHJcbiAgICBzdHJhd190eXBlOiBtYXRlcmlhbFR5cGUsXHJcbiAgICBzdGFydF90aW1lOiBvdmVyYWxsX3N0YXJ0X3RpbWUsXHJcbiAgICBpc2NvbXBsZXRlZDogaXNDb21wbGV0ZWQsXHJcbiAgICBidW5rZXJfcHJvY2VzczE6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMV9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIxX2VuZCksXHJcbiAgICAgIG1vaXN0dXJlOiBidW5rZXIxLm1vaXN0dXJlID8gcGFyc2VGbG9hdChidW5rZXIxLm1vaXN0dXJlKSA6IG51bGwsXHJcbiAgICAgIHRlbXBlcmF0dXJlOiBidW5rZXIxLnRlbXBlcmF0dXJlID8gcGFyc2VGbG9hdChidW5rZXIxLnRlbXBlcmF0dXJlKSA6IG51bGwsXHJcbiAgICAgIHJlbWFya3M6IGJ1bmtlcjEucmVtYXJrcyB8fCBudWxsXHJcbiAgICB9LFxyXG4gICAgYnVua2VyX3Byb2Nlc3MxX3Jlc3Q6IHtcclxuICAgICAgc3RhcnRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMV9yZXN0X3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjFfcmVzdF9lbmQpLFxyXG4gICAgICBtb2lzdHVyZTogYnVua2VyMVJlc3QubW9pc3R1cmUgPyBwYXJzZUZsb2F0KGJ1bmtlcjFSZXN0Lm1vaXN0dXJlKSA6IG51bGwsXHJcbiAgICAgIHRlbXBlcmF0dXJlOiBidW5rZXIxUmVzdC50ZW1wZXJhdHVyZSA/IHBhcnNlRmxvYXQoYnVua2VyMVJlc3QudGVtcGVyYXR1cmUpIDogbnVsbCxcclxuICAgICAgcmVtYXJrczogYnVua2VyMVJlc3QucmVtYXJrcyB8fCBudWxsXHJcbiAgICB9LFxyXG4gICAgYnVua2VyX3Byb2Nlc3MyOiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjJfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyMl9lbmQpLFxyXG4gICAgICBtb2lzdHVyZTogYnVua2VyMi5tb2lzdHVyZSA/IHBhcnNlRmxvYXQoYnVua2VyMi5tb2lzdHVyZSkgOiBudWxsLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogYnVua2VyMi50ZW1wZXJhdHVyZSA/IHBhcnNlRmxvYXQoYnVua2VyMi50ZW1wZXJhdHVyZSkgOiBudWxsLFxyXG4gICAgICByZW1hcmtzOiBidW5rZXIyLnJlbWFya3MgfHwgbnVsbFxyXG4gICAgfSxcclxuICAgIGJ1bmtlcl9wcm9jZXNzMl9yZXN0OiB7XHJcbiAgICAgIHN0YXJ0X3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjJfcmVzdF9zdGFydCksXHJcbiAgICAgIGVuZF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIyX3Jlc3RfZW5kKSxcclxuICAgICAgbW9pc3R1cmU6IGJ1bmtlcjJSZXN0Lm1vaXN0dXJlID8gcGFyc2VGbG9hdChidW5rZXIyUmVzdC5tb2lzdHVyZSkgOiBudWxsLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogYnVua2VyMlJlc3QudGVtcGVyYXR1cmUgPyBwYXJzZUZsb2F0KGJ1bmtlcjJSZXN0LnRlbXBlcmF0dXJlKSA6IG51bGwsXHJcbiAgICAgIHJlbWFya3M6IGJ1bmtlcjJSZXN0LnJlbWFya3MgfHwgbnVsbFxyXG4gICAgfSxcclxuICAgIGJ1bmtlcl9wcm9jZXNzMzoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIzX3N0YXJ0KSxcclxuICAgICAgZW5kX3RpbWU6IGZvcm1hdERhdGVUaW1lKGJ1bmtlcjNfZW5kKSxcclxuICAgICAgbW9pc3R1cmU6IGJ1bmtlcjMubW9pc3R1cmUgPyBwYXJzZUZsb2F0KGJ1bmtlcjMubW9pc3R1cmUpIDogbnVsbCxcclxuICAgICAgdGVtcGVyYXR1cmU6IGJ1bmtlcjMudGVtcGVyYXR1cmUgPyBwYXJzZUZsb2F0KGJ1bmtlcjMudGVtcGVyYXR1cmUpIDogbnVsbCxcclxuICAgICAgcmVtYXJrczogYnVua2VyMy5yZW1hcmtzIHx8IG51bGxcclxuICAgIH0sXHJcbiAgICBidW5rZXJfcHJvY2VzczNfcmVzdDoge1xyXG4gICAgICBzdGFydF90aW1lOiBmb3JtYXREYXRlVGltZShidW5rZXIzX3Jlc3Rfc3RhcnQpLFxyXG4gICAgICBlbmRfdGltZTogZm9ybWF0RGF0ZVRpbWUoYnVua2VyM19yZXN0X2VuZCksXHJcbiAgICAgIG1vaXN0dXJlOiBidW5rZXIzUmVzdC5tb2lzdHVyZSA/IHBhcnNlRmxvYXQoYnVua2VyM1Jlc3QubW9pc3R1cmUpIDogbnVsbCxcclxuICAgICAgdGVtcGVyYXR1cmU6IGJ1bmtlcjNSZXN0LnRlbXBlcmF0dXJlID8gcGFyc2VGbG9hdChidW5rZXIzUmVzdC50ZW1wZXJhdHVyZSkgOiBudWxsLFxyXG4gICAgICByZW1hcmtzOiBidW5rZXIzUmVzdC5yZW1hcmtzIHx8IG51bGxcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBSZW1vdmUgbnVsbCB2YWx1ZXMgYnV0IGtlZXAgdGhlIHN0cnVjdHVyZVxyXG4gIE9iamVjdC5rZXlzKHBheWxvYWQpLmZvckVhY2goa2V5ID0+IHtcclxuICAgIGlmIChwYXlsb2FkW2tleV0gPT09IG51bGwpIHtcclxuICAgICAgZGVsZXRlIHBheWxvYWRba2V5XTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBheWxvYWRba2V5XSA9PT0gJ29iamVjdCcgJiYgcGF5bG9hZFtrZXldICE9PSBudWxsICYmIGtleSAhPT0gJ2JhdGNoX2lkJyAmJiBrZXkgIT09ICdzdHJhd190eXBlJyAmJiBrZXkgIT09ICdpc2NvbXBsZXRlZCcpIHtcclxuICAgICAgLy8gUmVtb3ZlIG51bGwgZmllbGRzIGZyb20gbmVzdGVkIG9iamVjdHNcclxuICAgICAgT2JqZWN0LmtleXMocGF5bG9hZFtrZXldKS5mb3JFYWNoKHN1YktleSA9PiB7XHJcbiAgICAgICAgaWYgKHBheWxvYWRba2V5XVtzdWJLZXldID09PSBudWxsIHx8IHBheWxvYWRba2V5XVtzdWJLZXldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGRlbGV0ZSBwYXlsb2FkW2tleV1bc3ViS2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gSWYgbmVzdGVkIG9iamVjdCBoYXMgbm8gcHJvcGVydGllcyBsZWZ0LCByZW1vdmUgaXRcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBheWxvYWRba2V5XSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgZGVsZXRlIHBheWxvYWRba2V5XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb25zb2xlLmxvZyhg8J+TpiBHZW5lcmF0ZWQgcGF5bG9hZCBmb3IgJHtNQVRFUklBTF9ESVNQTEFZX05BTUVTW21hdGVyaWFsVHlwZV19OmAsIHBheWxvYWQpO1xyXG4gIHJldHVybiBwYXlsb2FkO1xyXG59O1xyXG5cclxuY29uc3QgY29udmVydEFwaVJlc3BvbnNlVG9VSSA9IChhcGlEYXRhLCBiYXRjaCkgPT4ge1xyXG4gIGlmICghYXBpRGF0YSB8fCAhQXJyYXkuaXNBcnJheShhcGlEYXRhKSkge1xyXG4gICAgY29uc29sZS5sb2coJ+KdjCBObyB2YWxpZCBBUEkgZGF0YSBhcnJheSB0byBjb252ZXJ0OicsIGFwaURhdGEpO1xyXG4gICAgcmV0dXJuIGJhdGNoO1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coJ/CflIQgQ29udmVydGluZyBBUEkgZGF0YSB0byBVSS4gRm91bmQgaXRlbXM6JywgYXBpRGF0YS5sZW5ndGgpO1xyXG5cclxuICAvLyBDcmVhdGUgYSBtYXAgdG8gc3RvcmUgZGF0YSBmb3IgZWFjaCBtYXRlcmlhbCB0eXBlXHJcbiAgY29uc3QgbWF0ZXJpYWxEYXRhTWFwID0ge307XHJcbiAgYXBpRGF0YS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgaWYgKGl0ZW0uc3RyYXdfdHlwZSkge1xyXG4gICAgICBtYXRlcmlhbERhdGFNYXBbaXRlbS5zdHJhd190eXBlXSA9IGl0ZW07XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnNvbGUubG9nKCfwn5OKIE1hdGVyaWFsIGRhdGEgbWFwOicsIE9iamVjdC5rZXlzKG1hdGVyaWFsRGF0YU1hcCkpO1xyXG5cclxuICAvLyBTaW5jZSB3ZSBoYXZlIG11bHRpcGxlIG1hdGVyaWFscyBidXQgb25lIHRhYmxlLCB3ZSdsbCBjb21iaW5lIGRhdGEgZnJvbSBhbGwgbWF0ZXJpYWxzXHJcbiAgLy8gRm9yIGZpZWxkcyB0aGF0IGV4aXN0IGluIG11bHRpcGxlIG1hdGVyaWFscywgd2UnbGwgdXNlIHRoZSBmaXJzdCBub24tbnVsbCB2YWx1ZVxyXG4gIFxyXG4gIGNvbnN0IHN1YnN0YWdlTWFwcGluZyA9IFtcclxuICAgIHsgaW5kZXg6IDAsIGZpZWxkOiAnYnVua2VyX3Byb2Nlc3MxJyB9LFxyXG4gICAgeyBpbmRleDogMSwgZmllbGQ6ICdidW5rZXJfcHJvY2VzczFfcmVzdCcgfSxcclxuICAgIHsgaW5kZXg6IDIsIGZpZWxkOiAnYnVua2VyX3Byb2Nlc3MyJyB9LFxyXG4gICAgeyBpbmRleDogMywgZmllbGQ6ICdidW5rZXJfcHJvY2VzczJfcmVzdCcgfSxcclxuICAgIHsgaW5kZXg6IDQsIGZpZWxkOiAnYnVua2VyX3Byb2Nlc3MzJyB9LFxyXG4gICAgeyBpbmRleDogNSwgZmllbGQ6ICdidW5rZXJfcHJvY2VzczNfcmVzdCcgfVxyXG4gIF07XHJcblxyXG4gIC8vIEZvciBlYWNoIHN1YnN0YWdlLCBjaGVjayBhbGwgbWF0ZXJpYWxzIGZvciBkYXRhXHJcbiAgc3Vic3RhZ2VNYXBwaW5nLmZvckVhY2goKHsgaW5kZXgsIGZpZWxkIH0pID0+IHtcclxuICAgIC8vIFRyeSBlYWNoIG1hdGVyaWFsIHR5cGUgaW4gb3JkZXJcclxuICAgIGZvciAoY29uc3QgbWF0ZXJpYWxUeXBlIG9mIGJhdGNoLm1hdGVyaWFsVHlwZXMpIHtcclxuICAgICAgY29uc3QgbWF0ZXJpYWxEYXRhID0gbWF0ZXJpYWxEYXRhTWFwW21hdGVyaWFsVHlwZV07XHJcbiAgICAgIGlmICghbWF0ZXJpYWxEYXRhKSBjb250aW51ZTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHN0YWdlRGF0YSA9IG1hdGVyaWFsRGF0YVtmaWVsZF07XHJcbiAgICAgIGlmIChzdGFnZURhdGEgJiYgYmF0Y2guc3Vic3RhZ2VzW2luZGV4XSkge1xyXG4gICAgICAgIC8vIE9ubHkgcG9wdWxhdGUgaWYgbm90IGFscmVhZHkgcG9wdWxhdGVkXHJcbiAgICAgICAgaWYgKCFiYXRjaC5zdWJzdGFnZXNbaW5kZXhdLnN0YXJ0RGF0ZSAmJiBzdGFnZURhdGEuc3RhcnRfdGltZSkge1xyXG4gICAgICAgICAgY29uc3QgeyBkYXRlLCB0aW1lIH0gPSBwYXJzZURhdGVUaW1lKHN0YWdlRGF0YS5zdGFydF90aW1lKTtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0uc3RhcnREYXRlID0gZGF0ZTtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0uc3RhcnRUaW1lID0gdGltZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFiYXRjaC5zdWJzdGFnZXNbaW5kZXhdLmVuZERhdGUgJiYgc3RhZ2VEYXRhLmVuZF90aW1lKSB7XHJcbiAgICAgICAgICBjb25zdCB7IGRhdGUsIHRpbWUgfSA9IHBhcnNlRGF0ZVRpbWUoc3RhZ2VEYXRhLmVuZF90aW1lKTtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0uZW5kRGF0ZSA9IGRhdGU7XHJcbiAgICAgICAgICBiYXRjaC5zdWJzdGFnZXNbaW5kZXhdLmVuZFRpbWUgPSB0aW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWJhdGNoLnN1YnN0YWdlc1tpbmRleF0udG90YWxIb3VycyAmJiBzdGFnZURhdGEuZHVyYXRpb25faG91cnMgIT09IHVuZGVmaW5lZCAmJiBzdGFnZURhdGEuZHVyYXRpb25faG91cnMgIT09IG51bGwpIHtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0udG90YWxIb3VycyA9IHN0YWdlRGF0YS5kdXJhdGlvbl9ob3Vycy50b0ZpeGVkKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWJhdGNoLnN1YnN0YWdlc1tpbmRleF0ubW9pc3R1cmUgJiYgc3RhZ2VEYXRhLm1vaXN0dXJlICE9PSB1bmRlZmluZWQgJiYgc3RhZ2VEYXRhLm1vaXN0dXJlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBiYXRjaC5zdWJzdGFnZXNbaW5kZXhdLm1vaXN0dXJlID0gc3RhZ2VEYXRhLm1vaXN0dXJlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghYmF0Y2guc3Vic3RhZ2VzW2luZGV4XS50ZW1wZXJhdHVyZSAmJiBzdGFnZURhdGEudGVtcGVyYXR1cmUgIT09IHVuZGVmaW5lZCAmJiBzdGFnZURhdGEudGVtcGVyYXR1cmUgIT09IG51bGwpIHtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0udGVtcGVyYXR1cmUgPSBzdGFnZURhdGEudGVtcGVyYXR1cmUudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFiYXRjaC5zdWJzdGFnZXNbaW5kZXhdLnJlbWFya3MgJiYgc3RhZ2VEYXRhLnJlbWFya3MpIHtcclxuICAgICAgICAgIGJhdGNoLnN1YnN0YWdlc1tpbmRleF0ucmVtYXJrcyA9IHN0YWdlRGF0YS5yZW1hcmtzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb25zb2xlLmxvZygn4pyFIEZpbmlzaGVkIGNvbnZlcnRpbmcgQVBJIGRhdGEgdG8gVUknKTtcclxuICByZXR1cm4gYmF0Y2g7XHJcbn07XHJcblxyXG5jb25zdCBzZW5kVG9BcGkgPSBhc3luYyAocGF5bG9hZCwgbWF0ZXJpYWxUeXBlLCBkaXNwbGF5TmFtZSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFQSV9FTkRQT0lOVCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGDwn5OlIFJFU1BPTlNFIGZvciAke2Rpc3BsYXlOYW1lfTogU3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGRldGFpbDogJ1Vua25vd24gZXJyb3InIH0pKTtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEFQSSBFcnJvciBSZXNwb25zZTonLCBlcnJvckRhdGEpO1xyXG4gICAgICBcclxuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWA7XHJcbiAgICAgIGlmIChlcnJvckRhdGEuZGV0YWlsKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBlcnJvckRhdGEuZGV0YWlsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmRldGFpbDtcclxuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZXJyb3JEYXRhLmRldGFpbCkpIHtcclxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5kZXRhaWwubWFwKGVyciA9PiBlcnIubXNnKS5qb2luKCcsICcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yRGF0YS5kZXRhaWwgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShlcnJvckRhdGEuZGV0YWlsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgU1VDQ0VTUyBmb3IgJHtkaXNwbGF5TmFtZX06YCwgcmVzdWx0KTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdCwgbWF0ZXJpYWxUeXBlLCBkaXNwbGF5TmFtZSB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGDinYwgRVJST1Igc2VuZGluZyAke2Rpc3BsYXlOYW1lfSBkYXRhOmAsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSwgbWF0ZXJpYWxUeXBlLCBkaXNwbGF5TmFtZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IEJ1bmtlclRhYmxlID0gUmVhY3QubWVtbygoeyBiYXRjaCwgb25VcGRhdGUsIHJlYWRPbmx5ID0gZmFsc2UgfSkgPT4ge1xyXG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVEYXRlUmFuZ2UgPSAoc3Vic3RhZ2UsIGZpZWxkLCBuZXdWYWx1ZSkgPT4ge1xyXG4gICAgaWYgKGZpZWxkID09PSAnc3RhcnREYXRlJyB8fCBmaWVsZCA9PT0gJ3N0YXJ0VGltZScpIHtcclxuICAgICAgaWYgKHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0YXJ0RGF0ZVRpbWUgPSBmaWVsZCA9PT0gJ3N0YXJ0RGF0ZScgXHJcbiAgICAgICAgICA/IGNvbWJpbmVEYXRlVGltZShuZXdWYWx1ZSwgc3Vic3RhZ2Uuc3RhcnRUaW1lKVxyXG4gICAgICAgICAgOiBjb21iaW5lRGF0ZVRpbWUoc3Vic3RhZ2Uuc3RhcnREYXRlLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBjb21iaW5lRGF0ZVRpbWUoc3Vic3RhZ2UuZW5kRGF0ZSwgc3Vic3RhZ2UuZW5kVGltZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG5ld1N0YXJ0RGF0ZVRpbWUgJiYgZW5kRGF0ZVRpbWUgJiYgbmV3IERhdGUobmV3U3RhcnREYXRlVGltZSkgPiBuZXcgRGF0ZShlbmREYXRlVGltZSkpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGAke3N1YnN0YWdlLm5hbWV9OiBTdGFydCBkYXRlL3RpbWUgY2Fubm90IGJlIGFmdGVyIGVuZCBkYXRlL3RpbWVgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoZmllbGQgPT09ICdlbmREYXRlJyB8fCBmaWVsZCA9PT0gJ2VuZFRpbWUnKSB7XHJcbiAgICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IGNvbWJpbmVEYXRlVGltZShzdWJzdGFnZS5zdGFydERhdGUsIHN1YnN0YWdlLnN0YXJ0VGltZSk7XHJcbiAgICAgICAgY29uc3QgbmV3RW5kRGF0ZVRpbWUgPSBmaWVsZCA9PT0gJ2VuZERhdGUnXHJcbiAgICAgICAgICA/IGNvbWJpbmVEYXRlVGltZShuZXdWYWx1ZSwgc3Vic3RhZ2UuZW5kVGltZSlcclxuICAgICAgICAgIDogY29tYmluZURhdGVUaW1lKHN1YnN0YWdlLmVuZERhdGUsIG5ld1ZhbHVlKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoc3RhcnREYXRlVGltZSAmJiBuZXdFbmREYXRlVGltZSAmJiBuZXcgRGF0ZShzdGFydERhdGVUaW1lKSA+IG5ldyBEYXRlKG5ld0VuZERhdGVUaW1lKSkge1xyXG4gICAgICAgICAgdG9hc3QuZXJyb3IoYCR7c3Vic3RhZ2UubmFtZX06IEVuZCBkYXRlL3RpbWUgY2Fubm90IGJlIGJlZm9yZSBzdGFydCBkYXRlL3RpbWVgKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldE1pbkVuZERhdGUgPSAoc3Vic3RhZ2UpID0+IHtcclxuICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUpIHtcclxuICAgICAgcmV0dXJuIHN1YnN0YWdlLnN0YXJ0RGF0ZTtcclxuICAgIH1cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0TWluRW5kVGltZSA9IChzdWJzdGFnZSkgPT4ge1xyXG4gICAgaWYgKHN1YnN0YWdlLnN0YXJ0RGF0ZSA9PT0gc3Vic3RhZ2UuZW5kRGF0ZSAmJiBzdWJzdGFnZS5zdGFydFRpbWUpIHtcclxuICAgICAgcmV0dXJuIHN1YnN0YWdlLnN0YXJ0VGltZTtcclxuICAgIH1cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoaW5kZXgsIGZpZWxkLCB2YWx1ZSkgPT4ge1xyXG4gICAgaWYgKHJlYWRPbmx5KSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IHVwZGF0ZWRCYXRjaCA9IHsgLi4uYmF0Y2ggfTtcclxuICAgIGNvbnN0IHN1YnN0YWdlID0gdXBkYXRlZEJhdGNoLnN1YnN0YWdlc1tpbmRleF07XHJcbiAgICBcclxuICAgIGlmIChmaWVsZCA9PT0gJ3N0YXJ0RGF0ZScgfHwgZmllbGQgPT09ICdzdGFydFRpbWUnIHx8IGZpZWxkID09PSAnZW5kRGF0ZScgfHwgZmllbGQgPT09ICdlbmRUaW1lJykge1xyXG4gICAgICBpZiAoIXZhbGlkYXRlRGF0ZVJhbmdlKHN1YnN0YWdlLCBmaWVsZCwgdmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN1YnN0YWdlW2ZpZWxkXSA9IHZhbHVlO1xyXG4gICAgXHJcbiAgICBpZiAoc3Vic3RhZ2Uuc3RhcnREYXRlICYmIHN1YnN0YWdlLnN0YXJ0VGltZSAmJiBzdWJzdGFnZS5lbmREYXRlICYmIHN1YnN0YWdlLmVuZFRpbWUpIHtcclxuICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGAke3N1YnN0YWdlLnN0YXJ0RGF0ZX1UJHtzdWJzdGFnZS5zdGFydFRpbWV9YCk7XHJcbiAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2UuZW5kRGF0ZX1UJHtzdWJzdGFnZS5lbmRUaW1lfWApO1xyXG4gICAgICBjb25zdCBkaWZmSG91cnMgPSAoZW5kRGF0ZVRpbWUgLSBzdGFydERhdGVUaW1lKSAvICgxMDAwICogNjAgKiA2MCk7XHJcbiAgICAgIHN1YnN0YWdlLnRvdGFsSG91cnMgPSBkaWZmSG91cnMudG9GaXhlZCgxKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25VcGRhdGUodXBkYXRlZEJhdGNoKTtcclxuICB9O1xyXG5cclxuICAvLyBHZXQgdGhlIGRpc3BsYXkgc3RyaW5nIGZvciBtYXRlcmlhbHNcclxuICBjb25zdCBnZXRNYXRlcmlhbHNEaXNwbGF5ID0gKCkgPT4ge1xyXG4gICAgaWYgKGJhdGNoLm1hdGVyaWFsRGlzcGxheU5hbWVzICYmIGJhdGNoLm1hdGVyaWFsRGlzcGxheU5hbWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgcmV0dXJuIGJhdGNoLm1hdGVyaWFsRGlzcGxheU5hbWVzLmpvaW4oJyArICcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICdCdW5rZXIgUHJvY2Vzcyc7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGUtc2VjdGlvblwiPlxyXG4gICAgICA8aDMgY2xhc3NOYW1lPVwidGFibGUtdGl0bGVcIj5CdW5rZXIgUHJvY2VzcyAtIHtnZXRNYXRlcmlhbHNEaXNwbGF5KCl9PC9oMz5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbnRyeS10YWJsZS1jb250YWluZXJcIj5cclxuICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiZW50cnktdGFibGUgdW5pZmllZC1wbGF0Zm9ybS10YWJsZVwiPlxyXG4gICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgPHRoIHJvd1NwYW49XCIyXCI+U3Vic3RhZ2U8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCBjb2xTcGFuPVwiMlwiPlN0YXJ0PC90aD5cclxuICAgICAgICAgICAgICA8dGggY29sU3Bhbj1cIjJcIj5FbmQ8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPlRvdGFsIEhvdXJzPC90aD5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5Nb2lzdHVyZSAoJSk8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCByb3dTcGFuPVwiMlwiPlRlbXBlcmF0dXJlICjCsEMpPC90aD5cclxuICAgICAgICAgICAgICA8dGggcm93U3Bhbj1cIjJcIj5SZW1hcmtzPC90aD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgIDx0aD5EYXRlPC90aD5cclxuICAgICAgICAgICAgICA8dGg+VGltZTwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoPkRhdGU8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aD5UaW1lPC90aD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgIHtiYXRjaC5zdWJzdGFnZXMubWFwKChzdWJzdGFnZSwgaW5kZXgpID0+IChcclxuICAgICAgICAgICAgICA8dHIga2V5PXtpbmRleH0+XHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwic3Vic3RhZ2UtbmFtZVwiPntzdWJzdGFnZS5uYW1lfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2Uuc3RhcnREYXRlIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdzdGFydERhdGUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtYXg9e3N1YnN0YWdlLmVuZERhdGUgfHwgdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRpbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5zdGFydFRpbWUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ3N0YXJ0VGltZScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1heD17c3Vic3RhZ2Uuc3RhcnREYXRlID09PSBzdWJzdGFnZS5lbmREYXRlID8gc3Vic3RhZ2UuZW5kVGltZSA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UuZW5kRGF0ZSB8fCAnJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGluZGV4LCAnZW5kRGF0ZScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj17Z2V0TWluRW5kRGF0ZShzdWJzdGFnZSl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLmVuZFRpbWUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ2VuZFRpbWUnLCBlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgICBtaW49e2dldE1pbkVuZFRpbWUoc3Vic3RhZ2UpfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS50b3RhbEhvdXJzIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtaW5wdXQgaG91cnMtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQXV0b1wiXHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3Vic3RhZ2UubW9pc3R1cmUgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgJ21vaXN0dXJlJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0IG1vaXN0dXJlLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIiVcIlxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxyXG4gICAgICAgICAgICAgICAgICAgIG1heD1cIjEwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YnN0YWdlLnRlbXBlcmF0dXJlIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICd0ZW1wZXJhdHVyZScsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1pbnB1dCB0ZW1wZXJhdHVyZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLCsENcIlxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxyXG4gICAgICAgICAgICAgICAgICAgIG1heD1cIjEwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3JlYWRPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdWJzdGFnZS5yZW1hcmtzIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsICdyZW1hcmtzJywgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLWlucHV0IHJlbWFya3MtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIHJlbWFya3MuLi5cIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyZWFkT25seX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSk7XHJcblxyXG5CdW5rZXJUYWJsZS5kaXNwbGF5TmFtZSA9ICdCdW5rZXJUYWJsZSc7XHJcblxyXG5mdW5jdGlvbiBCYXRjaFNlbGVjdGlvbih7IG9uU2VsZWN0QmF0Y2gsIGxvYWRpbmcsIGVycm9yLCBpbml0aWFsQmF0Y2hOdW1iZXIsIGluaXRpYWxCYXRjaElkIH0pIHtcclxuICBjb25zdCBbYmF0Y2hOdW1iZXIsIHNldEJhdGNoTnVtYmVyXSA9IHVzZVN0YXRlKGluaXRpYWxCYXRjaE51bWJlciB8fCAnJyk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KCk7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XHJcbiAgY29uc3QgaGFzTG9hZGVkUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gQXV0by1sb2FkIGJhdGNoIGlmIGluaXRpYWxCYXRjaE51bWJlciBpcyBwcm92aWRlZFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaW5pdGlhbEJhdGNoTnVtYmVyICYmICFoYXNMb2FkZWRSZWYuY3VycmVudCAmJiAhbG9hZGluZykge1xyXG4gICAgICBzZXRCYXRjaE51bWJlcihpbml0aWFsQmF0Y2hOdW1iZXIpO1xyXG4gICAgICBoYW5kbGVMb2FkQmF0Y2goaW5pdGlhbEJhdGNoTnVtYmVyLCBpbml0aWFsQmF0Y2hJZCk7XHJcbiAgICAgIGhhc0xvYWRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIH1cclxuICB9LCBbaW5pdGlhbEJhdGNoTnVtYmVyLCBpbml0aWFsQmF0Y2hJZCwgbG9hZGluZ10pO1xyXG5cclxuICBjb25zdCBnZXRNYXRlcmlhbHNGcm9tQmF0Y2ggPSAoYmF0Y2hEYXRhKSA9PiB7XHJcbiAgICBjb25zdCBtYXRlcmlhbHMgPSBuZXcgU2V0KCk7XHJcbiAgICBcclxuICAgIGlmIChiYXRjaERhdGEgJiYgYmF0Y2hEYXRhLmZvcm11bGF0aW9uX2VudHJpZXMpIHtcclxuICAgICAgYmF0Y2hEYXRhLmZvcm11bGF0aW9uX2VudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWxOYW1lID0gZW50cnkubmFtZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChNQVRFUklBTF9UWVBFU1ttYXRlcmlhbE5hbWVdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIG1hdGVyaWFscy5hZGQobWF0ZXJpYWxOYW1lKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OMIEZvdW5kIG1hdGVyaWFsOiAke21hdGVyaWFsTmFtZX0gLT4gJHtNQVRFUklBTF9UWVBFU1ttYXRlcmlhbE5hbWVdfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBBcnJheS5mcm9tKG1hdGVyaWFscyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTG9hZEJhdGNoID0gYXN5bmMgKGJhdGNoTnVtLCBiYXRjaElkKSA9PiB7XHJcbiAgICBpZiAoIWJhdGNoTnVtLnRyaW0oKSkge1xyXG4gICAgICB0b2FzdC5lcnJvcignUGxlYXNlIGVudGVyIGEgYmF0Y2ggbnVtYmVyJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coYPCflI0gRmV0Y2hpbmcgYmF0Y2ggZGV0YWlscyBmb3I6ICR7YmF0Y2hOdW19IHdpdGggSUQ6ICR7YmF0Y2hJZCB8fCAndW5rbm93bid9YCk7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgc2VsZWN0ZWRCYXRjaCA9IG51bGw7XHJcbiAgICAgIGxldCBiYXRjaElkVG9Vc2UgPSBiYXRjaElkO1xyXG4gICAgICBcclxuICAgICAgLy8gSWYgYmF0Y2hJZCBpcyBwcm92aWRlZCwgd2UgY2FuIHVzZSBpdCBkaXJlY3RseVxyXG4gICAgICBpZiAoYmF0Y2hJZFRvVXNlKSB7XHJcbiAgICAgICAgLy8gVHJ5IHRvIGZldGNoIGJhdGNoIGRldGFpbHMgdXNpbmcgSURcclxuICAgICAgICBjb25zdCBiYXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFUQ0hfRkVUQ0hfRU5EUE9JTlR9LyR7YmF0Y2hJZFRvVXNlfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChiYXRjaFJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICBjb25zdCBiYXRjaFJlc3VsdCA9IGF3YWl0IGJhdGNoUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgc2VsZWN0ZWRCYXRjaCA9IGJhdGNoUmVzdWx0LmRhdGEgfHwgYmF0Y2hSZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGZldGNoaW5nIGFsbCBiYXRjaGVzXHJcbiAgICAgICAgICBjb25zdCBhbGxCYXRjaGVzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChCQVRDSF9GRVRDSF9FTkRQT0lOVCk7XHJcbiAgICAgICAgICBpZiAoYWxsQmF0Y2hlc1Jlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFsbEJhdGNoZXNSZXN1bHQgPSBhd2FpdCBhbGxCYXRjaGVzUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICBsZXQgYmF0Y2hlcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhbGxCYXRjaGVzUmVzdWx0KSkge1xyXG4gICAgICAgICAgICAgIGJhdGNoZXMgPSBhbGxCYXRjaGVzUmVzdWx0O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsbEJhdGNoZXNSZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgIGJhdGNoZXMgPSBhbGxCYXRjaGVzUmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZWN0ZWRCYXRjaCA9IGJhdGNoZXMuZmluZChiID0+IGIuaWQgPT09IGJhdGNoSWRUb1VzZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIE5vIGJhdGNoSWQgcHJvdmlkZWQsIGZldGNoIGJ5IGJhdGNoIG51bWJlclxyXG4gICAgICAgIGNvbnN0IGJhdGNoUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChCQVRDSF9GRVRDSF9FTkRQT0lOVCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFiYXRjaFJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBiYXRjaGVzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJhdGNoUmVzdWx0ID0gYXdhaXQgYmF0Y2hSZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGJhdGNoZXMgPSBbXTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShiYXRjaFJlc3VsdCkpIHtcclxuICAgICAgICAgIGJhdGNoZXMgPSBiYXRjaFJlc3VsdDtcclxuICAgICAgICB9IGVsc2UgaWYgKGJhdGNoUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgIGJhdGNoZXMgPSBiYXRjaFJlc3VsdC5kYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZWN0ZWRCYXRjaCA9IGJhdGNoZXMuZmluZChiID0+IGIuYmF0Y2hfbnVtYmVyID09PSBiYXRjaE51bS50cmltKCkpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNlbGVjdGVkQmF0Y2gpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcignQmF0Y2ggbnVtYmVyIG5vdCBmb3VuZCcpO1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEZvdW5kIGJhdGNoOicsIHNlbGVjdGVkQmF0Y2gpO1xyXG5cclxuICAgICAgY29uc3QgbWF0ZXJpYWxzID0gZ2V0TWF0ZXJpYWxzRnJvbUJhdGNoKHNlbGVjdGVkQmF0Y2gpO1xyXG5cclxuICAgICAgaWYgKG1hdGVyaWFscy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0b2FzdC5lcnJvcignTm8gc3VpdGFibGUgbWF0ZXJpYWxzIChCYWdhc3NlLCBXaGVhdCBTdHJhdywgb3IgUGFkZHkgU3RyYXcpIGZvdW5kIGluIHRoaXMgYmF0Y2gnKTtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCfk4sgTWF0ZXJpYWxzIHRvIHByb2Nlc3M6YCwgbWF0ZXJpYWxzKTtcclxuXHJcbiAgICAgIGNvbnN0IG5ld0JhdGNoID0gY3JlYXRlRW1wdHlCYXRjaChiYXRjaE51bSwgbWF0ZXJpYWxzLCBzZWxlY3RlZEJhdGNoLmlkKTtcclxuICAgICAgbmV3QmF0Y2guYmF0Y2hEYXRhID0gc2VsZWN0ZWRCYXRjaDtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIEZldGNoaW5nIGJ1bmtlciBkYXRhIGZvciBiYXRjaCBJRDonLCBzZWxlY3RlZEJhdGNoLmlkKTtcclxuICAgICAgY29uc3Qgc3RyYXdEYXRhUmVzdWx0ID0gYXdhaXQgZmV0Y2hCYXRjaERhdGEoc2VsZWN0ZWRCYXRjaC5pZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoc3RyYXdEYXRhUmVzdWx0LnN1Y2Nlc3MgJiYgc3RyYXdEYXRhUmVzdWx0LmRhdGEgJiYgc3RyYXdEYXRhUmVzdWx0LmRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OmIFJhdyBBUEkgZGF0YTonLCBzdHJhd0RhdGFSZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgY29uc3QgcG9wdWxhdGVkQmF0Y2ggPSBjb252ZXJ0QXBpUmVzcG9uc2VUb1VJKHN0cmF3RGF0YVJlc3VsdC5kYXRhLCBuZXdCYXRjaCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBQb3B1bGF0ZWQgYmF0Y2g6JywgcG9wdWxhdGVkQmF0Y2gpO1xyXG4gICAgICAgIG9uU2VsZWN0QmF0Y2gocG9wdWxhdGVkQmF0Y2gpO1xyXG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYExvYWRlZCBiYXRjaCAke2JhdGNoTnVtfSB3aXRoIGV4aXN0aW5nIGRhdGEgKCR7bWF0ZXJpYWxzLmxlbmd0aH0gbWF0ZXJpYWwke21hdGVyaWFscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9KWApO1xyXG4gICAgICB9IGVsc2UgaWYgKHN0cmF3RGF0YVJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgb25TZWxlY3RCYXRjaChuZXdCYXRjaCk7XHJcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19ICgke21hdGVyaWFscy5sZW5ndGh9IG1hdGVyaWFsJHttYXRlcmlhbHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSAtIG5vIGV4aXN0aW5nIGRhdGEpYCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9hc3Qud2FybmluZyhgTG9hZGVkIGJhdGNoICR7YmF0Y2hOdW19IGJ1dCBmYWlsZWQgdG8gZmV0Y2ggZXhpc3RpbmcgZGF0YWApO1xyXG4gICAgICAgIG9uU2VsZWN0QmF0Y2gobmV3QmF0Y2gpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBsb2FkaW5nIGJhdGNoOicsIGVycik7XHJcbiAgICAgIHRvYXN0LmVycm9yKCdFcnJvciBsb2FkaW5nIGJhdGNoIGRldGFpbHMuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU5ldyA9ICgpID0+IHtcclxuICAgIGlmIChpc0xvYWRpbmcgfHwgbG9hZGluZykgcmV0dXJuO1xyXG4gICAgaGFuZGxlTG9hZEJhdGNoKGJhdGNoTnVtYmVyKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiYXRjaC1zZWxlY3Rpb25cIj5cclxuICAgICAgPGgyPkJ1bmtlciBNYW5hZ2VtZW50IFByb2Nlc3MgRW50cnk8L2gyPlxyXG4gICAgICBcclxuICAgICAge2Vycm9yICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj5cclxuICAgICAgICAgIEVycm9yOiB7ZXJyb3J9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdGlvbi1wYW5lbFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LWJhdGNoLXNlY3Rpb25cIj5cclxuICAgICAgICAgIDxoMz5FbnRlciBCYXRjaCBOdW1iZXI8L2gzPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYXRjaC1pbnB1dC1ncm91cFwiPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBCYXRjaCBOdW1iZXIgKGUuZy4sIEJBVENILTAwMSlcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXtiYXRjaE51bWJlcn1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEJhdGNoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiYXRjaC1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBsb2FkaW5nfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNyZWF0ZU5ld30gXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgbG9hZGluZ31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtpc0xvYWRpbmcgfHwgbG9hZGluZyA/ICdMb2FkaW5nLi4uJyA6ICdMb2FkIEJhdGNoJ31cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBCdW5rZXJNYW5hZ2VtZW50Q29udGVudCgpIHtcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KCk7XHJcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XHJcbiAgY29uc3QgW2N1cnJlbnRCYXRjaCwgc2V0Q3VycmVudEJhdGNoXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtpbml0aWFsQmF0Y2hOdW1iZXIsIHNldEluaXRpYWxCYXRjaE51bWJlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbaW5pdGlhbEJhdGNoSWQsIHNldEluaXRpYWxCYXRjaElkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IGlzU2F2aW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gR2V0IGJhdGNoIG51bWJlciBhbmQgSUQgZnJvbSBVUkwgcGFyYW1zXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGJhdGNoTnVtID0gc2VhcmNoUGFyYW1zLmdldCgnYmF0Y2gnKTtcclxuICAgIGNvbnN0IGJhdGNoSWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdiYXRjaElkJyk7XHJcbiAgICBcclxuICAgIGlmIChiYXRjaE51bSkge1xyXG4gICAgICBzZXRJbml0aWFsQmF0Y2hOdW1iZXIoYmF0Y2hOdW0pO1xyXG4gICAgICBzZXRJbml0aWFsQmF0Y2hJZChiYXRjaElkKTtcclxuICAgIH1cclxuICB9LCBbc2VhcmNoUGFyYW1zXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNlbGVjdEJhdGNoID0gKGJhdGNoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFNldHRpbmcgY3VycmVudCBiYXRjaDonLCBiYXRjaCk7XHJcbiAgICBzZXRDdXJyZW50QmF0Y2goYmF0Y2gpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVVwZGF0ZUJhdGNoID0gdXNlQ2FsbGJhY2soKHVwZGF0ZWRCYXRjaCkgPT4ge1xyXG4gICAgc2V0Q3VycmVudEJhdGNoKHVwZGF0ZWRCYXRjaCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCB2YWxpZGF0ZUJhdGNoRGF0YSA9IChiYXRjaCkgPT4ge1xyXG4gICAgLy8gVmFsaWRhdGUgc3RhZ2Ugc2VxdWVuY2luZ1xyXG4gICAgaWYgKCF2YWxpZGF0ZVN0YWdlU2VxdWVuY2luZyhiYXRjaC5zdWJzdGFnZXMsIHRvYXN0KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFZhbGlkYXRlIGVhY2ggc3Vic3RhZ2VcclxuICAgIGZvciAoY29uc3Qgc3Vic3RhZ2Ugb2YgYmF0Y2guc3Vic3RhZ2VzKSB7XHJcbiAgICAgIGlmIChzdWJzdGFnZS5zdGFydERhdGUgJiYgc3Vic3RhZ2Uuc3RhcnRUaW1lICYmIHN1YnN0YWdlLmVuZERhdGUgJiYgc3Vic3RhZ2UuZW5kVGltZSkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZShgJHtzdWJzdGFnZS5zdGFydERhdGV9VCR7c3Vic3RhZ2Uuc3RhcnRUaW1lfWApO1xyXG4gICAgICAgIGNvbnN0IGVuZERhdGVUaW1lID0gbmV3IERhdGUoYCR7c3Vic3RhZ2UuZW5kRGF0ZX1UJHtzdWJzdGFnZS5lbmRUaW1lfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChzdGFydERhdGVUaW1lID4gZW5kRGF0ZVRpbWUpIHtcclxuICAgICAgICAgIHRvYXN0LmVycm9yKGAke3N1YnN0YWdlLm5hbWV9OiBFbmQgZGF0ZS90aW1lIGNhbm5vdCBiZSBiZWZvcmUgc3RhcnQgZGF0ZS90aW1lYCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoKHN1YnN0YWdlLnN0YXJ0RGF0ZSB8fCBzdWJzdGFnZS5zdGFydFRpbWUpICYmICghc3Vic3RhZ2Uuc3RhcnREYXRlIHx8ICFzdWJzdGFnZS5zdGFydFRpbWUpKSB7XHJcbiAgICAgICAgdG9hc3QuZXJyb3IoYFBsZWFzZSBjb21wbGV0ZSBib3RoIGRhdGUgYW5kIHRpbWUgZm9yICR7c3Vic3RhZ2UubmFtZX0gc3RhcnRgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKChzdWJzdGFnZS5lbmREYXRlIHx8IHN1YnN0YWdlLmVuZFRpbWUpICYmICghc3Vic3RhZ2UuZW5kRGF0ZSB8fCAhc3Vic3RhZ2UuZW5kVGltZSkpIHtcclxuICAgICAgICB0b2FzdC5lcnJvcihgUGxlYXNlIGNvbXBsZXRlIGJvdGggZGF0ZSBhbmQgdGltZSBmb3IgJHtzdWJzdGFnZS5uYW1lfSBlbmRgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2F2ZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghY3VycmVudEJhdGNoIHx8IGlzU2F2aW5nUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ1xcbj09PT09PT09PT0g8J+agCBTQVZFIFNUQVJURUQgPT09PT09PT09PScpO1xyXG4gICAgY29uc29sZS5sb2coYEJhdGNoOiAke2N1cnJlbnRCYXRjaC5iYXRjaE51bWJlcn0gKElEOiAke2N1cnJlbnRCYXRjaC5pZH0pYCk7XHJcbiAgICBjb25zb2xlLmxvZyhgTWF0ZXJpYWxzOiAke2N1cnJlbnRCYXRjaC5tYXRlcmlhbERpc3BsYXlOYW1lcz8uam9pbignLCAnKSB8fCAnVW5rbm93bid9YCk7XHJcblxyXG4gICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICAgIGxldCBoYXNBbnlEYXRhVG9TYXZlID0gZmFsc2U7XHJcbiAgICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xyXG4gICAgICBsZXQgZmFpbENvdW50ID0gMDtcclxuICAgICAgXHJcbiAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgZGF0YSB0byBzYXZlXHJcbiAgICAgIGlmICghaGFzQ29tcGxldGVEYXRhKGN1cnJlbnRCYXRjaC5zdWJzdGFnZXMpKSB7XHJcbiAgICAgICAgdG9hc3QuaW5mbygnTm8gY29tcGxldGUgZGF0YSB0byBzYXZlLiBQbGVhc2UgZmlsbCBpbiBhbGwgcmVxdWlyZWQgZmllbGRzLicpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGlzU2F2aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFZhbGlkYXRlIGJhdGNoIGRhdGEgYmVmb3JlIHNhdmluZ1xyXG4gICAgICBpZiAoIXZhbGlkYXRlQmF0Y2hEYXRhKGN1cnJlbnRCYXRjaCkpIHtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBpc1NhdmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTYXZlIGZvciBlYWNoIG1hdGVyaWFsIHR5cGUgaW4gdGhlIGJhdGNoXHJcbiAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWxUeXBlIG9mIGN1cnJlbnRCYXRjaC5tYXRlcmlhbFR5cGVzKSB7XHJcbiAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBNQVRFUklBTF9ESVNQTEFZX05BTUVTW21hdGVyaWFsVHlwZV07XHJcbiAgICAgICAgY29uc29sZS5sb2coYFxcbi0tLSDwn5OdIFByb2Nlc3NpbmcgbWF0ZXJpYWw6ICR7ZGlzcGxheU5hbWV9IC0tLWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBjb252ZXJ0VG9BcGlQYXlsb2FkKGN1cnJlbnRCYXRjaCwgbWF0ZXJpYWxUeXBlLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKHBheWxvYWQpIHtcclxuICAgICAgICAgIGhhc0FueURhdGFUb1NhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk6QgTWFraW5nIEFQSSBjYWxsIGZvciAke2Rpc3BsYXlOYW1lfWApO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kVG9BcGkocGF5bG9hZCwgbWF0ZXJpYWxUeXBlLCBkaXNwbGF5TmFtZSk7XHJcbiAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xyXG4gICAgICAgICAgICB0b2FzdC5zdWNjZXNzKGAke2Rpc3BsYXlOYW1lfSBkYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseSFgKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZhaWxDb3VudCsrO1xyXG4gICAgICAgICAgICB0b2FzdC5lcnJvcihgRmFpbGVkIHRvIHNhdmUgJHtkaXNwbGF5TmFtZX0gZGF0YTogJHtyZXN1bHQuZXJyb3J9YCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnXFxuPT09PT09PT09PSDwn5OKIFNBVkUgU1VNTUFSWSA9PT09PT09PT09Jyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBUb3RhbCBBUEkgY2FsbHMgYXR0ZW1wdGVkOiAke3Jlc3VsdHMubGVuZ3RofWApO1xyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFN1Y2Nlc3NmdWw6ICR7c3VjY2Vzc0NvdW50fWApO1xyXG4gICAgICBjb25zb2xlLmxvZyhg4p2MIEZhaWxlZDogJHtmYWlsQ291bnR9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFxuJyk7XHJcblxyXG4gICAgICBpZiAoIWhhc0FueURhdGFUb1NhdmUpIHtcclxuICAgICAgICB0b2FzdC5pbmZvKCdObyBkYXRhIHRvIHNhdmUuJyk7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgYWxsU3VjY2VzcyA9IHJlc3VsdHMuZXZlcnkociA9PiByLnN1Y2Nlc3MpO1xyXG4gICAgICBpZiAoYWxsU3VjY2Vzcykge1xyXG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYEFsbCAke3N1Y2Nlc3NDb3VudH0gbWF0ZXJpYWwgZGF0YSBzYXZlZCBzdWNjZXNzZnVsbHkhYCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9hc3Qud2FybmluZyhgJHtzdWNjZXNzQ291bnR9IG1hdGVyaWFsKHMpIHNhdmVkIHN1Y2Nlc3NmdWxseSwgJHtmYWlsQ291bnR9IGZhaWxlZGApO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0b2FzdC5lcnJvcignRmFpbGVkIHRvIHNhdmUgYmF0Y2ggZGF0YScpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU2F2ZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaXNTYXZpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVCYWNrVG9TZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAvLyBDbGVhciB0aGUgY3VycmVudCBiYXRjaCB0byBzaG93IHRoZSBzZWxlY3Rpb24gVUlcclxuICAgIHNldEN1cnJlbnRCYXRjaChudWxsKTtcclxuICAgIC8vIENsZWFyIFVSTCBwYXJhbXMgd2hlbiBnb2luZyBiYWNrXHJcbiAgICByb3V0ZXIucHVzaCgnL2J1bmtlci1tYW5hZ2VtZW50Jyk7XHJcbiAgICAvLyBDbGVhciBhbnkgc2F2ZWQgc3RhdGVcclxuICAgIHNldEVycm9yKG51bGwpO1xyXG4gICAgLy8gUmVzZXQgdGhlIGluaXRpYWwgYmF0Y2ggbnVtYmVyIHN0YXRlIGlmIG5lZWRlZFxyXG4gICAgc2V0SW5pdGlhbEJhdGNoTnVtYmVyKG51bGwpO1xyXG4gICAgc2V0SW5pdGlhbEJhdGNoSWQobnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKCFjdXJyZW50QmF0Y2gpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxBcHBMYXlvdXQgdGl0bGU9XCJCdW5rZXIgTWFuYWdlbWVudFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidW5pZmllZC1wbGF0Zm9ybS1jb250YWluZXJcIj5cclxuICAgICAgICAgIDxCYXRjaFNlbGVjdGlvbiBcclxuICAgICAgICAgICAgb25TZWxlY3RCYXRjaD17aGFuZGxlU2VsZWN0QmF0Y2h9XHJcbiAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgIGVycm9yPXtlcnJvcn1cclxuICAgICAgICAgICAgaW5pdGlhbEJhdGNoTnVtYmVyPXtpbml0aWFsQmF0Y2hOdW1iZXJ9XHJcbiAgICAgICAgICAgIGluaXRpYWxCYXRjaElkPXtpbml0aWFsQmF0Y2hJZH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvQXBwTGF5b3V0PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG1hdGVyaWFsc0Rpc3BsYXkgPSBjdXJyZW50QmF0Y2gubWF0ZXJpYWxEaXNwbGF5TmFtZXM/LmpvaW4oJyArICcpIHx8ICdVbmtub3duJztcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxBcHBMYXlvdXQgdGl0bGU9XCJCdW5rZXIgTWFuYWdlbWVudFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVuaWZpZWQtcGxhdGZvcm0tY29udGFpbmVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbnRyeS1oZWFkZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWxlZnRcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVCYWNrVG9TZWxlY3Rpb259IGNsYXNzTmFtZT1cImJhY2stYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgPEFycm93QmFja0ljb24vPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGgyPntjdXJyZW50QmF0Y2guYmF0Y2hOdW1iZXJ9PC9oMj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtY291bnRcIj5cclxuICAgICAgICAgICAgICAoe21hdGVyaWFsc0Rpc3BsYXl9KVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWFjdGlvbnNcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlfSBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tc2F2ZVwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJzbWFsbFwiIC8+XHJcbiAgICAgICAgICAgICAge2xvYWRpbmcgPyAnU2F2aW5nLi4uJyA6ICdTYXZlJ31cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIFNpbmdsZSB0YWJsZSBmb3IgYWxsIG1hdGVyaWFscyAqL31cclxuICAgICAgICA8QnVua2VyVGFibGUgXHJcbiAgICAgICAgICBiYXRjaD17Y3VycmVudEJhdGNofVxyXG4gICAgICAgICAgb25VcGRhdGU9e2hhbmRsZVVwZGF0ZUJhdGNofVxyXG4gICAgICAgICAgcmVhZE9ubHk9e2ZhbHNlfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9BcHBMYXlvdXQ+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQnVua2VyTWFuYWdlbWVudCgpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPFRvYXN0UHJvdmlkZXI+XHJcbiAgICAgIDxCdW5rZXJNYW5hZ2VtZW50Q29udGVudCAvPlxyXG4gICAgPC9Ub2FzdFByb3ZpZGVyPlxyXG4gICk7XHJcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXNlUm91dGVyIiwidXNlU2VhcmNoUGFyYW1zIiwiQXBwTGF5b3V0IiwiVG9hc3RQcm92aWRlciIsInVzZVRvYXN0IiwiU2F2ZUljb24iLCJBcnJvd0ZvcndhcmRJY29uIiwiQXJyb3dCYWNrSWNvbiIsIk1BVEVSSUFMX1RZUEVTIiwiTUFURVJJQUxfRElTUExBWV9OQU1FUyIsIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiQVBJX0VORFBPSU5UIiwiQVBJX0ZFVENIX0VORFBPSU5UIiwiQkFUQ0hfRkVUQ0hfRU5EUE9JTlQiLCJTVEFHRV9OQU1FUyIsImNyZWF0ZUVtcHR5U3Vic3RhZ2UiLCJuYW1lIiwic3RhcnREYXRlIiwic3RhcnRUaW1lIiwiZW5kRGF0ZSIsImVuZFRpbWUiLCJ0b3RhbEhvdXJzIiwibW9pc3R1cmUiLCJ0ZW1wZXJhdHVyZSIsInJlbWFya3MiLCJjcmVhdGVFbXB0eUJhdGNoIiwiYmF0Y2hOdW1iZXIiLCJtYXRlcmlhbHMiLCJiYXRjaElkIiwibWF0ZXJpYWxUeXBlcyIsIm1hcCIsIm0iLCJmaWx0ZXIiLCJCb29sZWFuIiwibWF0ZXJpYWxEaXNwbGF5TmFtZXMiLCJ0IiwiYmF0Y2giLCJpZCIsIkRhdGUiLCJub3ciLCJiYXRjaERhdGEiLCJleGlzdGluZ1JlY29yZHMiLCJzdWJzdGFnZXMiLCJwYXJzZURhdGVUaW1lIiwiZGF0ZXRpbWUiLCJkYXRlIiwidGltZSIsImlzTmFOIiwiZ2V0VGltZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiU3RyaW5nIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsImRheSIsImdldERhdGUiLCJob3VycyIsImdldEhvdXJzIiwibWludXRlcyIsImdldE1pbnV0ZXMiLCJlcnJvciIsImNvbnNvbGUiLCJmZXRjaEJhdGNoRGF0YSIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInN0YXR1cyIsInN1Y2Nlc3MiLCJkYXRhIiwiRXJyb3IiLCJyZXNwb25zZURhdGEiLCJqc29uIiwiaXRlbXMiLCJBcnJheSIsImlzQXJyYXkiLCJtZXNzYWdlIiwiZmV0Y2hCYXRjaERldGFpbHMiLCJjb21iaW5lRGF0ZVRpbWUiLCJkYXRlVGltZVN0ciIsInRvSVNPU3RyaW5nIiwiaGFzU3Vic3RhZ2VEYXRhIiwic3Vic3RhZ2UiLCJ2YWxpZGF0ZVN0YWdlU2VxdWVuY2luZyIsInRvYXN0IiwiaSIsImxlbmd0aCIsImN1cnJlbnRTdGFnZSIsIm5leHRTdGFnZSIsImN1cnJlbnRFbmQiLCJuZXh0U3RhcnQiLCJoYXNDb21wbGV0ZURhdGEiLCJoYXNBbnlEYXRhIiwic29tZSIsImNvbnZlcnRUb0FwaVBheWxvYWQiLCJtYXRlcmlhbFR5cGUiLCJpc0NvbXBsZXRlZCIsImJ1bmtlcjEiLCJidW5rZXIxUmVzdCIsImJ1bmtlcjIiLCJidW5rZXIyUmVzdCIsImJ1bmtlcjMiLCJidW5rZXIzUmVzdCIsImZvcm1hdERhdGVUaW1lIiwic2Vjb25kcyIsImdldFNlY29uZHMiLCJidW5rZXIxX3N0YXJ0IiwiYnVua2VyMV9lbmQiLCJidW5rZXIxX3Jlc3Rfc3RhcnQiLCJidW5rZXIxX3Jlc3RfZW5kIiwiYnVua2VyMl9zdGFydCIsImJ1bmtlcjJfZW5kIiwiYnVua2VyMl9yZXN0X3N0YXJ0IiwiYnVua2VyMl9yZXN0X2VuZCIsImJ1bmtlcjNfc3RhcnQiLCJidW5rZXIzX2VuZCIsImJ1bmtlcjNfcmVzdF9zdGFydCIsImJ1bmtlcjNfcmVzdF9lbmQiLCJhbGxTdGFydHMiLCJzdGFydCIsIm92ZXJhbGxfc3RhcnRfdGltZSIsIk1hdGgiLCJtaW4iLCJkIiwicGF5bG9hZCIsImJhdGNoX2lkIiwic3RyYXdfdHlwZSIsInN0YXJ0X3RpbWUiLCJpc2NvbXBsZXRlZCIsImJ1bmtlcl9wcm9jZXNzMSIsImVuZF90aW1lIiwicGFyc2VGbG9hdCIsImJ1bmtlcl9wcm9jZXNzMV9yZXN0IiwiYnVua2VyX3Byb2Nlc3MyIiwiYnVua2VyX3Byb2Nlc3MyX3Jlc3QiLCJidW5rZXJfcHJvY2VzczMiLCJidW5rZXJfcHJvY2VzczNfcmVzdCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic3ViS2V5IiwidW5kZWZpbmVkIiwibG9nIiwiY29udmVydEFwaVJlc3BvbnNlVG9VSSIsImFwaURhdGEiLCJtYXRlcmlhbERhdGFNYXAiLCJpdGVtIiwic3Vic3RhZ2VNYXBwaW5nIiwiaW5kZXgiLCJmaWVsZCIsIm1hdGVyaWFsRGF0YSIsInN0YWdlRGF0YSIsImR1cmF0aW9uX2hvdXJzIiwidG9GaXhlZCIsInRvU3RyaW5nIiwic2VuZFRvQXBpIiwiZGlzcGxheU5hbWUiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvckRhdGEiLCJjYXRjaCIsImRldGFpbCIsImVycm9yTWVzc2FnZSIsImVyciIsIm1zZyIsImpvaW4iLCJyZXN1bHQiLCJCdW5rZXJUYWJsZSIsIm1lbW8iLCJvblVwZGF0ZSIsInJlYWRPbmx5IiwidmFsaWRhdGVEYXRlUmFuZ2UiLCJuZXdWYWx1ZSIsIm5ld1N0YXJ0RGF0ZVRpbWUiLCJlbmREYXRlVGltZSIsInN0YXJ0RGF0ZVRpbWUiLCJuZXdFbmREYXRlVGltZSIsImdldE1pbkVuZERhdGUiLCJnZXRNaW5FbmRUaW1lIiwiaGFuZGxlSW5wdXRDaGFuZ2UiLCJ2YWx1ZSIsInVwZGF0ZWRCYXRjaCIsImRpZmZIb3VycyIsImdldE1hdGVyaWFsc0Rpc3BsYXkiLCJkaXYiLCJjbGFzc05hbWUiLCJoMyIsInRhYmxlIiwidGhlYWQiLCJ0ciIsInRoIiwicm93U3BhbiIsImNvbFNwYW4iLCJ0Ym9keSIsInRkIiwiaW5wdXQiLCJ0eXBlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJtYXgiLCJwbGFjZWhvbGRlciIsInN0ZXAiLCJCYXRjaFNlbGVjdGlvbiIsIm9uU2VsZWN0QmF0Y2giLCJsb2FkaW5nIiwiaW5pdGlhbEJhdGNoTnVtYmVyIiwiaW5pdGlhbEJhdGNoSWQiLCJzZXRCYXRjaE51bWJlciIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsInJvdXRlciIsInNlYXJjaFBhcmFtcyIsImhhc0xvYWRlZFJlZiIsImN1cnJlbnQiLCJoYW5kbGVMb2FkQmF0Y2giLCJnZXRNYXRlcmlhbHNGcm9tQmF0Y2giLCJTZXQiLCJmb3JtdWxhdGlvbl9lbnRyaWVzIiwiZW50cnkiLCJtYXRlcmlhbE5hbWUiLCJ0b1VwcGVyQ2FzZSIsImFkZCIsImZyb20iLCJiYXRjaE51bSIsInRyaW0iLCJzZWxlY3RlZEJhdGNoIiwiYmF0Y2hJZFRvVXNlIiwiYmF0Y2hSZXNwb25zZSIsImJhdGNoUmVzdWx0IiwiYWxsQmF0Y2hlc1Jlc3BvbnNlIiwiYWxsQmF0Y2hlc1Jlc3VsdCIsImJhdGNoZXMiLCJmaW5kIiwiYiIsImJhdGNoX251bWJlciIsIm5ld0JhdGNoIiwic3RyYXdEYXRhUmVzdWx0IiwicG9wdWxhdGVkQmF0Y2giLCJ3YXJuaW5nIiwiaGFuZGxlQ3JlYXRlTmV3IiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwiQnVua2VyTWFuYWdlbWVudENvbnRlbnQiLCJjdXJyZW50QmF0Y2giLCJzZXRDdXJyZW50QmF0Y2giLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJzZXRJbml0aWFsQmF0Y2hOdW1iZXIiLCJzZXRJbml0aWFsQmF0Y2hJZCIsImlzU2F2aW5nUmVmIiwiZ2V0IiwiaGFuZGxlU2VsZWN0QmF0Y2giLCJoYW5kbGVVcGRhdGVCYXRjaCIsInZhbGlkYXRlQmF0Y2hEYXRhIiwiaGFuZGxlU2F2ZSIsInJlc3VsdHMiLCJoYXNBbnlEYXRhVG9TYXZlIiwic3VjY2Vzc0NvdW50IiwiZmFpbENvdW50IiwiaW5mbyIsInB1c2giLCJhbGxTdWNjZXNzIiwiZXZlcnkiLCJyIiwic2V0VGltZW91dCIsImhhbmRsZUJhY2tUb1NlbGVjdGlvbiIsInRpdGxlIiwibWF0ZXJpYWxzRGlzcGxheSIsInNwYW4iLCJmb250U2l6ZSIsIkJ1bmtlck1hbmFnZW1lbnQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(pages)/bunker-management/page.jsx\n"));

/***/ })

});